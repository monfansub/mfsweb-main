import{r as e,aE as t,aF as n,aG as r,aH as o,aI as i,aJ as a,aK as l,aL as s,aM as u,aN as c,aO as d,aP as f,aQ as g,aR as p,aS as h,aT as m,ag as v,aU as y,_,aV as E,aW as b,aX as x,X as C,aY as w,j as N,aZ as T,D as S,F as k,u as A,a_ as O,ai as R,C as I,ad as D,l as M,ae as L,T as P,ac as $,d as F,a$ as B,e as K,I as z,b0 as V,b1 as W,b as H}from"./index-MWypOFGL.js";import{c as U,I as j}from"./ImageUploader-krvGO7J7.js";import{C as Y}from"./Captcha-cYoTsqdM.js";const G=["top","right","bottom","left"],Z=Math.min,J=Math.max,q=Math.round,X=Math.floor,Q=e=>({x:e,y:e}),ee={left:"right",right:"left",bottom:"top",top:"bottom"},te={start:"end",end:"start"};function ne(e,t,n){return J(e,Z(t,n))}function re(e,t){return"function"==typeof e?e(t):e}function oe(e){return e.split("-")[0]}function ie(e){return e.split("-")[1]}function ae(e){return"x"===e?"y":"x"}function le(e){return"y"===e?"height":"width"}function se(e){return["top","bottom"].includes(oe(e))?"y":"x"}function ue(e){return ae(se(e))}function ce(e){return e.replace(/start|end/g,(e=>te[e]))}function de(e){return e.replace(/left|right|bottom|top/g,(e=>ee[e]))}function fe(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function ge(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function pe(e,t,n){let{reference:r,floating:o}=e;const i=se(t),a=ue(t),l=le(a),s=oe(t),u="y"===i,c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let g;switch(s){case"top":g={x:c,y:r.y-o.height};break;case"bottom":g={x:c,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-o.width,y:d};break;default:g={x:r.x,y:r.y}}switch(ie(t)){case"start":g[a]-=f*(n&&u?-1:1);break;case"end":g[a]+=f*(n&&u?-1:1)}return g}async function he(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:g=0}=re(t,e),p=fe(g),h=l[f?"floating"===d?"reference":"floating":d],m=ge(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(h)))||n?h:h.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),v="floating"===d?{...a.floating,x:r,y:o}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),_=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},E=ge(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:s}):v);return{top:(m.top-E.top+p.top)/_.y,bottom:(E.bottom-m.bottom+p.bottom)/_.y,left:(m.left-E.left+p.left)/_.x,right:(E.right-m.right+p.right)/_.x}}function me(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ve(e){return G.some((t=>e[t]>=0))}const ye=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,s=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=oe(n),l=ie(n),s="y"===se(n),u=["left","top"].includes(a)?-1:1,c=i&&s?-1:1,d=re(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&"number"==typeof p&&(g="end"===l?-1*p:p),s?{x:g*c,y:f*u}:{x:f*u,y:g*c}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}};function _e(e){return xe(e)?(e.nodeName||"").toLowerCase():"#document"}function Ee(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function be(e){var t;return null==(t=(xe(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function xe(e){return e instanceof Node||e instanceof Ee(e).Node}function Ce(e){return e instanceof Element||e instanceof Ee(e).Element}function we(e){return e instanceof HTMLElement||e instanceof Ee(e).HTMLElement}function Ne(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Ee(e).ShadowRoot)}function Te(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Re(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Se(e){return["table","td","th"].includes(_e(e))}function ke(e){const t=Ae(),n=Re(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Ae(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Oe(e){return["html","body","#document"].includes(_e(e))}function Re(e){return Ee(e).getComputedStyle(e)}function Ie(e){return Ce(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function De(e){if("html"===_e(e))return e;const t=e.assignedSlot||e.parentNode||Ne(e)&&e.host||be(e);return Ne(t)?t.host:t}function Me(e){const t=De(e);return Oe(t)?e.ownerDocument?e.ownerDocument.body:e.body:we(t)&&Te(t)?t:Me(t)}function Le(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Me(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Ee(o);return i?t.concat(a,a.visualViewport||[],Te(o)?o:[],a.frameElement&&n?Le(a.frameElement):[]):t.concat(o,Le(o,[],n))}function Pe(e){const t=Re(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=we(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=q(n)!==i||q(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function $e(e){return Ce(e)?e:e.contextElement}function Fe(e){const t=$e(e);if(!we(t))return Q(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Pe(t);let a=(i?q(n.width):n.width)/r,l=(i?q(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const Be=Q(0);function Ke(e){const t=Ee(e);return Ae()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Be}function ze(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=$e(e);let a=Q(1);t&&(r?Ce(r)&&(a=Fe(r)):a=Fe(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ee(e))&&t}(i,n,r)?Ke(i):Q(0);let s=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){const e=Ee(i),t=r&&Ce(r)?Ee(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=Fe(n),t=n.getBoundingClientRect(),r=Re(n),o=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;s*=e.x,u*=e.y,c*=e.x,d*=e.y,s+=o,u+=i,n=Ee(n).frameElement}}return ge({width:c,height:d,x:s,y:u})}function Ve(e){return ze(be(e)).left+Ie(e).scrollLeft}function We(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ee(e),r=be(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;const e=Ae();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:l,y:s}}(e,n);else if("document"===t)r=function(e){const t=be(e),n=Ie(e),r=e.ownerDocument.body,o=J(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=J(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ve(e);const l=-n.scrollTop;return"rtl"===Re(r).direction&&(a+=J(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}(be(e));else if(Ce(t))r=function(e,t){const n=ze(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=we(e)?Fe(e):Q(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Ke(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return ge(r)}function He(e,t){const n=De(e);return!(n===t||!Ce(n)||Oe(n))&&("fixed"===Re(n).position||He(n,t))}function Ue(e,t,n){const r=we(t),o=be(t),i="fixed"===n,a=ze(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const s=Q(0);if(r||!r&&!i)if(("body"!==_e(t)||Te(o))&&(l=Ie(t)),r){const e=ze(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=Ve(o));return{x:a.left+l.scrollLeft-s.x,y:a.top+l.scrollTop-s.y,width:a.width,height:a.height}}function je(e,t){return we(e)&&"fixed"!==Re(e).position?t?t(e):e.offsetParent:null}function Ye(e,t){const n=Ee(e);if(!we(e))return n;let r=je(e,t);for(;r&&Se(r)&&"static"===Re(r).position;)r=je(r,t);return r&&("html"===_e(r)||"body"===_e(r)&&"static"===Re(r).position&&!ke(r))?n:r||function(e){let t=De(e);for(;we(t)&&!Oe(t);){if(ke(t))return t;t=De(t)}return null}(e)||n}const Ge={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=we(n),i=be(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0},l=Q(1);const s=Q(0);if((o||!o&&"fixed"!==r)&&(("body"!==_e(n)||Te(i))&&(a=Ie(n)),we(n))){const e=ze(n);l=Fe(n),s.x=e.x+n.clientLeft,s.y=e.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-a.scrollLeft*l.x+s.x,y:t.y*l.y-a.scrollTop*l.y+s.y}},getDocumentElement:be,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=Le(e,[],!1).filter((e=>Ce(e)&&"body"!==_e(e))),o=null;const i="fixed"===Re(e).position;let a=i?De(e):e;for(;Ce(a)&&!Oe(a);){const t=Re(a),n=ke(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Te(a)&&!n&&He(e,a))?r=r.filter((e=>e!==a)):o=t,a=De(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=i[0],l=i.reduce(((e,n)=>{const r=We(t,n,o);return e.top=J(r.top,e.top),e.right=Z(r.right,e.right),e.bottom=Z(r.bottom,e.bottom),e.left=J(r.left,e.left),e}),We(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Ye,getElementRects:async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Ye,i=this.getDimensions;return{reference:Ue(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Pe(e);return{width:t,height:n}},getScale:Fe,isElement:Ce,isRTL:function(e){return"rtl"===Re(e).direction}};function Ze(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=r,u=$e(e),c=o||i?[...u?Le(u):[],...Le(t)]:[];c.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=u&&l?function(e,t){let n,r=null;const o=be(e);function i(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),i();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(l||t(),!d||!f)return;const g={rootMargin:-X(c)+"px "+-X(o.clientWidth-(u+d))+"px "+-X(o.clientHeight-(c+f))+"px "+-X(u)+"px",threshold:J(0,Z(1,s))||1};let p=!0;function h(e){const t=e[0].intersectionRatio;if(t!==s){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}p=!1}try{r=new IntersectionObserver(h,{...g,root:o.ownerDocument})}catch(m){r=new IntersectionObserver(h,g)}r.observe(e)}(!0),i}(u,n):null;let f,g=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{p&&p.observe(t)}))),n()})),u&&!s&&p.observe(u),p.observe(t));let h=s?ze(e):null;return s&&function t(){const r=ze(e);!h||r.x===h.x&&r.y===h.y&&r.width===h.width&&r.height===h.height||n();h=r,f=requestAnimationFrame(t)}(),n(),()=>{c.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),d&&d(),p&&p.disconnect(),p=null,s&&cancelAnimationFrame(f)}}const Je=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=re(e,t),u={x:n,y:r},c=await he(t,s),d=se(oe(o)),f=ae(d);let g=u[f],p=u[d];if(i){const e="y"===f?"bottom":"right";g=ne(g+c["y"===f?"top":"left"],g,g-c[e])}if(a){const e="y"===d?"bottom":"right";p=ne(p+c["y"===d?"top":"left"],p,p-c[e])}const h=l.fn({...t,[f]:g,[d]:p});return{...h,data:{x:h.x-n,y:h.y-r}}}}},qe=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...m}=re(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=oe(o),y=oe(l)===l,_=await(null==s.isRTL?void 0:s.isRTL(u.floating)),E=f||(y||!h?[de(l)]:function(e){const t=de(e);return[ce(e),t,ce(t)]}(l));f||"none"===p||E.push(...function(e,t,n,r){const o=ie(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(oe(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(ce)))),i}(l,h,p,_));const b=[l,...E],x=await he(t,m),C=[];let w=(null==(r=i.flip)?void 0:r.overflows)||[];if(c&&C.push(x[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=ie(e),o=ue(e),i=le(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=de(a)),[a,de(a)]}(o,a,_);C.push(x[e[0]],x[e[1]])}if(w=[...w,{placement:o,overflows:C}],!C.every((e=>e<=0))){var N,T;const e=((null==(N=i.flip)?void 0:N.index)||0)+1,t=b[e];if(t)return{data:{index:e,overflows:w},reset:{placement:t}};let n=null==(T=w.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(g){case"bestFit":{var S;const e=null==(S=w.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:S[0];e&&(n=e);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},Xe=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a=(()=>{}),...l}=re(e,t),s=await he(t,l),u=oe(n),c=ie(n),d="y"===se(n),{width:f,height:g}=r.floating;let p,h;"top"===u||"bottom"===u?(p=u,h=c===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(h=u,p="end"===c?"top":"bottom");const m=g-s[p],v=f-s[h],y=!t.middlewareData.shift;let _=m,E=v;if(d){const e=f-s.left-s.right;E=c||y?Z(v,e):e}else{const e=g-s.top-s.bottom;_=c||y?Z(m,e):e}if(y&&!c){const e=J(s.left,0),t=J(s.right,0),n=J(s.top,0),r=J(s.bottom,0);d?E=f-2*(0!==e||0!==t?e+t:J(s.left,s.right)):_=g-2*(0!==n||0!==r?n+r:J(s.top,s.bottom))}await a({...t,availableWidth:E,availableHeight:_});const b=await o.getDimensions(i.floating);return f!==b.width||g!==b.height?{reset:{rects:!0}}:{}}}},Qe=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=re(e,t);switch(r){case"referenceHidden":{const e=me(await he(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ve(e)}}}case"escaped":{const e=me(await he(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:ve(e)}}}default:return{}}}}},et=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:l,middlewareData:s}=t,{element:u,padding:c=0}=re(e,t)||{};if(null==u)return{};const d=fe(c),f={x:n,y:r},g=ue(o),p=le(g),h=await a.getDimensions(u),m="y"===g,v=m?"top":"left",y=m?"bottom":"right",_=m?"clientHeight":"clientWidth",E=i.reference[p]+i.reference[g]-f[g]-i.floating[p],b=f[g]-i.reference[g],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let C=x?x[_]:0;C&&await(null==a.isElement?void 0:a.isElement(x))||(C=l.floating[_]||i.floating[p]);const w=E/2-b/2,N=C/2-h[p]/2-1,T=Z(d[v],N),S=Z(d[y],N),k=T,A=C-h[p]-S,O=C/2-h[p]/2+w,R=ne(k,O,A),I=!s.arrow&&null!=ie(o)&&O!=R&&i.reference[p]/2-(O<k?T:S)-h[p]/2<0,D=I?O<k?O-k:O-A:0;return{[g]:f[g]+D,data:{[g]:R,centerOffset:O-R-D,...I&&{alignmentOffset:D}},reset:I}}}),tt=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:s=!0,crossAxis:u=!0}=re(e,t),c={x:n,y:r},d=se(o),f=ae(d);let g=c[f],p=c[d];const h=re(l,t),m="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(s){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+m.mainAxis,n=i.reference[f]+i.reference[e]-m.mainAxis;g<t?g=t:g>n&&(g=n)}if(u){var v,y;const e="y"===f?"width":"height",t=["top","left"].includes(oe(o)),n=i.reference[d]-i.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:m.crossAxis),r=i.reference[d]+i.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?m.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:g,[d]:p}}}},nt=(e,t,n)=>{const r=new Map,o={platform:Ge,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=pe(u,r,s),f=r,g={},p=0;for(let h=0;h<l.length;h++){const{name:n,fn:i}=l[h],{x:m,y:v,data:y,reset:_}=await i({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=v?v:d,g={...g,[n]:{...g[n],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(f=_.placement),_.rects&&(u=!0===_.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):_.rects),({x:c,y:d}=pe(u,f,s))),h=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:g}})(e,t,{...o,platform:i})},rt=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?et({element:n.current,padding:r}).fn(t):{}:n?et({element:n,padding:r}).fn(t):{};var o}});var ot="undefined"!=typeof document?e.useLayoutEffect:e.useEffect;function it(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!it(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!it(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function at(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lt(e,t){const n=at(e);return Math.round(t*n)/n}function st(t){const n=e.useRef(t);return ot((()=>{n.current=t})),n}function ut(n){void 0===n&&(n={});const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:s}={},transform:u=!0,whileElementsMounted:c,open:d}=n,[f,g]=e.useState({x:0,y:0,strategy:o,placement:r,middlewareData:{},isPositioned:!1}),[p,h]=e.useState(i);it(p,i)||h(i);const[m,v]=e.useState(null),[y,_]=e.useState(null),E=e.useCallback((e=>{e!==w.current&&(w.current=e,v(e))}),[]),b=e.useCallback((e=>{e!==N.current&&(N.current=e,_(e))}),[]),x=l||m,C=s||y,w=e.useRef(null),N=e.useRef(null),T=e.useRef(f),S=null!=c,k=st(c),A=st(a),O=e.useCallback((()=>{if(!w.current||!N.current)return;const e={placement:r,strategy:o,middleware:p};A.current&&(e.platform=A.current),nt(w.current,N.current,e).then((e=>{const n={...e,isPositioned:!0};R.current&&!it(T.current,n)&&(T.current=n,t.flushSync((()=>{g(n)})))}))}),[p,r,o,A]);ot((()=>{!1===d&&T.current.isPositioned&&(T.current.isPositioned=!1,g((e=>({...e,isPositioned:!1}))))}),[d]);const R=e.useRef(!1);ot((()=>(R.current=!0,()=>{R.current=!1})),[]),ot((()=>{if(x&&(w.current=x),C&&(N.current=C),x&&C){if(k.current)return k.current(x,C,O);O()}}),[x,C,O,k,S]);const I=e.useMemo((()=>({reference:w,floating:N,setReference:E,setFloating:b})),[E,b]),D=e.useMemo((()=>({reference:x,floating:C})),[x,C]),M=e.useMemo((()=>{const e={position:o,left:0,top:0};if(!D.floating)return e;const t=lt(D.floating,f.x),n=lt(D.floating,f.y);return u?{...e,transform:"translate("+t+"px, "+n+"px)",...at(D.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:t,top:n}}),[o,u,D.floating,f.x,f.y]);return e.useMemo((()=>({...f,update:O,refs:I,elements:D,floatingStyles:M})),[f,O,I,D,M])}var ct={},dt={},ft=e;let gt=ft.createContext(null);dt.LexicalComposerContext=gt,dt.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},dt.useLexicalComposerContext=function(){let e=ft.useContext(gt);return null==e&&function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e};var pt=dt,ht={},mt={},vt={},yt={};let _t={},Et={},bt={},xt={},Ct={},wt={},Nt={},Tt={},St={},kt={},At={},Ot={},Rt={},It={},Dt={},Mt={},Lt={},Pt={},$t={},Ft={},Bt={},Kt={},zt={},Vt={},Wt={},Ht={},Ut={},jt={},Yt={},Gt={},Zt={},Jt={},qt={},Xt={},Qt={},en={};function tn(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let nn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,rn=nn&&"documentMode"in document?document.documentMode:null,on=nn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),an=nn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ln=!(!nn||!("InputEvent"in window)||rn)&&"getTargetRanges"in new window.InputEvent("input"),sn=nn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),un=nn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,cn=nn&&/Android/.test(navigator.userAgent),dn=nn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),fn=nn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!dn,gn=sn||un||fn?" ":"​",pn=an?" ":gn,hn=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,mn=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,vn={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},yn={directionless:1,unmergeable:2},_n={center:2,end:6,justify:4,left:1,right:3,start:5},En={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},bn={normal:0,segmented:2,token:1},xn={0:"normal",2:"segmented",1:"token"},Cn=!1,wn=0;function Nn(e){wn=e.timeStamp}function Tn(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function Sn(e,t,n){Cn=!0;let r=100<performance.now()-wn;try{Gi(e,(()=>{let o=bi()||function(e){return e.getEditorState().read((()=>{let e=bi();return null!==e?e.clone():null}))}(e);var i=new Map,a=e.getRootElement(),l=e._editorState,s=e._blockCursorElement;let u=!1,c="";for(var d=0;d<t.length;d++){var f=t[d],g=f.type,p=f.target,h=Jn(p,l);if(!(null===h&&p!==a||Ji(h)))if("characterData"===g){if(f=r&&Zo(h))e:{g=p;var m=h;if(li(f=o)){var v=f.anchor.getNode();if(v.is(m)&&f.format!==v.getFormat()){f=!1;break e}}f=3===g.nodeType&&m.isAttached()}f&&(g=f=null,null!==(m=wr(e._window))&&m.anchorNode===p&&(f=m.anchorOffset,g=m.focusOffset),null!==(p=p.nodeValue)&&ar(h,p,f,g,!1))}else if("childList"===g){for(u=!0,g=f.addedNodes,m=0;m<g.length;m++){var y=Zn(v=g[m]),_=v.parentNode;null==_||v===s||null!==y||"BR"===v.nodeName&&Tn(v,_,e)||(an&&(y=v.innerText||v.nodeValue)&&(c+=y),_.removeChild(v))}if(0<(g=(f=f.removedNodes).length)){for(m=0,v=0;v<g;v++)("BR"===(_=f[v]).nodeName&&Tn(_,p,e)||s===_)&&(p.appendChild(_),m++);g!==m&&(p===a&&(h=l._nodeMap.get("root")),i.set(p,h))}}}if(0<i.size)for(let[t,n]of i)if(Xi(n))for(i=n.getChildrenKeys(),a=t.firstChild,l=0;l<i.length;l++)null!==(s=e.getElementByKey(i[l]))&&(null==a?(t.appendChild(s),a=s):a!==s&&t.replaceChild(s,a),a=a.nextSibling);else Zo(n)&&n.markDirty();if(0<(i=n.takeRecords()).length){for(a=0;a<i.length;a++)for(l=(s=i[a]).addedNodes,s=s.target,d=0;d<l.length;d++)null==(p=(h=l[d]).parentNode)||"BR"!==h.nodeName||Tn(h,s,e)||p.removeChild(h);n.takeRecords()}null!==o&&(u&&(o.dirty=!0,er(o)),an&&dr(e)&&o.insertRawText(c))}))}finally{Cn=!1}}function kn(e){let t=e._observer;if(null!==t){Sn(e,t.takeRecords(),t)}}function An(e){0===wn&&mr(e).addEventListener("textInput",Nn,!0),e._observer=new MutationObserver(((t,n)=>{Sn(e,t,n)}))}function On(e,t){let n=e.__mode,r=e.__format;e=e.__style;let o=t.__mode,i=t.__format;return t=t.__style,!(null!==n&&n!==o||null!==r&&r!==i||null!==e&&e!==t)}function Rn(e,t){let n=e.mergeWithSibling(t),r=Bi()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function In(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&Zo(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){On(t,e)&&(e=Rn(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&Zo(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){On(e,n)&&Rn(e,n);break}n.remove()}}}function Dn(e){return Mn(e.anchor),Mn(e.focus),e}function Mn(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),Zo(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!Xi(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let Ln=1,Pn="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function $n(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return Ji(Jn(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function Fn(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!$n(t)&&Bn(t)===e}catch(o){return!1}}function Bn(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=pr(e)}return null}function Kn(e){return e.isToken()||e.isSegmented()}function zn(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function Vn(e,t,n){let r=vn[t];return null!==n&&(e&r)==(n&r)||(e^=r,"subscript"===t?e&=~vn.superscript:"superscript"===t&&(e&=~vn.subscript)),e}function Wn(e,t){if(null!=t)e.__key=t;else{$i(),99<Mi&&tn(14),t=Bi();var n=Fi(),r=""+Ln++;n._nodeMap.set(r,e),Xi(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function Hn(e){var t=e.getParent();if(null!==t){let o=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;o.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,o.__next=null),t.__size--,o.__parent=null}}function Un(e){99<Mi&&tn(14);var t=e.getLatest(),n=t.__parent,r=Fi();let o=Bi(),i=r._nodeMap;if(r=o._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){let e=i.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,o._dirtyType=1,Xi(e)?r.set(t,!0):o._dirtyLeaves.add(t)}function jn(e){$i();var t=Bi();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=Gn(n))&&t.getWritable()),null!==e&&(null!==(e=Gn(e))&&e.getWritable()))}function Yn(){return Pi()?null:Bi()._compositionKey}function Gn(e,t){return void 0===(e=(t||Fi())._nodeMap.get(e))?null:e}function Zn(e,t){return void 0!==(e=e[`__lexicalKey_${Bi()._key}`])?Gn(e,t):null}function Jn(e,t){for(;null!=e;){let n=Zn(e,t);if(null!==n)return n;e=pr(e)}return null}function qn(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function Xn(e){return e.read((()=>Qn().getTextContent()))}function Qn(){return Fi()._nodeMap.get("root")}function er(e){$i();let t=Fi();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function tr(e){var t,n=Bi();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=pr(t)}t=null}return null===t?e===(n=n.getRootElement())?Gn("root"):null:Gn(t)}function nr(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function rr(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function or(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ir(e,t,n){if(null!==(t=wr(t._window))){var r=t.anchorNode,{anchorOffset:o,focusOffset:i}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=Jn(r),null!==t&&Zo(r))){if(t===gn&&n){t=n,i=o=n.length}null!==t&&ar(r,t,o,i,e)}}}function ar(e,t,n,r,o){let i=e;if(i.isAttached()&&(o||!i.isDirty())){let u=i.isComposing(),c=t;if((u||o)&&t[t.length-1]===gn&&(c=t.slice(0,-1)),t=i.getTextContent(),o||c!==t)if(""===c)if(jn(null),sn||un||fn)i.remove();else{let e=Bi();setTimeout((()=>{e.update((()=>{i.isAttached()&&i.remove()}))}),20)}else{o=i.getParent(),t=xi();var a=i.getTextContentSize(),l=Yn(),s=i.getKey();i.isToken()||null!==l&&s===l&&!u||li(t)&&(null!==o&&!o.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!i.canInsertTextBefore()&&!u||t.focus.key===e.__key&&t.focus.offset===a&&!i.canInsertTextAfter()&&!u)?i.markDirty():(li(e=bi())&&null!==n&&null!==r&&(e.setTextNodeRange(i,n,i,r),i.isSegmented()&&(n=Go(n=i.getTextContent()),i.replace(n),i=n)),i.setTextContent(c))}}}function lr(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];return void 0!==r?r:"string"==typeof(e=e[t])?(e=e.split(" "),n[t]=e):e}function sr(e,t,n,r,o){0!==n.size&&(n=r.__type,r=r.__key,void 0===(t=t.get(n))&&tn(33,n),n=t.klass,void 0===(t=e.get(n))&&(t=new Map,e.set(n,t)),n="destroyed"===(e=t.get(r))&&"created"===o,(void 0===e||n)&&t.set(r,n?"updated":o))}function ur(e,t,n){let r=e.getParent(),o=n;return null!==r&&(t&&0===n?(o=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(o=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?o-1:o)}function cr(e,t){var n=e.offset;return"element"===e.type?ur(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?ur(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function dr(e){return"insertFromPaste"===(e=(e=mr(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function fr(e){return!ta(e)&&!e.isLastChild()&&!e.isInline()}function gr(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&tn(75,t),e}function pr(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function hr(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function mr(e){return null===(e=e._window)&&tn(78),e}function vr(e){for(e=e.getParentOrThrow();null!==e&&!yr(e);)e=e.getParentOrThrow();return e}function yr(e){return ta(e)||Xi(e)&&e.isShadowRoot()}function _r(e){return Wn(e=e.constructor.clone(e),null),e}function Er(e){var t=Bi();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&tn(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||tn(98),t):e}function br(e,t){!ta(e=e.getParent())||Xi(t)||Ji(t)||tn(99)}function xr(e){return(Ji(e)||Xi(e)&&!e.canBeEmpty())&&!e.isInline()}function Cr(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function wr(e){return nn?(e||window).getSelection():null}function Nr(e,t){for(;e!==Qn()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function Tr(e){return 1===e.nodeType}function Sr(e){if(Ji(e)&&!e.isInline())return!0;if(!Xi(e)||yr(e))return!1;var t=e.getFirstChild();return t=null===t||Do(t)||Zo(t)||t.isInline(),!e.isInline()&&!1!==e.canBeEmpty()&&t}function kr(e,t){for(;null!==e&&null!==e.getParent()&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}function Ar(e,t,n,r,o,i){for(e=e.getFirstChild();null!==e;){let a=e.__key;e.__parent===t&&(Xi(e)&&Ar(e,a,n,r,o,i),n.has(a)||i.delete(a),o.push(a)),e=e.getNextSibling()}}let Or,Rr,Ir,Dr,Mr,Lr,Pr,$r,Fr,Br,Kr="",zr="",Vr="",Wr=!1,Hr=!1,Ur=null;function jr(e,t){let n=Pr.get(e);if(null!==t){let n=ao(e);n.parentNode===t&&t.removeChild(n)}$r.has(e)||Rr._keyToDOMMap.delete(e),Xi(n)&&Yr(e=no(n,Pr),0,e.length-1,null),void 0!==n&&sr(Br,Ir,Dr,n,"destroyed")}function Yr(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&jr(n,r)}}function Gr(e,t){e.setProperty("text-align",t)}function Zr(e,t){var n=Or.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function Jr(e,t){e=e.style,0===t?Gr(e,""):1===t?Gr(e,"left"):2===t?Gr(e,"center"):3===t?Gr(e,"right"):4===t?Gr(e,"justify"):5===t?Gr(e,"start"):6===t&&Gr(e,"end")}function qr(e,t,n){let r=$r.get(e);void 0===r&&tn(60);let o=r.createDOM(Or,Rr);var i=Rr._keyToDOMMap;if(o["__lexicalKey_"+Rr._key]=e,i.set(e,o),Zo(r)?o.setAttribute("data-lexical-text","true"):Ji(r)&&o.setAttribute("data-lexical-decorator","true"),Xi(r)){if(e=r.__indent,i=r.__size,0!==e&&Zr(o,e),0!==i){--i,e=no(r,$r);var a=zr;zr="",Xr(e,r,0,i,o,null),to(r,o),zr=a}0!==(e=r.__format)&&Jr(o,e),r.isInline()||eo(null,r,o),fr(r)&&(Kr+="\n\n",Vr+="\n\n")}else i=r.getTextContent(),Ji(r)?(null!==(a=r.decorate(Rr,Or))&&oo(e,a),o.contentEditable="false"):Zo(r)&&(r.isDirectionless()||(zr+=i)),Kr+=i,Vr+=i;return null!==t&&(null!=n?t.insertBefore(o,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(o,n):t.appendChild(o)),sr(Br,Ir,Dr,r,"created"),o}function Xr(e,t,n,r,o,i){let a=Kr;for(Kr="";n<=r;++n)qr(e[n],o,i);fr(t)&&(Kr+="\n\n"),o.__lexicalTextContent=Kr,Kr=a+Kr}function Qr(e,t){return Do(e=t.get(e))||Ji(e)&&e.isInline()}function eo(e,t,n){e=null!==e&&(0===e.__size||Qr(e.__last,Pr)),t=0===t.__size||Qr(t.__last,$r),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function to(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==zr||n!==Ur){let i=""===zr;if(i)var r=Ur;else r=zr,r=hn.test(r)?"rtl":mn.test(r)?"ltr":null;if(r!==n){let a=t.classList,l=Or.theme;var o=null!==n?l[n]:void 0;let s=null!==r?l[r]:void 0;void 0!==o&&("string"==typeof o&&(o=o.split(" "),o=l[n]=o),a.remove(...o)),null===r||i&&"ltr"===r?t.removeAttribute("dir"):(void 0!==s&&("string"==typeof s&&(n=s.split(" "),s=l[r]=n),void 0!==s&&a.add(...s)),t.dir=r),Hr||(e.getWritable().__dir=r)}Ur=r,t.__lexicalDirTextContent=zr,t.__lexicalDir=r}}function no(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&tn(101),n.push(e),e=r.__next}return n}function ro(e,t){var n=Pr.get(e),r=$r.get(e);void 0!==n&&void 0!==r||tn(61);var o=Wr||Lr.has(e)||Mr.has(e);let i=gr(Rr,e);if(n===r&&!o)return Xi(n)?(void 0!==(r=i.__lexicalTextContent)&&(Kr+=r,Vr+=r),void 0!==(r=i.__lexicalDirTextContent)&&(zr+=r)):(r=n.getTextContent(),Zo(n)&&!n.isDirectionless()&&(zr+=r),Vr+=r,Kr+=r),i;if(n!==r&&o&&sr(Br,Ir,Dr,r,"updated"),r.updateDOM(n,i,Or))return r=qr(e,null,null),null===t&&tn(62),t.replaceChild(r,i),jr(e,null),r;if(Xi(n)&&Xi(r)){if((e=r.__indent)!==n.__indent&&Zr(i,e),(e=r.__format)!==n.__format&&Jr(i,e),o){e=zr,zr="",o=Kr;var a=n.__size,l=r.__size;if(Kr="",1===a&&1===l){var s=n.__first;if(s===(t=r.__first))ro(s,i);else{var u=ao(s);t=qr(t,null,null),i.replaceChild(t,u),jr(s,null)}}else{t=no(n,Pr);var c=no(r,$r);if(0===a)0!==l&&Xr(c,r,0,l-1,i,null);else if(0===l)0!==a&&(Yr(t,0,a-1,(s=null==i.__lexicalLineBreak)?null:i),s&&(i.textContent=""));else{var d=t;t=c,c=a-1,a=l-1;let e=i.firstChild,n=0;for(l=0;n<=c&&l<=a;){var f=d[n];let r=t[l];if(f===r)e=io(ro(r,i)),n++,l++;else{void 0===s&&(s=new Set(d)),void 0===u&&(u=new Set(t));let o=u.has(f),a=s.has(r);o?(a?((f=gr(Rr,r))===e?e=io(ro(r,i)):(null!=e?i.insertBefore(f,e):i.appendChild(f),ro(r,i)),n++):qr(r,i,e),l++):(e=io(ao(f)),jr(f,i),n++)}}u=l>a,(s=n>c)&&!u?Xr(t,r,l,a,i,s=void 0===(s=t[a+1])?null:Rr.getElementByKey(s)):u&&!s&&Yr(d,n,c,i)}}fr(r)&&(Kr+="\n\n"),i.__lexicalTextContent=Kr,Kr=o+Kr,to(r,i),zr=e,ta(r)||r.isInline()||eo(n,r,i)}fr(r)&&(Kr+="\n\n",Vr+="\n\n")}else n=r.getTextContent(),Ji(r)?null!==(o=r.decorate(Rr,Or))&&oo(e,o):Zo(r)&&!r.isDirectionless()&&(zr+=n),Kr+=n,Vr+=n;return!Hr&&ta(r)&&r.__cachedText!==Vr&&(r.getWritable().__cachedText=Vr),i}function oo(e,t){let n=Rr._pendingDecorators,r=Rr._decorators;if(null===n){if(r[e]===t)return;n=qn(Rr)}n[e]=t}function io(e){return null!==(e=e.nextSibling)&&e===Rr._blockCursorElement&&(e=e.nextSibling),e}function ao(e){let t=Fr.get(e);return void 0===t&&tn(75,e),t}let lo=Object.freeze({}),so=[["keydown",function(e,t){if(uo=e.timeStamp,co=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:i,altKey:a}=e;if(!Ui(t,It,e)){if(39!==n||o||i||a)if(39!==n||a||r||!o&&!i)if(37!==n||o||i||a)if(37!==n||a||r||!o&&!i)if(38!==n||o||i)if(40!==n||o||i)if(13===n&&r)vo=!0,Ui(t,Bt,e);else if(32===n)Ui(t,Kt,e);else if(on&&o&&79===n)e.preventDefault(),vo=!0,Ui(t,xt,!0);else if(13!==n||r){var l=on?!a&&!i&&(8===n||72===n&&o):!(o||a||i)&&8===n;l?8===n?Ui(t,zt,e):(e.preventDefault(),Ui(t,bt,!0)):27===n?Ui(t,Vt,e):(l=on?!(r||a||i)&&(46===n||68===n&&o):!(o||a||i)&&46===n)?46===n?Ui(t,Wt,e):(e.preventDefault(),Ui(t,bt,!1)):8===n&&(on?a:o)?(e.preventDefault(),Ui(t,St,!0)):46===n&&(on?a:o)?(e.preventDefault(),Ui(t,St,!1)):on&&i&&8===n?(e.preventDefault(),Ui(t,kt,!0)):on&&i&&46===n?(e.preventDefault(),Ui(t,kt,!1)):66===n&&!a&&(on?i:o)?(e.preventDefault(),Ui(t,At,"bold")):85===n&&!a&&(on?i:o)?(e.preventDefault(),Ui(t,At,"underline")):73===n&&!a&&(on?i:o)?(e.preventDefault(),Ui(t,At,"italic")):9!==n||a||o||i?90===n&&!r&&(on?i:o)?(e.preventDefault(),Ui(t,Ot,void 0)):(l=on?90===n&&i&&r:89===n&&o||90===n&&o&&r)?(e.preventDefault(),Ui(t,Rt,void 0)):ci(t._editorState._selection)?(l=!r&&(67===n&&(on?i:o)))?(e.preventDefault(),Ui(t,Zt,e)):(l=!r&&(88===n&&(on?i:o)))?(e.preventDefault(),Ui(t,Jt,e)):65===n&&(on?i:o)&&(e.preventDefault(),Ui(t,qt,e)):!an&&65===n&&(on?i:o)&&(e.preventDefault(),Ui(t,qt,e)):Ui(t,Ht,e)}else vo=!1,Ui(t,Bt,e);else Ui(t,Ft,e);else Ui(t,$t,e);else Ui(t,Pt,e);else Ui(t,Lt,e);else Ui(t,Mt,e);else Ui(t,Dt,e);(o||r||a||i)&&Ui(t,en,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&Gi(t,(()=>{Ji(Jn(n))||(mo=!0)}))}],["compositionstart",function(e,t){Gi(t,(()=>{let n=bi();if(li(n)&&!t.isComposing()){let r=n.anchor,o=n.anchor.getNode();jn(r.key),(e.timeStamp<uo+30||"element"===r.type||!n.isCollapsed()||o.getFormat()!==n.format||Zo(o)&&o.getStyle()!==n.style)&&Ui(t,wt,pn)}}))}],["compositionend",function(e,t){an?yo=!0:Gi(t,(()=>{wo(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),Gi(t,(()=>{var n=bi(),r=e.data,o=Co(e);if(null!=r&&li(n)&&Eo(n,o,r,e.timeStamp,!1)){yo&&(wo(t,r),yo=!1);var i=n.anchor,a=i.getNode();if(null===(o=wr(t._window)))return;let l=i.offset;(i=ln&&!n.isCollapsed()&&Zo(a)&&null!==o.anchorNode)&&(i=(a=a.getTextContent().slice(0,l)+r+a.getTextContent().slice(l+n.focus.offset))===(3===(o=o.anchorNode).nodeType?o.nodeValue:null)),i||Ui(t,wt,r),r=r.length,an&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),sn||un||fn||!t.isComposing()||(uo=0,jn(null))}else ir(!1,t,null!==r?r:void 0),yo&&(wo(t,r||void 0),yo=!1);$i(),kn(n=Bi())})),go=null}],["click",function(e,t){Gi(t,(()=>{let n=bi();var r=wr(t._window);let o=xi();if(r)if(li(n)){let t=n.anchor;var i=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!ta(i)&&1===Qn().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||i!==(r=n.focus.getNode())&&(Xi(i)?i.select(0):i.getParentOrThrow().select(0))}else"touch"===e.pointerType&&(null!==(i=r.anchorNode)&&(1===(i=i.nodeType)||3===i))&&er(r=Ei(o,r,t,e));Ui(t,Et,e)}))}],["cut",lo],["copy",lo],["dragstart",lo],["dragover",lo],["dragend",lo],["paste",lo],["focus",lo],["blur",lo],["drop",lo]];ln&&so.push(["beforeinput",(e,t)=>function(e,t){let n=e.inputType,r=Co(e);"deleteCompositionText"===n||an&&dr(t)||"insertCompositionText"!==n&&Gi(t,(()=>{let o=bi();if("deleteContentBackward"===n){if(null===o){var i=xi();if(!li(i))return;er(i.clone())}if(li(o)){if(cn&&jn(o.anchor.key),229===co&&e.timeStamp<uo+30&&t.isComposing()&&o.anchor.key===o.focus.key){if(jn(null),uo=0,setTimeout((()=>{Gi(t,(()=>{jn(null)}))}),30),li(o)){if((i=o.anchor.getNode()).markDirty(),o.format=i.getFormat(),!Zo(i))throw Error("Anchor node must be a TextNode");o.style=i.getStyle()}1>=o.anchor.getNode().getTextContent().length&&(e.preventDefault(),Ui(t,bt,!0))}else jn(null),e.preventDefault(),Ui(t,bt,!0);return}}if(li(o)){i=e.data,null!==go&&ir(!1,t,go),o.dirty&&null===go||!o.isCollapsed()||ta(o.anchor.getNode())||null===r||o.applyDOMRange(r),go=null;var a=o.focus,l=o.anchor.getNode();if(a=a.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===i?(e.preventDefault(),Ui(t,xt,!1)):"\n\n"===i?(e.preventDefault(),Ui(t,Ct,void 0)):null==i&&e.dataTransfer?(i=e.dataTransfer.getData("text/plain"),e.preventDefault(),o.insertRawText(i)):null!=i&&Eo(o,r,i,e.timeStamp,!0)?(e.preventDefault(),Ui(t,wt,i)):go=i,fo=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ui(t,wt,e);break;case"insertFromComposition":jn(null),Ui(t,wt,e);break;case"insertLineBreak":jn(null),Ui(t,xt,!1);break;case"insertParagraph":jn(null),vo&&!un?(vo=!1,Ui(t,xt,!1)):Ui(t,Ct,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ui(t,Nt,e);break;case"deleteByComposition":(function(e,t){return e!==t||Xi(e)||Xi(t)||!e.isToken()||!t.isToken()})(l,a)&&Ui(t,Tt,e);break;case"deleteByDrag":case"deleteByCut":Ui(t,Tt,e);break;case"deleteContent":Ui(t,bt,!1);break;case"deleteWordBackward":Ui(t,St,!0);break;case"deleteWordForward":Ui(t,St,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ui(t,kt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ui(t,kt,!1);break;case"formatStrikeThrough":Ui(t,At,"strikethrough");break;case"formatBold":Ui(t,At,"bold");break;case"formatItalic":Ui(t,At,"italic");break;case"formatUnderline":Ui(t,At,"underline");break;case"historyUndo":Ui(t,Ot,void 0);break;case"historyRedo":Ui(t,Rt,void 0)}}}))}(e,t)]);let uo=0,co=0,fo=0,go=null,po=0,ho=!1,mo=!1,vo=!1,yo=!1,_o=[0,"",0,"root",0];function Eo(e,t,n,r,o){let i=e.anchor,a=e.focus,l=i.getNode();var s=Bi();let u=wr(s._window),c=null!==u?u.anchorNode:null,d=i.key;s=s.getElementByKey(d);let f=n.length;return d!==a.key||!Zo(l)||(!o&&(!ln||fo<r+50)||l.isDirty()&&2>f||nr(n))&&i.offset!==a.offset&&!l.isComposing()||Kn(l)||l.isDirty()&&1<f||(o||!ln)&&null!==s&&!l.isComposing()&&c!==zn(s)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(Zo(t=t.getPreviousSibling())||Xi(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,l)}function bo(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function xo(e,t,n){let{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:a}=e;ho&&(ho=!1,bo(r,o)&&bo(i,a))||Gi(t,(()=>{if(n){if(Fn(t,r,i)){var o=bi();if(li(o)){var a=o.anchor,l=a.getNode();if(o.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(o.dirty=!0);var s=mr(t).event;s=s?s.timeStamp:performance.now();let[n,r,i,c,d]=_o;var u=Qn();if(u=!1===t.isComposing()&&""===u.getTextContent(),s<d+200&&a.offset===i&&a.key===c)o.format=n,o.style=r;else if("text"===a.type){if(!Zo(l))throw Error("Point.getNode() must return TextNode when type is text");o.format=l.getFormat(),o.style=l.getStyle()}else"element"!==a.type||u||(o.format=0,o.style="")}else{a=255,l=!1,u=(s=o.getNodes()).length;for(let e=0;e<u;e++){let t=s[e];if(Zo(t)&&(l=!0,0===(a&=t.getFormat())))break}o.format=l?a:0}}Ui(t,_t,void 0)}}else er(null)}))}function Co(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function wo(e,t){var n=e._compositionKey;if(jn(null),null!==n&&null!=t){if(""===t)return t=Gn(n),void(null!==(e=zn(e.getElementByKey(n)))&&null!==e.nodeValue&&Zo(t)&&ar(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&li(n=bi()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void Ui(e,Bt,null)}ir(!0,e,t)}function No(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let To=new Map;function So(e){var t=e.target;let n=wr(null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView);if(null!==n){var r=Bn(n.anchorNode);if(null!==r){mo&&(mo=!1,Gi(r,(()=>{var t=xi(),o=n.anchorNode;null!==o&&(1===(o=o.nodeType)||3===o)&&er(t=Ei(t,n,r,e))})));var o=(t=(t=rr(r))[t.length-1])._key,i=To.get(o),a=i||t;a!==r&&xo(n,a,!1),xo(n,r,!0),r!==t?To.set(o,r):i&&To.delete(o)}}}function ko(e,t,n){$i();var r=e.__key;let o=e.getParent();if(null!==o){var i=bi();if(li(i)&&Xi(e)){var{anchor:a,focus:l}=i,s=a.getNode(),u=l.getNode();hr(s,e)&&a.set(e.__key,0,"element"),hr(u,e)&&l.set(e.__key,0,"element")}if(u=!1,li(s=i)&&t){i=s.anchor;let t=s.focus;i.key===r&&(Ni(i,e,o,e.getPreviousSibling(),e.getNextSibling()),u=!0),t.key===r&&(Ni(t,e,o,e.getPreviousSibling(),e.getNextSibling()),u=!0)}else ci(s)&&t&&e.isSelected()&&e.selectPrevious();li(s)&&t&&!u?(r=e.getIndexWithinParent(),Hn(e),Ci(s,o,r,-1)):Hn(e),n||yr(o)||o.canBeEmpty()||!o.isEmpty()||ko(o,t),t&&ta(o)&&o.isEmpty()&&o.selectEnd()}}class Ao{static getType(){tn(64,this.name)}static clone(){tn(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Wn(this,e)}getType(){return this.__type}isInline(){throw Error(`LexicalNode: Node ${this.constructor.name} does not implement .isInline().`)}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Gn(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||bi()))return!1;let t=e.getNodes().some((e=>e.__key===this.__key));return(Zo(this)||!li(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:Gn(e)}getParentOrThrow(){let e=this.getParent();return null===e&&tn(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(yr(t)){if(!Xi(e))throw Error("Children of root nodes must be elements");return e}e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&tn(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:Gn(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:Gn(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();Xi(this)&&t.unshift(this),Xi(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var o=this;;){var i=o.__key;if(r.has(i)||(r.add(i),n.push(o)),o===e)break;if(null!==(i=Xi(o)?t?o.getFirstChild():o.getLastChild():null))o=i;else if(null!==(i=t?o.getNextSibling():o.getPreviousSibling()))o=i;else{if(o=o.getParentOrThrow(),r.has(o.__key)||n.push(o),o===e)break;i=o;do{null===i&&tn(68),o=t?i.getNextSibling():i.getPreviousSibling(),null!==(i=i.getParent())&&(null!==o||r.has(i.__key)||n.push(i))}while(null===o)}}return t||n.reverse(),n}isDirty(){let e=Bi()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=Gn(this.__key);return null===e&&tn(113),e}getWritable(){$i();var e=Fi(),t=Bi();e=e._nodeMap;let n=this.__key,r=this.getLatest(),o=r.__parent;t=t._cloneNotNeeded;var i=bi();return si(i)&&i.setCachedNodes(null),t.has(n)?(Un(r),r):((i=r.constructor.clone(r)).__parent=o,i.__next=r.__next,i.__prev=r.__prev,Xi(r)&&Xi(i)?(i.__first=r.__first,i.__last=r.__last,i.__size=r.__size,i.__indent=r.__indent,i.__format=r.__format,i.__dir=r.__dir):Zo(r)&&Zo(i)&&(i.__format=r.__format,i.__style=r.__style,i.__mode=r.__mode,i.__detail=r.__detail),t.add(n),i.__key=n,Un(i),e.set(n,i),i)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){tn(70)}updateDOM(){tn(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){tn(72)}static importJSON(){tn(18,this.name)}static transform(){return null}remove(e){ko(this,!0,e)}replace(e,t){$i();var n=bi();null!==n&&(n=n.clone()),br(this,e);let r=this.getLatest(),o=this.__key,i=e.__key,a=e.getWritable(),l=(e=this.getParentOrThrow().getWritable()).__size;Hn(a);let s=r.getPreviousSibling(),u=r.getNextSibling(),c=r.__prev,d=r.__next,f=r.__parent;if(ko(r,!1,!0),null===s?e.__first=i:s.getWritable().__next=i,a.__prev=c,null===u?e.__last=i:u.getWritable().__prev=i,a.__next=d,a.__parent=f,e.__size=l,t){if(!Xi(this)||!Xi(a))throw Error("includeChildren should only be true for ElementNodes");this.getChildren().forEach((e=>{a.append(e)}))}return li(n)&&(er(n),t=n.anchor,n=n.focus,t.key===o&&ni(t,a),n.key===o&&ni(n,a)),Yn()===o&&jn(i),a}insertAfter(e,t=!0){$i(),br(this,e);var n=this.getWritable();let r=e.getWritable();var o=r.getParent();let i=bi();var a=!1,l=!1;if(null!==o){var s=e.getIndexWithinParent();Hn(r),li(i)&&(l=o.__key,a=i.anchor,o=i.focus,a="element"===a.type&&a.key===l&&a.offset===s+1,l="element"===o.type&&o.key===l&&o.offset===s+1)}o=this.getNextSibling(),s=this.getParentOrThrow().getWritable();let u=r.__key,c=n.__next;return null===o?s.__last=u:o.getWritable().__prev=u,s.__size++,n.__next=u,r.__next=c,r.__prev=n.__key,r.__parent=n.__parent,t&&li(i)&&(Ci(i,s,(t=this.getIndexWithinParent())+1),n=s.__key,a&&i.anchor.set(n,t+2,"element"),l&&i.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){$i(),br(this,e);var n=this.getWritable();let r=e.getWritable(),o=r.__key;Hn(r);let i=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=n.__prev,s=this.getIndexWithinParent();return null===i?a.__first=o:i.getWritable().__next=o,a.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent,n=bi(),t&&li(n)&&Ci(n,t=this.getParentOrThrow(),s),e}isParentRequired(){return!1}createParentElementNode(){return la()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){$i();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):Xi(n)?n.select():Zo(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){$i();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():Xi(n)?n.select(0,0):Zo(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class Oo extends Ao{static getType(){return"linebreak"}static clone(e){return new Oo(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^( |\t|\r?\n)+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:Ro,priority:0}}}}static importJSON(){return Io()}exportJSON(){return{type:"linebreak",version:1}}}function Ro(){return{node:Io()}}function Io(){return Er(new Oo)}function Do(e){return e instanceof Oo}function Mo(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function Lo(e,t){return 1&t?"strong":2&t?"em":"span"}function Po(e,t,n,r,o){e=r.classList,void 0!==(r=lr(o,"base"))&&e.add(...r);let i=!1,a=8&t&&4&t;var l=8&n&&4&n;void 0!==(r=lr(o,"underlineStrikethrough"))&&(l?(i=!0,a||e.add(...r)):a&&e.remove(...r));for(let s in vn)l=vn[s],void 0!==(r=lr(o,s))&&(n&l&&(!i||"underline"!==s&&"strikethrough"!==s)?(0==(t&l)||a&&"underline"===s||"strikethrough"===s)&&e.add(...r):t&l&&e.remove(...r))}function $o(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?gn:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||an){n=t.length;let o=e.length,i=0,a=0;for(;i<n&&i<o&&t[i]===e[i];)i++;for(;a+i<n&&a+i<o&&t[n-a-1]===e[o-a-1];)a++;e=[i,n-i-a,e.slice(i,o-a)];let[l,s,u]=e;0!==s&&r.deleteData(l,s),r.insertData(l,u)}else r.nodeValue=e}function Fo(e,t){return(t=document.createElement(t)).appendChild(e),t}class Bo extends Ao{static getType(){return"text"}static clone(e){return new Bo(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return xn[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===Yn()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=vn[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Vn(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=Mo(0,t);let r=Lo(0,t),o=document.createElement(null===n?r:n),i=o;return this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==n&&(i=document.createElement(r),o.appendChild(i)),n=i,$o(this.__text,n,this),void 0!==(e=e.theme.text)&&Po(r,0,t,n,e),""!==(t=this.__style)&&(o.style.cssText=t),o}updateDOM(e,t,n){let r=this.__text;var o=e.__format,i=this.__format,a=Mo(0,o);let l=Mo(0,i);var s=Lo(0,o);let u=Lo(0,i);return(null===a?s:a)!==(null===l?u:l)||(a===l&&s!==u?(null==(o=t.firstChild)&&tn(48),$o(r,e=a=document.createElement(u),this),void 0!==(n=n.theme.text)&&Po(u,0,i,e,n),t.replaceChild(a,o),!1):(s=t,null!==l&&null!==a&&(null==(s=t.firstChild)&&tn(49)),$o(r,s,this),void 0!==(n=n.theme.text)&&o!==i&&Po(u,o,i,s,n),i=this.__style,e.__style!==i&&(t.style.cssText=i),!1))}static importDOM(){return{"#text":()=>({conversion:Wo,priority:0}),b:()=>({conversion:zo,priority:0}),code:()=>({conversion:Yo,priority:0}),em:()=>({conversion:Yo,priority:0}),i:()=>({conversion:Yo,priority:0}),s:()=>({conversion:Yo,priority:0}),span:()=>({conversion:Ko,priority:0}),strong:()=>({conversion:Yo,priority:0}),sub:()=>({conversion:Yo,priority:0}),sup:()=>({conversion:Yo,priority:0}),u:()=>({conversion:Yo,priority:0})}}static importJSON(e){let t=Go(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&Tr(e)||tn(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Fo(e,"b")),this.hasFormat("italic")&&(e=Fo(e,"i")),this.hasFormat("strikethrough")&&(e=Fo(e,"s")),this.hasFormat("underline")&&(e=Fo(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?vn[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?yn[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=Vn(this.getFormat(),e,null),this.setFormat(e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=bn[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){$i();let n=bi();var r=this.getTextContent();let o=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,li(n)?((r=Yn())!==n.anchor.key&&r!==n.focus.key||jn(o),n.setTextNodeRange(this,e,this,t),n):yi(o,e,o,t,"text","text")}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){let o=this.getWritable(),i=o.__text,a=n.length,l=e;0>l&&(l=a+l,0>l&&(l=0));let s=bi();return r&&li(s)&&(e+=a,s.setTextNodeRange(o,e,o,e)),t=i.slice(0,l)+n+i.slice(l+t),o.__text=t,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){$i();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,o=Yn(),i=new Set(e);e=[];for(var a=n.length,l="",s=0;s<a;s++)""!==l&&i.has(s)&&(e.push(l),l=""),l+=n[s];if(""!==l&&e.push(l),0===(i=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),s=t.getFormat();let c=t.getStyle(),d=t.__detail;a=!1,t.isSegmented()?((l=Go(u)).__format=s,l.__style=c,l.__detail=d,a=!0):(l=t.getWritable()).__text=u,t=bi(),l=[l],u=u.length;for(let p=1;p<i;p++){var f=e[p],g=f.length;(f=Go(f).getWritable()).__format=s,f.__style=c,f.__detail=d;let n=f.__key;if(g=u+g,li(t)){let e=t.anchor,o=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=g&&(e.key=n,e.offset-=u,t.dirty=!0),o.key===r&&"text"===o.type&&o.offset>u&&o.offset<=g&&(o.key=n,o.offset-=u,t.dirty=!0)}o===r&&jn(n),u=g,l.push(f)}return r=this.getPreviousSibling(),o=this.getNextSibling(),null!==r&&Un(r),null!==o&&Un(o),r=n.getWritable(),o=this.getIndexWithinParent(),a?(r.splice(o,0,l),this.remove()):r.splice(o,1,l),li(t)&&Ci(t,n,o,i-1),l}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||tn(50);var n=this.__key;let r=e.__key,o=this.__text,i=o.length;Yn()===r&&jn(n);let a=bi();if(li(a)){let o=a.anchor,l=a.focus;null!==o&&o.key===r&&(Ti(o,t,n,e,i),a.dirty=!0),null!==l&&l.key===r&&(Ti(l,t,n,e,i),a.dirty=!0)}return n=e.__text,this.setTextContent(t?n+o:o+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Ko(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,o="underline"===e.style.textDecoration,i=e.style.verticalAlign;return{forChild:e=>Zo(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),o&&e.toggleFormat("underline"),"sub"===i&&e.toggleFormat("subscript"),"super"===i&&e.toggleFormat("superscript"),e):e,node:null}}function zo(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(Zo(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let Vo=new WeakMap;function Wo(e){null===e.parentElement&&tn(129);for(var t,n=e.textContent||"",r=e.parentNode,o=[e];null!==r&&void 0===(t=Vo.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&void 0!==r.style&&void 0!==r.style.whiteSpace&&r.style.whiteSpace.startsWith("pre"));)o.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<o.length;r++)Vo.set(o[r],t);if(null!==t){for(e=[],o=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<o;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(Io()):"\t"===r?e.push(qo()):""!==r&&e.push(Go(r));return{node:e}}if(""===(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===n[0]){for(o=e,t=!0;null!==o&&null!==(o=Uo(o,!1));)if(0<(r=o.textContent||"").length){/[ \t\n]$/.test(r)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(o=!0;null!==e&&null!==(e=Uo(e,!0));)if(0<(e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){o=!1;break}o&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Go(n)}}let Ho=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function Uo(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(Ho)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let jo={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Yo(e){let t=jo[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(Zo(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function Go(e=""){return Er(new Bo(e))}function Zo(e){return e instanceof Bo}class Jo extends Bo{static getType(){return"tab"}static clone(e){let t=new Jo(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=qo();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){tn(126)}setDetail(){tn(127)}setMode(){tn(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function qo(){return Er(new Jo)}function Xo(e){return e instanceof Jo}class Qo{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,Xi(t)){var o=t.getDescendantByIndex(r);t=null!=o?o:t}return Xi(n)&&(o=n.getDescendantByIndex(e),n=null!=o?o:n),t===n?r<e:t.isBefore(n)}getNode(){let e=Gn(this.key);return null===e&&tn(20),e}set(e,t,n){let r=this._selection,o=this.key;this.key=e,this.offset=t,this.type=n,Pi()||(Yn()===o&&jn(e),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function ei(e,t,n){return new Qo(e,t,n)}function ti(e,t){let n=t.__key,r=e.offset,o="element";if(Zo(t))o="text",r>(t=t.getTextContentSize())&&(r=t);else if(!Xi(t)){var i=t.getNextSibling();Zo(i)?(n=i.__key,r=0,o="text"):(i=t.getParent())&&(n=i.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,o)}function ni(e,t){if(Xi(t)){let n=t.getLastDescendant();Xi(n)||Zo(n)?ti(e,n):ti(e,t)}else ti(e,t)}function ri(e,t,n,r){let o=e.getNode(),i=o.getChildAtIndex(e.offset),a=Go(),l=ta(o)?la().append(a):a;a.setFormat(n),a.setStyle(r),null===i?o.append(l):i.insertBefore(l),e.is(t)&&t.set(a.__key,0,"text"),e.set(a.__key,0,"text")}function oi(e,t,n,r){e.key=t,e.offset=n,e.type=r}class ii{constructor(e,t){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!si(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus))}isCollapsed(){return!1}extract(){return this.getNodes()}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return fi(this)}}class ai{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ci(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new ai(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let t=this.getNodes(),n=t.length;var r=t[n-1];if(Zo(r))r=r.select();else{let e=r.getIndexWithinParent()+1;r=r.getParentOrThrow().select(e,e)}for(r.insertNodes(e),e=0;e<n;e++)t[e].remove()}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=Gn(n))&&e.push(t);return Pi()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function li(e){return e instanceof ui}function si(e){return e instanceof ii}class ui extends ii{constructor(e,t,n,r){super(e,t),this.format=n,this.style=r}is(e){return!!li(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let o=r.offset;return r=n.offset,Xi(e)&&(n=e.getDescendantByIndex(o),e=null!=n?n:e),Xi(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?Xi(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),Pi()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){oi(this.anchor,e.__key,t,"text"),oi(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),[a,l]=fi(this),s="",u=!0;for(let c=0;c<e.length;c++){let d=e[c];if(Xi(d)&&!d.isInline())u||(s+="\n"),u=!d.isEmpty();else if(u=!1,Zo(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(e=a<l?e.slice(a,l):e.slice(l,a)):e=i?e.slice(a):e.slice(l):d===n&&(e=i?e.slice(0,l):e.slice(0,a)),s+=e}else!Ji(d)&&!Do(d)||d===n&&this.isCollapsed()||(s+=d.getTextContent())}return s}applyDOMRange(e){let t=Bi(),n=t.getEditorState()._selection;if(null!==(e=vi(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,o]=e;oi(this.anchor,r.key,r.offset,r.type),oi(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new ui(ei(e.key,e.offset,e.type),ei(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Vn(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&vn[e])}insertRawText(e){let t=[],n=(e=e.split(/(\r?\n|\t)/)).length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(Io()):"\t"===n?t.push(qo()):t.push(Go(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),o=this.format,i=this.style;r&&"element"===t.type?ri(t,n,o,i):r||"element"!==n.type||ri(n,t,o,i);var a=this.getNodes(),l=a.length,s=r?n:t;n=(r?t:n).offset;var u=s.offset;Zo(t=a[0])||tn(26),r=t.getTextContent().length;var c=t.getParentOrThrow(),d=a[l-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!c.canInsertTextAfter()&&null===t.getNextSibling())){var f=t.getNextSibling();if(Zo(f)&&f.canInsertTextBefore()&&!Kn(f)||((f=Go()).setFormat(o),c.canInsertTextAfter()?t.insertAfter(f):c.insertAfter(f)),f.select(0,0),t=f,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!c.canInsertTextBefore()&&null===t.getPreviousSibling())){if(Zo(f=t.getPreviousSibling())&&!Kn(f)||((f=Go()).setFormat(o),c.canInsertTextBefore()?t.insertBefore(f):c.insertBefore(f)),f.select(),t=f,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(c=Go(t.getTextContent())).setFormat(o),t.replace(c),t=c;else if(!(this.isCollapsed()||""===e||(f=d.getParent(),c.canInsertTextBefore()&&c.canInsertTextAfter()&&(!Xi(f)||f.canInsertTextBefore()&&f.canInsertTextAfter()))))return this.insertText(""),mi(this.anchor,this.focus,null),void this.insertText(e);if(1===l)if(t.isToken())(e=Go(e)).select(),t.replace(e);else{if(a=t.getFormat(),l=t.getStyle(),n!==u||a===o&&l===i){if(Xo(t))return(e=Go(e)).setFormat(o),e.setStyle(i),e.select(),void t.replace(e)}else{if(""!==t.getTextContent())return(a=Go(e)).setFormat(o),a.setStyle(i),a.select(),0===n?t.insertBefore(a,!1):([l]=t.splitText(n),l.insertAfter(a,!1)),void(a.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(o),t.setStyle(i)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=a,this.style=l))}else{if(o=new Set([...t.getParentKeys(),...d.getParentKeys()]),f=Xi(t)?t:t.getParentOrThrow(),i=Xi(d)?d:d.getParentOrThrow(),c=d,!f.is(i)&&i.isInline())do{c=i,i=i.getParentOrThrow()}while(i.isInline());if("text"===s.type&&(0!==u||""===d.getTextContent())||"element"===s.type&&d.getIndexWithinParent()<u)if(Zo(d)&&!d.isToken()&&u!==d.getTextContentSize()){if(d.isSegmented()){var g=Go(d.getTextContent());d.replace(g),d=g}ta(s.getNode())||"text"!==s.type||(d=d.spliceText(0,u,"")),o.add(d.__key)}else(s=d.getParentOrThrow()).canBeEmpty()||1!==s.getChildrenSize()?d.remove():s.remove();else o.add(d.__key);for(s=i.getChildren(),u=new Set(a),d=f.is(i),f=f.isInline()&&null===t.getNextSibling()?f:t,g=s.length-1;0<=g;g--){let e=s[g];if(e.is(t)||Xi(e)&&e.isParentOf(t))break;e.isAttached()&&(!u.has(e)||e.is(c)?d||f.insertAfter(e,!1):e.remove())}if(!d)for(s=i,i=null;null!==s;)(0===(d=(u=s.getChildren()).length)||u[d-1].is(i))&&(o.delete(s.__key),i=s),s=s.getParent();for(t.isToken()?n===r?t.select():((e=Go(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<l;e++)t=a[e],o.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),jn(null);else{var t=this.getNodes(),n=[];for(var r of t)Zo(r)&&n.push(r);var o=n.length;if(0===o)this.toggleFormat(e),jn(null);else{r=this.anchor;var i=this.focus,a=this.isBackward();t=a?i:r,r=a?r:i;var l=0,s=n[0];if(i="element"===t.type?0:t.offset,"text"===t.type&&i===s.getTextContentSize()&&(l=1,s=n[1],i=0),null!=s){a=s.getFormatFlags(e,null);var u=o-1,c=n[u];if(o="text"===r.type?r.offset:c.getTextContentSize(),s.is(c))i!==o&&(0===i&&o===s.getTextContentSize()?s.setFormat(a):(e=s.splitText(i,o),(e=0===i?e[0]:e[1]).setFormat(a),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,o-i,"text")),this.format=a);else{0!==i&&([,s]=s.splitText(i),i=0),s.setFormat(a);var d=c.getFormatFlags(e,a);for(0<o&&(o!==c.getTextContentSize()&&([c]=c.splitText(o)),c.setFormat(d)),l+=1;l<u;l++){let t=n[l];if(!t.isToken()){let n=t.getFormatFlags(e,d);t.setFormat(n)}}"text"===t.type&&t.set(s.__key,i,"text"),"text"===r.type&&r.set(c.__key,o,"text"),this.format=a|d}}}}}insertNodes(e){if(0!==e.length){if("root"===this.anchor.key){this.insertParagraph();var t=bi();if(!li(t))throw Error("Expected RangeSelection after insertParagraph");return t.insertNodes(e)}var n=kr(this.anchor.getNode(),Sr);if(t=e[e.length-1],"__language"in n&&Xi(n))if("__language"in e[0])this.insertText(e[0].getTextContent());else{var r=ki(this);n.splice(r,0,e),t.selectEnd()}else if(e.some((e=>(Xi(e)||Ji(e))&&!e.isInline()))){t=function(e){let t=la(),n=null;for(let r=0;r<e.length;r++){let o=e[r],i=Do(o);if(i||Ji(o)&&o.isInline()||Xi(o)&&o.isInline()||Zo(o)||o.isParentRequired()){if(null===n&&(n=o.createParentElementNode(),t.append(n),i))continue;null!==n&&n.append(o)}else t.append(o),n=null}return t}(e),e=t.getLastDescendant();var o=t.getChildren();t=Xi(n)&&n.isEmpty()?null:this.insertParagraph(),r=o[o.length-1];var i=o[0];if(Xi(a=i)&&Sr(a)&&!a.isEmpty()&&Xi(n)&&(!n.isEmpty()||"__value"in n&&"__checked"in n)){if(!Xi(n))throw Error("Expected 'firstBlock' to be an ElementNode");n.append(...i.getChildren()),i=o[1]}i&&function(e,t,n){n=n||t.getParentOrThrow().getLastChild();let r=t;for(t=[t];r!==n;){if(!r.getNextSibling())throw Error("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert");r=r.getNextSibling(),t.push(r)}for(let o of t)e=e.insertAfter(o)}(n,i),o=kr(e,Sr),t&&Xi(o)&&("__value"in t&&"__checked"in t||Sr(r))&&(o.append(...t.getChildren()),t.remove()),Xi(n)&&n.isEmpty()&&n.remove(),e.selectEnd(),Do(e=Xi(n)?n.getLastChild():null)&&o!==n&&e.remove()}else{if(!Xi(n))throw Error("Expected 'firstBlock' to be an ElementNode");r=ki(this),n.splice(r,0,e),t.selectEnd()}}var a}insertParagraph(){if("root"===this.anchor.key){var e=la();return Qn().splice(this.anchor.offset,0,[e]),e.select(),e}var t=ki(this);if(!Xi(e=kr(this.anchor.getNode(),Sr)))throw Error("Expected ancestor to be an ElementNode");return t=(t=e.getChildAtIndex(t))?[t,...t.getNextSiblings()]:[],(e=e.insertNewAfter(this,!1))?(e.append(...t),e.selectStart(),e):null}insertLineBreak(e){var t=Io();this.insertNodes([t]),e&&(e=t.getParentOrThrow(),t=t.getIndexWithinParent(),e.select(t,t))}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let o=this.focus;var i=e[0];let a=e[n],[l,s]=fi(this);return 0===t?[]:1===t?Zo(i)&&!this.isCollapsed()?(e=l>s?s:l,n=i.splitText(e,l>s?l:s),null!=(e=0===e?n[0]:n[1])?[e]:[]):[i]:(t=r.isBefore(o),Zo(i)&&((r=t?l:s)===i.getTextContentSize()?e.shift():0!==r&&([,i]=i.splitText(r),e[0]=i)),Zo(a)&&(i=a.getTextContent().length,0===(t=t?s:l)?e.pop():t!==i&&([a]=a.splitText(t),e[n]=a)),e)}modify(e,t,n){var r=this.focus,o=this.anchor,i="move"===e,a=cr(r,t);if(Ji(a)&&!a.isIsolated())i&&a.isKeyboardSelectable()?((t=_i()).add(a.__key),er(t)):Zo(e=t?a.getPreviousSibling():a.getNextSibling())?(a=e.__key,t=t?e.getTextContent().length:0,r.set(a,t,"text"),i&&o.set(a,t,"text")):(n=a.getParentOrThrow(),Xi(e)?(n=e.__key,a=t?e.getChildrenSize():0):(a=a.getIndexWithinParent(),n=n.__key,t||a++),r.set(n,a,"element"),i&&o.set(n,a,"element"));else if(r=wr((o=Bi())._window)){var l=o._blockCursorElement,s=o._rootElement;if(null===s||null===l||!Xi(a)||a.isInline()||a.canBeEmpty()||Cr(l,o,s),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(a=r.getRangeAt(0),o=ta(o=this.anchor.getNode())?o:vr(o),this.applyDOMRange(a),this.dirty=!0,!i)){for(i=this.getNodes(),e=[],n=!1,l=0;l<i.length;l++)hr(s=i[l],o)?e.push(s):n=!0;n&&0<e.length&&(t?Xi(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():Xi(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===a.startContainer&&r.anchorOffset===a.startOffset||(t=this.focus,r=(i=this.anchor).key,a=i.offset,o=i.type,oi(i,t.key,t.offset,t.type),oi(t,r,a,o),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var n=this.anchor,r=this.focus,o=n.getNode();if(!e&&("element"===n.type&&Xi(o)&&n.offset===o.getChildrenSize()||"text"===n.type&&n.offset===o.getTextContentSize())){var i=o.getParent();if(Xi(i=o.getNextSibling()||(null===i?null:i.getNextSibling()))&&i.isShadowRoot())return}if(Ji(i=cr(r,e))&&!i.isIsolated())return void(i.isKeyboardSelectable()&&Xi(o)&&0===o.getChildrenSize()?(o.remove(),e=_i(),e.add(i.__key),er(e)):(i.remove(),Bi().dispatchCommand(_t,void 0)));if(!e&&Xi(i)&&Xi(o)&&o.isEmpty())return o.remove(),void i.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(i="text"===r.type?r.getNode():null,o="text"===n.type?n.getNode():null,null!==i&&i.isSegmented()){if(n=r.offset,r=i.getTextContentSize(),i.is(o)||e&&n!==r||!e&&0!==n)return void gi(i,e,n)}else if(null!==o&&o.isSegmented()&&(n=n.offset,r=o.getTextContentSize(),o.is(i)||e&&0!==n||!e&&n!==r))return void gi(o,e,n);if(o=this.anchor,i=this.focus,(n=o.getNode())===(r=i.getNode())&&"text"===o.type&&"text"===i.type){var a=o.offset,l=i.offset;let t=a<l;(r=t?a:l)!==(a=(l=t?l:a)-1)&&(nr(n=n.getTextContent().slice(r,l))||(e?i.offset=a:o.offset=a))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&ta(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function ci(e){return e instanceof ai}function di(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function fi(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[di(t),di(e)]}function gi(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),o=r.length,i=0,a=0;for(let l=0;l<o;l++){let e=l===o-1;if(a=i,i+=r[l].length,t&&i===n||i>n||e){r.splice(l,1),e&&(a=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(a,a))}function pi(e,t,n,r){var o=t;if(1===e.nodeType){let l=!1;var i=e.childNodes,a=i.length;o===a&&(l=!0,o=a-1);let s=i[o];if(a=!1,s===r._blockCursorElement?(s=i[o+1],a=!0):null!==r._blockCursorElement&&o--,Zo(r=tr(s)))o=l?r.getTextContentSize():0;else{if(null===(i=tr(e)))return null;if(Xi(i)?((t=Xi(e=i.getChildAtIndex(o)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=l?e.getLastDescendant():e.getFirstDescendant())?(i=e,o=0):i=Xi(e=n)?e:e.getParentOrThrow()),Zo(e)?(r=e,i=null,o=l?e.getTextContentSize():0):e!==i&&l&&!a&&o++):(o=i.getIndexWithinParent(),o=0===t&&Ji(i)&&tr(e)===i?o:o+1,i=i.getParentOrThrow()),Xi(i))return ei(i.__key,o,"element")}}else r=tr(e);return Zo(r)?ei(r.__key,o,"text"):null}function hi(e,t,n){var r=e.offset,o=e.getNode();0===r?(r=o.getPreviousSibling(),o=o.getParent(),t?(n||!t)&&null===r&&Xi(o)&&o.isInline()&&(Zo(t=o.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):Xi(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Zo(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===o.getTextContent().length&&(r=o.getNextSibling(),o=o.getParent(),t&&Xi(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&Xi(o)&&o.isInline()&&!o.canInsertTextAfter()&&(Zo(t=o.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function mi(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let o=e.is(t);hi(e,r,o),hi(t,!r,o),o&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=Bi()).isComposing()&&r._compositionKey!==e.key&&li(n)&&(r=n.anchor,n=n.focus,oi(e,r.key,r.offset,r.type),oi(t,n.key,n.offset,n.type))}}function vi(e,t,n,r,o,i){return null!==e&&null!==n&&Fn(o,e,n)?null===(t=pi(e,t,li(i)?i.anchor:null,o))||null===(r=pi(n,r,li(i)?i.focus:null,o))||"element"===t.type&&"element"===r.type&&(e=tr(e),n=tr(n),Ji(e)&&Ji(n))?null:(mi(t,r,i),[t,r]):null}function yi(e,t,n,r,o,i){let a=Fi();return(e=new ui(ei(e,t,o),ei(n,r,i),0,"")).dirty=!0,a._selection=e}function _i(){return new ai(new Set)}function Ei(e,t,n,r){var o=n._window;if(null===o)return null;var i=(o=r||o.event)?o.type:void 0;let a;if(r="selectionchange"===i,o=!Cn&&(r||"beforeinput"===i||"compositionstart"===i||"compositionend"===i||"click"===i&&o&&3===o.detail||"drop"===i||void 0===i),li(e)&&!o)return e.clone();if(null===t)return null;if(o=t.anchorNode,i=t.focusNode,a=t.anchorOffset,t=t.focusOffset,r&&li(e)&&!Fn(n,o,i))return e.clone();if(null===(n=vi(o,a,i,t,n,e)))return null;let[l,s]=n;return new ui(l,s,li(e)?e.format:0,li(e)?e.style:"")}function bi(){return Fi()._selection}function xi(){return Bi()._editorState._selection}function Ci(e,t,n,r=1){var o=e.anchor,i=e.focus,a=o.getNode(),l=i.getNode();if(t.is(a)||t.is(l)){if(a=t.__key,e.isCollapsed())(n<=(t=o.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),o.set(a,n,"element"),i.set(a,n,"element"),wi(e));else{let u=e.isBackward();var s=(l=u?i:o).getNode();i=(o=u?o:i).getNode(),t.is(s)&&((n<=(s=l.offset)&&0<r||n<s&&0>r)&&l.set(a,Math.max(0,s+r),"element")),t.is(i)&&((n<=(t=o.offset)&&0<r||n<t&&0>r)&&o.set(a,Math.max(0,t+r),"element"))}wi(e)}}function wi(e){var t=e.anchor,n=t.offset;let r=e.focus;var o=r.offset,i=t.getNode(),a=r.getNode();if(e.isCollapsed())Xi(i)&&(Zo(a=(o=n>=(a=i.getChildrenSize()))?i.getChildAtIndex(a-1):i.getChildAtIndex(n))&&(n=0,o&&(n=a.getTextContentSize()),t.set(a.__key,n,"text"),r.set(a.__key,n,"text")));else{if(Xi(i)){let r=i.getChildrenSize();Zo(n=(e=n>=r)?i.getChildAtIndex(r-1):i.getChildAtIndex(n))&&(i=0,e&&(i=n.getTextContentSize()),t.set(n.__key,i,"text"))}Xi(a)&&(Zo(o=(t=o>=(n=a.getChildrenSize()))?a.getChildAtIndex(n-1):a.getChildAtIndex(o))&&(a=0,t&&(a=o.getTextContentSize()),r.set(o.__key,a,"text")))}}function Ni(e,t,n,r,o){let i=null,a=0,l=null;null!==r?(i=r.__key,Zo(r)?(a=r.getTextContentSize(),l="text"):Xi(r)&&(a=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,Zo(o)?l="text":Xi(o)&&(l="element")),null!==i&&null!==l?e.set(i,a,l):(a=t.getIndexWithinParent(),-1===a&&(a=n.getChildrenSize()),e.set(n.__key,a,"element"))}function Ti(e,t,n,r,o){"text"===e.type?(e.key=n,t||(e.offset+=o)):e.offset>r.getIndexWithinParent()&&--e.offset}function Si(e){e instanceof ca||(e instanceof Ao?da(e=Nr(e,da))||tn(114):da(e=Nr(e.getNode(),da))||tn(114));let t=e.getParent();ha(t)||tn(115);let n=t.getParent();return ga(n)||tn(116),[e,t,n]}function ki(e){e.isCollapsed()||e.removeText();var t=e.anchor;for(e=t.getNode(),t=t.offset;!Sr(e);)[e,t]=Ai(e,t);return t}function Ai(e,t){var n=e.getParent();if(!n)return n=la(),Qn().append(n),n.select(),[Qn(),0];if(Zo(e)){var r=e.splitText(t);return 0===r.length?[n,e.getIndexWithinParent()]:(e=0===t?0:1,[n,e=r[0].getIndexWithinParent()+e])}return Xi(e)&&0!==t?((r=e.getChildAtIndex(t))&&(t=new ui(ei(e.__key,t,"element"),ei(e.__key,t,"element"),0,""),(t=e.insertNewAfter(t))&&t.append(r,...r.getNextSiblings())),[n,e.getIndexWithinParent()+1]):[n,e.getIndexWithinParent()]}let Oi=null,Ri=null,Ii=!1,Di=!1,Mi=0,Li={characterData:!0,childList:!0,subtree:!0};function Pi(){return Ii||null!==Oi&&Oi._readOnly}function $i(){Ii&&tn(13)}function Fi(){return null===Oi&&tn(15),Oi}function Bi(){return null===Ri&&tn(16),Ri}function Ki(e,t,n){var r=t.__type;let o=e._nodes.get(r);for(void 0===o&&tn(30,r),void 0===(e=n.get(r))&&(e=Array.from(o.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function zi(e,t){var n=e.type,r=t.get(n);if(void 0===r&&tn(17,n),n=r.klass,e.type!==n.getType()&&tn(18,n.name),n=n.importJSON(e),e=e.children,Xi(n)&&Array.isArray(e))for(r=0;r<e.length;r++){let o=zi(e[r],t);n.append(o)}return n}function Vi(e,t){let n=Oi,r=Ii,o=Ri;Oi=e,Ii=!0,Ri=null;try{return t()}finally{Oi=n,Ii=r,Ri=o}}function Wi(e,t){let n=e._pendingEditorState,r=e._rootElement,o=e._headless||null===r;if(null!==n){var i=e._editorState,a=i._selection,l=n._selection,s=0!==e._dirtyType,u=Oi,c=Ii,d=Ri,f=e._updating,g=e._observer,p=null;if(e._pendingEditorState=null,e._editorState=n,!o&&s&&null!==g){Ri=e,Oi=n,Ii=!1,e._updating=!0;try{let t=e._dirtyType,r=e._dirtyElements,o=e._dirtyLeaves;g.disconnect();var h=r,m=o;zr=Vr=Kr="",Wr=2===t,Ur=null,Rr=e,Or=e._config,Ir=e._nodes,Dr=Rr._listeners.mutation,Mr=h,Lr=m,Pr=i._nodeMap,$r=n._nodeMap,Hr=n._readOnly,Fr=new Map(e._keyToDOMMap);let a=new Map;Br=a,ro("root",null),Br=Fr=Or=$r=Pr=Lr=Mr=Ir=Rr=void 0,p=a}catch(X){if(X instanceof Error&&e._onError(X),Di)throw X;return sa(e,null,r,n),An(e),e._dirtyType=2,Di=!0,Wi(e,i),void(Di=!1)}finally{g.observe(r,Li),e._updating=f,Oi=u,Ii=c,Ri=d}}n._readOnly||(n._readOnly=!0);var v=e._dirtyLeaves,y=e._dirtyElements,_=e._normalizedNodes,E=e._updateTags,b=e._deferred;s&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var x,C=e._decorators,w=e._pendingDecorators||C,N=n._nodeMap;for(x in w)N.has(x)||(w===C&&(w=qn(e)),delete w[x]);var T=o?null:wr(e._window);if(e._editable&&null!==T&&(s||null===l||l.dirty)){Ri=e,Oi=n;try{if(null!==g&&g.disconnect(),s||null===l||l.dirty){let t=e._blockCursorElement;null!==t&&Cr(t,e,r);e:{let t=T.anchorNode,n=T.focusNode,o=T.anchorOffset,i=T.focusOffset,s=document.activeElement;if(!(E.has("collaboration")&&s!==r||null!==s&&$n(s)))if(li(l)){var S=l.anchor,k=l.focus,A=S.key,O=k.key,R=gr(e,A),I=gr(e,O),D=S.offset,M=k.offset,L=l.format,P=l.style,$=l.isCollapsed(),F=R,B=I,K=!1;if("text"===S.type){F=zn(R);let e=S.getNode();K=e.getFormat()!==L||e.getStyle()!==P}else li(a)&&"text"===a.anchor.type&&(K=!0);if("text"===k.type&&(B=zn(I)),null!==F&&null!==B){if($&&(null===a||K||li(a)&&(a.format!==L||a.style!==P))){var z=performance.now();_o=[L,P,D,A,z]}if(o===D&&i===M&&t===F&&n===B&&("Range"!==T.type||!$)&&(null!==s&&r.contains(s)||r.focus({preventScroll:!0}),"element"!==S.type))break e;try{T.setBaseAndExtent(F,D,B,M)}catch(Q){}if(!E.has("skip-scroll-into-view")&&l.isCollapsed()&&null!==r&&r===document.activeElement){let t=l instanceof ui&&"element"===l.anchor.type?F.childNodes[D]||null:0<T.rangeCount?T.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let o=r.ownerDocument,i=o.defaultView;if(null!==i)for(var V,W,{top:H,bottom:U}=n,j=r;null!==j;){let t=j===o.body;if(t)V=0,W=mr(e).innerHeight;else{let e=j.getBoundingClientRect();V=e.top,W=e.bottom}let n=0;if(H<V?n=-(V-H):U>W&&(n=U-W),0!==n)if(t)i.scrollBy(0,n);else{let e=j.scrollTop;j.scrollTop+=n;let t=j.scrollTop-e;H-=t,U-=t}if(t)break;j=pr(j)}}}ho=!0}}else null!==a&&Fn(e,t,n)&&T.removeAllRanges()}}e:{let t=e._blockCursorElement;if(li(l)&&l.isCollapsed()&&"element"===l.anchor.type&&r.contains(document.activeElement)){let n=l.anchor,o=n.getNode(),i=n.offset,a=o.getChildrenSize(),s=!1,u=null;if(i===a){xr(o.getChildAtIndex(i-1))&&(s=!0)}else{let t=o.getChildAtIndex(i);if(xr(t)){let n=t.getPreviousSibling();(null===n||xr(n))&&(s=!0,u=e.getElementByKey(t.__key))}}if(s){let n=e.getElementByKey(o.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let o=n.blockCursor;if(void 0!==o){if("string"==typeof o){let e=o.split(" ");o=n.blockCursor=e}void 0!==o&&r.classList.add(...o)}e._blockCursorElement=t=r}r.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&Cr(t,e,r)}null!==g&&g.observe(r,Li)}finally{Ri=d,Oi=u}}if(null!==p){var Y=p;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],o=Y.get(r);void 0!==o&&n(o,{dirtyLeaves:v,prevEditorState:i,updateTags:E})}}li(l)||null===l||null!==a&&a.is(l)||e.dispatchCommand(_t,void 0);var G=e._pendingDecorators;null!==G&&(e._decorators=G,e._pendingDecorators=null,Hi("decorator",e,!0,G));var Z=Xn(t||i),J=Xn(n);if(Z!==J&&Hi("textcontent",e,!0,J),Hi("update",e,!0,{dirtyElements:y,dirtyLeaves:v,editorState:n,normalizedNodes:_,prevEditorState:t||i,tags:E}),e._deferred=[],0!==b.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<b.length;e++)b[e]()}finally{e._updating=t}}var q=e._updates;if(0!==q.length){let t=q.shift();if(t){let[n,r]=t;Yi(e,n,r)}}}}function Hi(e,t,n,...r){let o=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=o}}function Ui(e,t,n){if(!1===e._updating||Ri!==e){let r=!1;return e.update((()=>{r=Ui(e,t,n)})),r}let r=rr(e);for(let i=4;0<=i;i--)for(let a=0;a<r.length;a++){var o=r[a]._commands.get(t);if(void 0!==o&&void 0!==(o=o[i])){let t=(o=Array.from(o)).length;for(let r=0;r<t;r++)if(!0===o[r](n,e))return!0}}return!1}function ji(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[o,i]=r;void 0!==i&&(r=i.onUpdate,n=i.tag,i.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),o()}}return t}function Yi(e,t,n){let r=e._updateTags;var o,i=o=!1;if(void 0!==n){var a=n.onUpdate;null!=(o=n.tag)&&r.add(o),o=n.skipTransforms||!1,i=n.discrete||!1}a&&e._deferred.push(a),n=e._editorState;let l=!1;(null===(a=e._pendingEditorState)||a._readOnly)&&(a=e._pendingEditorState=new oa(new Map((a||n)._nodeMap)),l=!0),a._flushSync=i,i=Oi;let s=Ii,u=Ri,c=e._updating;Oi=a,Ii=!1,e._updating=!0,Ri=e;try{l&&(e._headless?null!=n._selection&&(a._selection=n._selection.clone()):a._selection=function(e){let t=e.getEditorState()._selection,n=wr(e._window);return li(t)||null==t?Ei(t,n,e,null):t.clone()}(e));let r=e._compositionKey;t(),o=ji(e,o),function(e,t){if(t=t.getEditorState()._selection,li(e=e._selection)){var n=e.anchor;let r,o=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===o.type&&r!==(n=o.getNode())&&n.selectionTransform(t,e)}}(a,e),0!==e._dirtyType&&(o?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)Zo(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&In(t)}(a,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let o=Yn(),i=new Map;var a=n;let l=a.size;for(var s=r,u=s.size;0<l||0<u;){if(0<l){t._dirtyLeaves=new Set;for(let r of a)Zo(a=e.get(r))&&a.isAttached()&&a.isSimpleText()&&!a.isUnmergeable()&&In(a),void 0!==a&&void 0!==a&&a.__key!==o&&a.isAttached()&&Ki(t,a,i),n.add(r);if(l=(a=t._dirtyLeaves).size,0<l){Mi++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of s)s=n[0],u=n[1],("root"===s||u)&&(void 0!==(a=e.get(s))&&void 0!==a&&a.__key!==o&&a.isAttached()&&Ki(t,a,i),r.set(s,u));l=(a=t._dirtyLeaves).size,u=(s=t._dirtyElements).size,Mi++}t._dirtyLeaves=n,t._dirtyElements=r}(a,e),ji(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let o=[];for(let[i]of r){let n=t.get(i);void 0===n||n.isAttached()||(Xi(n)&&Ar(n,i,e,t,o,r),e.has(i)||r.delete(i),o.push(i))}for(let i of o)t.delete(i);for(let i of n)void 0===(r=t.get(i))||r.isAttached()||(e.has(i)||n.delete(i),t.delete(i))}(n,a,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(a._flushSync=!0);let i=a._selection;if(li(i)){let e=a._nodeMap,t=i.focus.key;void 0!==e.get(i.anchor.key)&&void 0!==e.get(t)||tn(19)}else ci(i)&&0===i._nodes.size&&(a._selection=null)}catch(d){return d instanceof Error&&e._onError(d),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Wi(e)}finally{Oi=i,Ii=s,Ri=u,e._updating=c,Mi=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,e=e._selection,null!==e){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(a,e)?a._flushSync?(a._flushSync=!1,Wi(e)):l&&Pn((()=>{Wi(e)})):(a._flushSync=!1,l&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Gi(e,t,n){e._updating?e._updates.push([t,n]):Yi(e,t,n)}class Zi extends Ao{constructor(e){super(e)}decorate(){tn(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ji(e){return e instanceof Zi}class qi extends Ao{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return En[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=Bi()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(Zo(t)&&e.push(t),Xi(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Xi(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Xi(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?Xi(e=t[n-1])&&e.getLastDescendant()||e||null:Xi(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:Gn(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&tn(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:Gn(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&tn(96,this.__key),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let o=t[r];e+=o.getTextContent(),Xi(o)&&r!==n-1&&!o.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let o=t[r];e+=o.getTextContentSize(),Xi(o)&&r!==n-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=_n[e],0!=(this.getFormat()&e))}select(e,t){$i();let n=bi(),r=e,o=t;var i=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(Zo(e=this.getFirstChild())||Xi(e))return e.select(0,0)}else if(!(void 0!==e&&e!==i||void 0!==t&&t!==i)&&(Zo(e=this.getLastChild())||Xi(e)))return e.select();return void 0===r&&(r=i),void 0===o&&(o=i),i=this.__key,li(n)?(n.anchor.set(i,r,"element"),n.focus.set(i,o,"element"),n.dirty=!0,n):yi(i,r,i,o,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?_n[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,o=this.getChildrenSize(),i=this.getWritable(),a=i.__key;var l=[],s=[];let u=this.getChildAtIndex(e+t),c=null,d=o-t+r;if(0!==e)if(e===o)c=this.getLastChild();else{var f=this.getChildAtIndex(e);null!==f&&(c=f.getPreviousSibling())}if(0<t){var g=null===c?this.getFirstChild():c.getNextSibling();for(f=0;f<t;f++){null===g&&tn(100);var p=g.getNextSibling(),h=g.__key;Hn(g=g.getWritable()),s.push(h),g=p}}for(f=c,p=0;p<r;p++){h=n[p],null!==f&&h.is(f)&&(c=f=f.getPreviousSibling()),(g=h.getWritable()).__parent===a&&d--,Hn(g);let e=h.__key;null===f?(i.__first=e,g.__prev=null):((f=f.getWritable()).__next=e,g.__prev=f.__key),h.__key===a&&tn(76),g.__parent=a,l.push(e),f=h}if(e+t===o?null!==f&&(f.getWritable().__next=null,i.__last=f.__key):null!==u&&(e=u.getWritable(),null!==f?(t=f.getWritable(),e.__prev=f.__key,t.__next=u.__key):e.__prev=null),i.__size=d,s.length&&li(e=bi())){s=new Set(s),l=new Set(l);let{anchor:t,focus:n}=e;Qi(t,s,l)&&Ni(t,t.getNode(),this,c,u),Qi(n,s,l)&&Ni(n,n.getNode(),this,c,u),0!==d||this.canBeEmpty()||yr(this)||this.remove()}return i}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function Xi(e){return e instanceof qi}function Qi(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class ea extends qi{static getType(){return"root"}static clone(){return new ea}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){tn(51)}getTextContent(){let e=this.__cachedText;return!Pi()&&0!==Bi()._dirtyType||null===e?super.getTextContent():e}remove(){tn(52)}replace(){tn(53)}insertBefore(){tn(54)}insertAfter(){tn(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];Xi(n)||Ji(n)||tn(56)}return super.append(...e)}static importJSON(e){let t=Qn();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ta(e){return e instanceof ea}function na(){return new oa(new Map([["root",new ea]]))}function ra(e){let t=e.exportJSON();var n=e.constructor;if(t.type!==n.getType()&&tn(130,n.name),Xi(e)){let r=t.children;for(Array.isArray(r)||tn(59,n.name),e=e.getChildren(),n=0;n<e.length;n++){let t=ra(e[n]);r.push(t)}}return t}class oa{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return Vi(this,e)}clone(e){return(e=new oa(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return Vi(this,(()=>({root:ra(Qn())})))}}class ia extends qi{static getType(){return"paragraph"}static clone(e){return new ia(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=lr(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:aa,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&Tr(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=la();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=la();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||Zo(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function aa(e){let t=la();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function la(){return Er(new ia)}function sa(e,t,n,r){let o=e._keyToDOMMap;o.clear(),e._editorState=na(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}class ua{constructor(e,t,n,r,o,i,a){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=or(),this._onError=o,this._htmlConversions=i,this._editable=a,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&tn(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=r.get(e);void 0===o&&tn(36,String(e));let i=o[n];return i.add(t),()=>{i.delete(t),o.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&tn(37,e.name);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){var n=e.getType();return void 0===(n=this._nodes.get(n))&&tn(37,e.name),n.transforms.add(t),n}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){Gi(e,(()=>{var e=Fi();if(!e.isEmpty())if("root"===t)Qn().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Ui(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let i=lr(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,sa(this,t,e,n),null!==t){if(!this._config.disableEvents){0!==po&&(po--,0===po&&t.ownerDocument.removeEventListener("selectionchange",So));var r=t.__lexicalEditor;if(null!=r){if(null!==r._parentEditor){var o=rr(r);o=o[o.length-1]._key,To.get(o)===r&&To.delete(o)}else To.delete(r._key);t.__lexicalEditor=null}for(r=No(t),o=0;o<r.length;o++)r[o]();t.__lexicalEventHandles=[]}null!=i&&t.classList.remove(...i)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,An(this),this._updateTags.add("history-merge"),Wi(this),this._config.disableEvents||function(e,t){0===po&&e.ownerDocument.addEventListener("selectionchange",So),po++,e.__lexicalEditor=t;let n=No(e);for(let r=0;r<so.length;r++){let[o,i]=so[r],a="function"==typeof i?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&i(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(o){case"cut":return Ui(t,Jt,e);case"copy":return Ui(t,Zt,e);case"paste":return Ui(t,Nt,e);case"dragstart":return Ui(t,jt,e);case"dragover":return Ui(t,Yt,e);case"dragend":return Ui(t,Gt,e);case"focus":return Ui(t,Xt,e);case"blur":return Ui(t,Qt,e);case"drop":return Ui(t,Ut,e)}};e.addEventListener(o,a),n.push((()=>{e.removeEventListener(o,a)}))}}(e,this),null!=i&&e.classList.add(...i)):(this._editorState=n,this._window=this._pendingEditorState=null),Hi("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&tn(38),kn(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Wi(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Wi(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=na(),r=Oi,o=Ii,i=Ri,a=this._dirtyElements,l=this._dirtyLeaves,s=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,Oi=n,Ii=!1,Ri=this;try{zi(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(c){c instanceof Error&&this._onError(c)}finally{this._dirtyElements=a,this._dirtyLeaves=l,this._cloneNotNeeded=s,this._dirtyType=u,Oi=r,Ii=o,Ri=i}return n}update(e,t){Gi(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Gi(this,(()=>{let e=bi(),n=Qn();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=wr(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Hi("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class ca extends qi{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function da(e){return e instanceof ca}class fa extends qi{}function ga(e){return e instanceof fa}class pa extends qi{}function ha(e){return e instanceof pa}yt.$INTERNAL_isPointSelection=si,yt.$addUpdateTag=function(e){$i(),Bi()._updateTags.add(e)},yt.$applyNodeReplacement=Er,yt.$copyNode=_r,yt.$createLineBreakNode=Io,yt.$createNodeSelection=_i,yt.$createParagraphNode=la,yt.$createPoint=ei,yt.$createRangeSelection=function(){let e=ei("root",0,"element"),t=ei("root",0,"element");return new ui(e,t,0,"")},yt.$createTabNode=qo,yt.$createTextNode=Go,yt.$getAdjacentNode=cr,yt.$getNearestNodeFromDOMNode=Jn,yt.$getNearestRootOrShadowRoot=vr,yt.$getNodeByKey=Gn,yt.$getPreviousSelection=xi,yt.$getRoot=Qn,yt.$getSelection=bi,yt.$getTextContent=function(){let e=bi();return null===e?"":e.getTextContent()},yt.$hasAncestor=hr,yt.$hasUpdateTag=function(e){return Bi()._updateTags.has(e)},yt.$insertNodes=function(e){let t=bi()||xi();null===t&&(t=Qn().selectEnd()),t.insertNodes(e)},yt.$isBlockElementNode=function(e){return Xi(e)&&!e.isInline()},yt.$isDecoratorNode=Ji,yt.$isElementNode=Xi,yt.$isInlineElementOrDecoratorNode=function(e){return Xi(e)&&e.isInline()||Ji(e)&&e.isInline()},yt.$isLeafNode=function(e){return Zo(e)||Do(e)||Ji(e)},yt.$isLineBreakNode=Do,yt.$isNodeSelection=ci,yt.$isParagraphNode=function(e){return e instanceof ia},yt.$isRangeSelection=li,yt.$isRootNode=ta,yt.$isRootOrShadowRoot=yr,yt.$isTabNode=Xo,yt.$isTextNode=Zo,yt.$nodesOfType=function(e){var t=Fi();let n=t._readOnly,r=e.getType();t=t._nodeMap;let o=[];for(let[,i]of t)i instanceof e&&i.__type===r&&(n||i.isAttached())&&o.push(i);return o},yt.$normalizeSelection__EXPERIMENTAL=Dn,yt.$parseSerializedNode=function(e){return zi(e,Bi()._nodes)},yt.$selectAll=function(){var e=Qn();er(Dn(e=e.select(0,e.getChildrenSize())))},yt.$setCompositionKey=jn,yt.$setSelection=er,yt.$splitNode=function(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),yr(e)&&tn(102);let r=e=>{const t=e.getParentOrThrow(),o=yr(t),i=e!==n||o?_r(e):e;if(o){if(!Xi(e)||!Xi(i))throw Error("Children of a root must be ElementNode");return e.insertAfter(i),[e,i,i]}const[a,l,s]=r(t);return e=e.getNextSiblings(),s.append(i,...e),[a,l,i]},[o,i]=r(n);return[o,i]},yt.BLUR_COMMAND=Qt,yt.CAN_REDO_COMMAND={},yt.CAN_UNDO_COMMAND={},yt.CLEAR_EDITOR_COMMAND={},yt.CLEAR_HISTORY_COMMAND={},yt.CLICK_COMMAND=Et,yt.COMMAND_PRIORITY_CRITICAL=4,yt.COMMAND_PRIORITY_EDITOR=0,yt.COMMAND_PRIORITY_HIGH=3,yt.COMMAND_PRIORITY_LOW=1,yt.COMMAND_PRIORITY_NORMAL=2,yt.CONTROLLED_TEXT_INSERTION_COMMAND=wt,yt.COPY_COMMAND=Zt,yt.CUT_COMMAND=Jt,yt.DELETE_CHARACTER_COMMAND=bt,yt.DELETE_LINE_COMMAND=kt,yt.DELETE_WORD_COMMAND=St,yt.DEPRECATED_$computeGridMap=function(e,t,n){let r=[],o=null,i=null;e=e.getChildren();for(let c=0;c<e.length;c++){var a=e[c];ha(a)||tn(108);var l=a.getChildren();a=0;for(let e of l){for(da(e)||tn(109);void 0!==r[c]&&void 0!==r[c][a];)a++;var s=a,u=e;let d={cell:u,startColumn:s,startRow:l=c},f=u.__rowSpan,g=u.__colSpan;for(let e=0;e<f;e++){void 0===r[l+e]&&(r[l+e]=[]);for(let t=0;t<g;t++)r[l+e][s+t]=d}t.is(u)&&(o=d),n.is(u)&&(i=d),a+=e.__colSpan}}return null===o&&tn(110),null===i&&tn(111),[r,o,i]},yt.DEPRECATED_$getGridCellNodeRect=function(e){let[t,,n]=Si(e),r=(e=n.getChildren()).length;var o=e[0].getChildren().length;let i=Array(r);for(var a=0;a<r;a++)i[a]=Array(o);for(o=0;o<r;o++){a=e[o].getChildren();let n=0;for(let e=0;e<a.length;e++){for(;i[o][n];)n++;let r=a[e],l=r.__rowSpan||1,s=r.__colSpan||1;for(let e=0;e<l;e++)for(let t=0;t<s;t++)i[o+e][n+t]=r;if(t===r)return{colSpan:s,columnIndex:n,rowIndex:o,rowSpan:l};n+=s}}return null},yt.DEPRECATED_$getNodeTriplet=Si,yt.DEPRECATED_$isGridCellNode=da,yt.DEPRECATED_$isGridNode=ga,yt.DEPRECATED_$isGridRowNode=ha,yt.DEPRECATED_GridCellNode=ca,yt.DEPRECATED_GridNode=fa,yt.DEPRECATED_GridRowNode=pa,yt.DRAGEND_COMMAND=Gt,yt.DRAGOVER_COMMAND=Yt,yt.DRAGSTART_COMMAND=jt,yt.DROP_COMMAND=Ut,yt.DecoratorNode=Zi,yt.ElementNode=qi,yt.FOCUS_COMMAND=Xt,yt.FORMAT_ELEMENT_COMMAND={},yt.FORMAT_TEXT_COMMAND=At,yt.INDENT_CONTENT_COMMAND={},yt.INSERT_LINE_BREAK_COMMAND=xt,yt.INSERT_PARAGRAPH_COMMAND=Ct,yt.INSERT_TAB_COMMAND={},yt.INTERNAL_PointSelection=ii,yt.KEY_ARROW_DOWN_COMMAND=Ft,yt.KEY_ARROW_LEFT_COMMAND=Lt,yt.KEY_ARROW_RIGHT_COMMAND=Dt,yt.KEY_ARROW_UP_COMMAND=$t,yt.KEY_BACKSPACE_COMMAND=zt,yt.KEY_DELETE_COMMAND=Wt,yt.KEY_DOWN_COMMAND=It,yt.KEY_ENTER_COMMAND=Bt,yt.KEY_ESCAPE_COMMAND=Vt,yt.KEY_MODIFIER_COMMAND=en,yt.KEY_SPACE_COMMAND=Kt,yt.KEY_TAB_COMMAND=Ht,yt.LineBreakNode=Oo,yt.MOVE_TO_END=Mt,yt.MOVE_TO_START=Pt,yt.OUTDENT_CONTENT_COMMAND={},yt.PASTE_COMMAND=Nt,yt.ParagraphNode=ia,yt.REDO_COMMAND=Rt,yt.REMOVE_TEXT_COMMAND=Tt,yt.RootNode=ea,yt.SELECTION_CHANGE_COMMAND=_t,yt.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND={},yt.SELECT_ALL_COMMAND=qt,yt.TabNode=Jo,yt.TextNode=Bo,yt.UNDO_COMMAND=Ot,yt.createCommand=function(){return{}},yt.createEditor=function(e){var t=e||{},n=Ri,r=t.theme||{};let o=void 0===e?n:t.parentEditor||null,i=t.disableEvents||!1,a=na(),l=t.namespace||(null!==o?o._config.namespace:or()),s=t.editorState,u=[ea,Bo,Oo,Jo,ia,...t.nodes||[]],{onError:c,html:d}=t;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){let t=u[n],r=null;var f=null;"function"!=typeof t&&(t=(f=t).replace,r=f.with,f=f.withKlass||null);let o=t.getType(),i=t.transform(),a=new Set;null!==i&&a.add(i),e.set(o,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:r,replaceWithKlass:f,transforms:a})}return r=new ua(a,o,e,{disableEvents:i,namespace:l,theme:r},c||console.error,function(e,t){let n=new Map,r=new Set,o=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{null==(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)||r.has(e)||(r.add(e),null!==(e=e())&&o(e))})),t&&o(t),n}(e,d?d.import:void 0),t),void 0!==s&&(r._pendingEditorState=s,r._dirtyType=2),r},yt.getNearestEditorFromDOMNode=Bn,yt.isCurrentlyReadOnlyMode=Pi,yt.isHTMLAnchorElement=function(e){return Tr(e)&&"A"===e.tagName},yt.isHTMLElement=Tr,yt.isSelectionCapturedInDecoratorInput=$n,yt.isSelectionWithinEditor=Fn;var ma=yt,va=ma;let ya=new Map;function _a(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function Ea(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function ba(e){let t={};e=e.split(";");for(let n of e)if(""!==n){let[e,r]=n.split(/:([^]+)/);e&&r&&(t[e.trim()]=r.trim())}return t}function xa(e){let t=ya.get(e);return void 0===t&&(t=ba(e),ya.set(e,t)),t}function Ca(e,t){var n=xa("getStyle"in e?e.getStyle():e.style);n=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(t=Object.entries(t).reduce(((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e)),{...n})),e.setStyle(n),ya.set(n,t)}function wa(e){for(;null!==e&&!va.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}function Na(e,t,n,r,o=null){if(0!==t.length){var i=t[0],a=new Map,l=[];(i=va.$isElementNode(i)?i:i.getParentOrThrow()).isInline()&&(i=i.getParentOrThrow());for(var s=!1;null!==i;){var u=i.getPreviousSibling();if(null!==u){i=u,s=!0;break}if(i=i.getParentOrThrow(),va.$isRootOrShadowRoot(i))break}u=new Set;for(var c=0;c<n;c++){var d=t[c];va.$isElementNode(d)&&0===d.getChildrenSize()&&u.add(d.getKey())}var f=new Set;for(c=0;c<n;c++){var g=(d=t[c]).getParent();if(null!==g&&g.isInline()&&(g=g.getParent()),null!==g&&va.$isLeafNode(d)&&!f.has(d.getKey())){if(d=g.getKey(),void 0===a.get(d)){let e=r();e.setFormat(g.getFormatType()),e.setIndent(g.getIndent()),l.push(e),a.set(d,e),g.getChildren().forEach((t=>{e.append(t),f.add(t.getKey()),va.$isElementNode(t)&&t.getChildrenKeys().forEach((e=>f.add(e)))})),wa(g)}}else if(u.has(d.getKey())){if(!va.$isElementNode(d))throw Error("Expected node in emptyElements to be an ElementNode");(g=r()).setFormat(d.getFormatType()),g.setIndent(d.getIndent()),l.push(g),d.remove(!0)}}if(null!==o)for(t=0;t<l.length;t++)o.append(l[t]);if(t=null,va.$isRootOrShadowRoot(i))if(s)if(null!==o)i.insertAfter(o);else for(o=l.length-1;0<=o;o--)i.insertAfter(l[o]);else if(s=i.getFirstChild(),va.$isElementNode(s)&&(i=s),null===s)if(o)i.append(o);else for(o=0;o<l.length;o++)s=l[o],i.append(s),t=s;else if(null!==o)s.insertBefore(o);else for(i=0;i<l.length;i++)o=l[i],s.insertBefore(o),t=o;else if(o)i.insertAfter(o);else for(o=l.length-1;0<=o;o--)s=l[o],i.insertAfter(s),t=s;l=va.$getPreviousSelection(),va.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?va.$setSelection(l.clone()):null!==t?t.selectEnd():e.dirty=!0}}function Ta(e,t,n,r){e.modify(t?"extend":"move",n,r)}function Sa(e){return e=e.anchor.getNode(),"rtl"===(va.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}function ka(e){if(va.$isDecoratorNode(e)&&!e.isInline())return!0;if(!va.$isElementNode(e)||va.$isRootOrShadowRoot(e))return!1;var t=e.getFirstChild();return t=null===t||va.$isLineBreakNode(t)||va.$isTextNode(t)||t.isInline(),!e.isInline()&&!1!==e.canBeEmpty()&&t}vt.$addNodeStyle=function(e){let t=ba(e=e.getStyle());ya.set(e,t)},vt.$cloneWithProperties=function(e){let t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,va.$isElementNode(e)&&va.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(va.$isTextNode(e)&&va.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)},vt.$getSelectionStyleValueForProperty=function(e,t,n=""){let r=null,o=e.getNodes();var i=e.anchor,a=e.focus,l=e.isBackward();let s=l?a.offset:i.offset;if(i=l?a.getNode():i.getNode(),e.isCollapsed()&&""!==e.style&&(null!==(e=xa(e.style))&&t in e))return e[t];for(e=0;e<o.length;e++){var u=o[e];if((0===e||0!==s||!u.is(i))&&va.$isTextNode(u))if(a=t,l=n,a=null!==(u=xa(u=u.getStyle()))&&u[a]||l,null===r)r=a;else if(r!==a){r="";break}}return null===r?n:r},vt.$isAtNodeEnd=function(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();let t=e.getNode();if(!va.$isElementNode(t))throw Error("isAtNodeEnd: node must be a TextNode or ElementNode");return e.offset===t.getChildrenSize()},vt.$isParentElementRTL=Sa,vt.$moveCaretSelection=Ta,vt.$moveCharacter=function(e,t,n){let r=Sa(e);Ta(e,t,n?!r:r,"character")},vt.$patchStyleText=function e(t,n){var r=t.getNodes(),o=r.length;if(va.$isRangeSelection(t)){--o;var i=r[0],a=r[o];if(t.isCollapsed()&&va.$isRangeSelection(t))Ca(t,n);else{var l=t.anchor,s=t.focus,u=i.getTextContent().length,c=s.offset,d=l.offset,f=l.isBefore(s),g=f?d:c;t=f?c:d;var p=f?l.type:s.type,h=f?s.type:l.type;if(s=f?s.key:l.key,va.$isTextNode(i)&&g===u&&(f=i.getNextSibling(),va.$isTextNode(f)&&(g=d=0,i=f)),1===r.length)va.$isTextNode(i)&&((g="element"===p?0:d>c?c:d)!==(t="element"===h?u:d>c?d:c)&&(0===g&&t===u?(Ca(i,n),i.select(g,t)):(r=i.splitText(g,t),Ca(r=0===g?r[0]:r[1],n),r.select(0,t-g))));else for(va.$isTextNode(i)&&g<i.getTextContentSize()&&(0!==g&&(i=i.splitText(g)[1],g=0,l.set(i.getKey(),g,"text")),Ca(i,n)),va.$isTextNode(a)&&(g=a.getTextContent().length,a.__key!==s&&0!==t&&(t=g),t!==g&&([a]=a.splitText(t)),0!==t&&Ca(a,n)),t=1;t<o;t++)l=(g=r[t]).getKey(),va.$isTextNode(g)&&l!==i.getKey()&&l!==a.getKey()&&!g.isToken()&&Ca(g,n)}}else{for(a=(i=va.$createRangeSelection()).anchor,g=i.focus,l=0;l<o;l++)u=r[l],va.DEPRECATED_$isGridCellNode(u)&&(a.set(u.getKey(),0,"element"),g.set(u.getKey(),u.getChildrenSize(),"element"),e(va.$normalizeSelection__EXPERIMENTAL(i),n));va.$setSelection(t)}},vt.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let o="element",i="element",a=0;va.$isTextNode(r)?o="text":va.$isElementNode(r)||null===r||(r=r.getParentOrThrow()),va.$isTextNode(n)?(i="text",a=n.getTextContentSize()):va.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),r&&n&&(t.set(r.getKey(),0,o),e.set(n.getKey(),a,i))},vt.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=va.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else{for(n=e.getNodes(),e=e.anchor.getNode();null!==e&&null!==e.getParent()&&!ka(e);)e=e.getParentOrThrow();for((e=ka(e)?e:null)&&-1===n.indexOf(e)&&n.push(e),e=0;e<n.length;e++){let r=n[e];if(!ka(r))continue;if(!va.$isElementNode(r))throw Error("Expected block node to be an ElementNode");let o=t();o.setFormat(r.getFormatType()),o.setIndent(r.getIndent()),r.replace(o,!0)}}},vt.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=va.$getAdjacentNode(e.focus,t),va.$isDecoratorNode(e)&&!e.isIsolated()||va.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},vt.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&va.$INTERNAL_isPointSelection(e)){var n=e.anchor.getNode(),r=e.focus.getNode(),o=t.is(n),i=t.is(r);if(o||i){o=e.isBackward();let a,[l,s]=e.getCharacterOffsets();e=n.is(r),i=t.is(o?r:n),r=t.is(o?n:r),n=0,e?(n=l>s?s:l,a=l>s?l:s):i?(n=o?s:l,a=void 0):r&&(n=0,a=o=o?l:s),t.__text=t.__text.slice(n,a)}}return t},vt.$wrapNodes=function(e,t,n=null){var r=e.getNodes();let o=r.length;var i=e.anchor;if(0===o||1===o&&"element"===i.type&&0===i.getNode().getChildrenSize()){r=(e="text"===i.type?i.getNode().getParentOrThrow():i.getNode()).getChildren();let o=t();o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),r.forEach((e=>o.append(e))),n&&(o=n.append(o)),e.replace(o)}else{i=null;var a=[];for(let l=0;l<o;l++){let o=r[l];va.$isRootOrShadowRoot(o)?(Na(e,a,a.length,t,n),a=[],i=o):null===i||null!==i&&va.$hasAncestor(o,i)?a.push(o):(Na(e,a,a.length,t,n),a=[o])}Na(e,a,a.length,t,n)}},vt.createDOMRange=function(e,t,n,r,o){let i=t.getKey(),a=r.getKey(),l=document.createRange(),s=e.getElementByKey(i);if(e=e.getElementByKey(a),va.$isTextNode(t)&&(s=_a(s)),va.$isTextNode(r)&&(e=_a(e)),void 0===t||void 0===r||null===s||null===e)return null;"BR"===s.nodeName&&([s,n]=Ea(s)),"BR"===e.nodeName&&([e,o]=Ea(e)),t=s.firstChild,s===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===o&&(o=1);try{l.setStart(s,n),l.setEnd(e,o)}catch(u){return null}return!l.collapsed||n===o&&i===a||(l.setStart(e,o),l.setEnd(s,n)),l},vt.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);let r,o=(t=Array.from(t.getClientRects())).length;t.sort(((e,t)=>{let n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n}));for(let i=0;i<o;i++){let a=t[i],l=a.width+n===e.width;r&&r.top<=a.top&&r.top+r.height>a.top&&r.left+r.width>a.left||l?(t.splice(i--,1),o--):r=a}return t},vt.getStyleObjectFromCSS=xa,vt.trimTextContentFromAnchor=function(e,t,n){let r=t.getNode();if(va.$isElementNode(r)){var o=r.getDescendantByIndex(t.offset);null!==o&&(r=o)}for(;0<n&&null!==r;){va.$isElementNode(r)&&(null!==(o=r.getLastDescendant())&&(r=o));var i=r.getPreviousSibling(),a=0;if(null===i){for(var l=(o=r.getParentOrThrow()).getPreviousSibling();null===l;){if(null===(o=o.getParent())){i=null;break}l=o.getPreviousSibling()}null!==o&&(a=o.isInline()?0:2,i=l)}if(""===(l=r.getTextContent())&&va.$isElementNode(r)&&!r.isInline()&&(l="\n\n"),o=l.length,!va.$isTextNode(r)||n>=o)l=r.getParent(),r.remove(),null==l||0!==l.getChildrenSize()||va.$isRootNode(l)||l.remove(),n-=o+a,r=i;else{let s=r.getKey();a=e.getEditorState().read((()=>{const e=va.$getNodeByKey(s);return va.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null})),i=o-n;let u=l.slice(0,i);null!==a&&a!==l?(n=va.$getPreviousSelection(),o=r,r.isSimpleText()?r.setTextContent(a):(o=va.$createTextNode(a),r.replace(o)),va.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,o.select(n,n))):r.isSimpleText()?(a=t.key===s,(l=t.offset)<n&&(l=o),n=a?l-n:0,o=a?l:i,a&&0===n?([n]=r.splitText(n,o),n.remove()):([,n]=r.splitText(n,o),n.remove())):(n=va.$createTextNode(u),r.replace(n)),n=0}}};var Aa=vt,Oa=Aa,Ra=ma;function Ia(...e){return()=>{e.forEach((e=>e()))}}let Da={attributes:!0,characterData:!0,childList:!0,subtree:!0};function Ma(e,t,n){function r(){if(null===i)throw Error("Unexpected null rootDOMNode");if(null===a)throw Error("Unexpected null parentDOMNode");let{left:r,top:o}=i.getBoundingClientRect();var l=a;let c=Oa.createRectsFromDOMRange(e,t);u.isConnected||l.append(u),l=!1;for(let e=0;e<c.length;e++){var d=c[e];let t=s[e]||document.createElement("div"),n=t.style;"absolute"!==n.position&&(n.position="absolute",l=!0);var f=d.left-r+"px";n.left!==f&&(n.left=f,l=!0),f=d.top-o+"px",n.top!==f&&(t.style.top=f,l=!0),f=`${d.width}px`,n.width!==f&&(t.style.width=f,l=!0),d=`${d.height}px`,n.height!==d&&(t.style.height=d,l=!0),t.parentNode!==u&&(u.append(t),l=!0),s[e]=t}for(;s.length>c.length;)s.pop();l&&n(s)}function o(){i=a=null,null!==l&&l.disconnect(),l=null,u.remove();for(let e of s)e.remove();s=[]}let i=null,a=null,l=null,s=[],u=document.createElement("div"),c=e.registerRootListener((function t(){let n=e.getRootElement();if(null===n)return o();let s=n.parentElement;if(!(s instanceof HTMLElement))return o();o(),i=n,a=s,l=new MutationObserver((n=>{let o=e.getRootElement(),l=o&&o.parentElement;if(o!==i||l!==a)return t();for(let e of n)if(!u.contains(e.target))return r()})),l.observe(s,Da),r()}));return()=>{c(),o()}}function La(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}let Pa=(e,t)=>{for(;e!==Ra.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null};mt.$splitNode=Ra.$splitNode,mt.isHTMLAnchorElement=Ra.isHTMLAnchorElement,mt.isHTMLElement=Ra.isHTMLElement,mt.$dfs=function(e,t){let n=[];e=(e||Ra.$getRoot()).getLatest(),t=t||(Ra.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,o=0;null!==(r=r.getParent());)o++;for(r=o;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),Ra.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(o=null;null===o&&null!==e;)null===(o=e.getNextSibling())?(e=e.getParent(),r--):e=o;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},mt.$filter=function(e,t){let n=[];for(let r=0;r<e.length;r++){let o=t(e[r]);null!==o&&n.push(o)}return n},mt.$findMatchingParent=Pa,mt.$getNearestBlockElementAncestorOrThrow=function(e){let t=Pa(e,(e=>Ra.$isElementNode(e)&&!e.isInline()));return Ra.$isElementNode(t)||function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,e.__key),t},mt.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},mt.$insertFirst=function(e,t){let n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)},mt.$insertNodeToNearestRoot=function(e){var t=Ra.$getSelection()||Ra.$getPreviousSelection();if(Ra.$isRangeSelection(t)){var{focus:n}=t;if(t=n.getNode(),n=n.offset,Ra.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{let r,o;Ra.$isTextNode(t)?(r=t.getParentOrThrow(),o=t.getIndexWithinParent(),0<n&&(o+=1,t.splitText(n))):(r=t,o=n),[,t]=Ra.$splitNode(r,o),t.insertBefore(e),t.selectStart()}}else null!=t?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):Ra.$getRoot().append(e),t=Ra.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},mt.$restoreEditorState=function(e,t){let n=new Map,r=e._pendingEditorState;for(let[o,i]of t._nodeMap){let e=Oa.$cloneWithProperties(i);if(Ra.$isTextNode(e)){if(!Ra.$isTextNode(i))throw Error("Expected node be a TextNode");e.__text=i.__text}n.set(o,e)}r&&(r._nodeMap=n),e._dirtyType=2,e=t._selection,Ra.$setSelection(null===e?null:e.clone())},mt.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},mt.addClassNamesToElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&(t=t.split(" ").filter((e=>""!==e)),e.classList.add(...t))}))},mt.isMimeType=La,mt.markSelection=function(e,t){function n(n){n.read((()=>{var n=Ra.$getSelection();if(Ra.$isRangeSelection(n)){var{anchor:s,focus:u}=n,c=(n=s.getNode()).getKey(),d=s.offset,f=u.getNode(),g=f.getKey(),p=u.offset,h=e.getElementByKey(c),m=e.getElementByKey(g);if(c=null===r||null===h||d!==o||c!==r.getKey()||n!==r&&(!(r instanceof Ra.TextNode)||n.updateDOM(r,h,e._config)),g=null===i||null===m||p!==a||g!==i.getKey()||f!==i&&(!(i instanceof Ra.TextNode)||f.updateDOM(i,m,e._config)),c||g){h=e.getElementByKey(s.getNode().getKey());var v=e.getElementByKey(u.getNode().getKey());if(null!==h&&null!==v&&"SPAN"===h.tagName&&"SPAN"===v.tagName){if(g=document.createRange(),u.isBefore(s)?(c=v,m=u.offset,v=h,h=s.offset):(c=h,m=s.offset,h=u.offset),null===(c=c.firstChild))throw Error("Expected text node to be first child of span");if(null===(v=v.firstChild))throw Error("Expected text node to be first child of span");g.setStart(c,m),g.setEnd(v,h),l(),l=Ma(e,g,(e=>{for(let t of e){let e=t.style;"Highlight"!==e.background&&(e.background="Highlight"),"HighlightText"!==e.color&&(e.color="HighlightText"),"-1"!==e.zIndex&&(e.zIndex="-1"),"none"!==e.pointerEvents&&(e.pointerEvents="none"),"-1.5px"!==e.marginTop&&(e.marginTop="-1.5px"),"4px"!==e.paddingTop&&(e.paddingTop="4px"),"0px"!==e.paddingBottom&&(e.paddingBottom="0px")}void 0!==t&&t(e)}))}}r=n,o=d,i=f,a=p}else a=i=o=r=null,l(),l=()=>{}}))}let r=null,o=null,i=null,a=null,l=()=>{};return n(e.getEditorState()),Ia(e.registerUpdateListener((({editorState:e})=>n(e))),l,(()=>{l()}))},mt.mediaFileReader=function(e,t){let n=e[Symbol.iterator]();return new Promise(((e,r)=>{let o=[],i=()=>{const{done:a,value:l}=n.next();if(a)return e(o);const s=new FileReader;s.addEventListener("error",r),s.addEventListener("load",(()=>{const e=s.result;"string"==typeof e&&o.push({file:l,result:e}),i()})),La(l,t)?s.readAsDataURL(l):i()};i()}))},mt.mergeRegister=Ia,mt.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},mt.positionNodeOnRange=Ma,mt.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,(e=>{e:{for(var o=e.getChildren(),i=0;i<o.length;i++)if(o[i]instanceof t){o=null;break e}for(o=e;null!==o;)if(i=o,(o=o.getParent())instanceof t){o={child:i,parent:o};break e}o=null}if(null!==o){const{child:t,parent:a}=o;if(t.is(e)){if(r(a,e),o=(e=t.getNextSiblings()).length,a.insertAfter(t),0!==o){i=n(a),t.insertAfter(i);for(let t=0;t<o;t++)i.append(e[t])}a.canBeEmpty()||0!==a.getChildrenSize()||a.remove()}}}))},mt.removeClassNamesFromElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))}))};var $a=mt,Fa=$a,Ba=ma;function Ka(e,t){let n=Date.now(),r=0;return(o,i,a,l,s,u)=>{let c=Date.now();if(u.has("historic"))return r=0,n=c,2;let d=function(e,t,n,r,o){if(null===e||0===n.size&&0===r.size&&!o)return 0;var i=t._selection,a=e._selection;if(o)return 1;if(!(Ba.$isRangeSelection(i)&&Ba.$isRangeSelection(a)&&a.isCollapsed()&&i.isCollapsed()))return 0;o=t._nodeMap;let l=[];for(let s of n)void 0!==(n=o.get(s))&&l.push(n);for(let[s,u]of r)u&&(void 0===(r=o.get(s))||Ba.$isRootNode(r)||l.push(r));return 0===l.length?0:1<l.length?(t=(r=t._nodeMap).get(i.anchor.key),a=r.get(a.anchor.key),t&&a&&!e._nodeMap.has(t.__key)&&Ba.$isTextNode(t)&&1===t.__text.length&&1===i.anchor.offset?2:0):(t=l[0],e=e._nodeMap.get(t.__key),Ba.$isTextNode(e)&&Ba.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(i=i.anchor,a=a.anchor,i.key!==a.key||"text"!==i.type?0:(i=i.offset,a=a.offset,1==(e=t.length-e.length)&&a===i-1?2:-1===e&&a===i+1?3:-1===e&&a===i?4:0)):0)}(o,i,l,s,e.isComposing()),f=(()=>{var f=null===a||a.editor===e,g=u.has("history-push");if(!g&&f&&u.has("history-merge"))return 0;if(null===o)return 1;var p=i._selection;if(!(0<l.size||0<s.size))return null!==p?0:2;if(!1===g&&0!==d&&d===r&&c<n+t&&f)return 0;if(1===l.size){{g=Array.from(l)[0],f=o._nodeMap.get(g),g=i._nodeMap.get(g),p=o._selection;let e=i._selection,t=!1;Ba.$isRangeSelection(p)&&Ba.$isRangeSelection(e)&&(t="element"===p.anchor.type&&"element"===p.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),f=!(t||!Ba.$isTextNode(f)||!Ba.$isTextNode(g))&&(f.__type===g.__type&&f.__text===g.__text&&f.__mode===g.__mode&&f.__detail===g.__detail&&f.__style===g.__style&&f.__format===g.__format&&f.__parent===g.__parent)}if(f)return 0}return 1})();return n=c,r=d,f}}ht.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},ht.registerHistory=function(e,t,n){let r=Ka(e,n);n=({editorState:n,prevEditorState:o,dirtyLeaves:i,dirtyElements:a,tags:l})=>{const s=t.current,u=t.redoStack,c=t.undoStack,d=null===s?null:s.editorState;if(null===s||n!==d){if(1===(o=r(o,n,s,i,a,l)))0!==u.length&&(t.redoStack=[],e.dispatchCommand(Ba.CAN_REDO_COMMAND,!1)),null!==s&&(c.push({...s}),e.dispatchCommand(Ba.CAN_UNDO_COMMAND,!0));else if(2===o)return;t.current={editor:e,editorState:n}}};let o=Fa.mergeRegister(e.registerCommand(Ba.UNDO_COMMAND,(()=>{let n=t.redoStack,r=t.undoStack;if(0!==r.length){let o=t.current,i=r.pop();null!==o&&(n.push(o),e.dispatchCommand(Ba.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(Ba.CAN_UNDO_COMMAND,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}return!0}),Ba.COMMAND_PRIORITY_EDITOR),e.registerCommand(Ba.REDO_COMMAND,(()=>{let n=t.redoStack;var r=t.undoStack;if(0!==n.length){let o=t.current;null!==o&&(r.push(o),e.dispatchCommand(Ba.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(Ba.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),Ba.COMMAND_PRIORITY_EDITOR),e.registerCommand(Ba.CLEAR_EDITOR_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1)),Ba.COMMAND_PRIORITY_EDITOR),e.registerCommand(Ba.CLEAR_HISTORY_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(Ba.CAN_REDO_COMMAND,!1),e.dispatchCommand(Ba.CAN_UNDO_COMMAND,!1),!0)),Ba.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),i=e.registerUpdateListener(n);return()=>{o(),i()}};var za=pt,Va=ht,Wa=e;ct.createEmptyHistoryState=Va.createEmptyHistoryState,ct.HistoryPlugin=function({externalHistoryState:e}){let[t]=za.useLexicalComposerContext();return function(e,t,n=1e3){let r=Wa.useMemo((()=>t||Va.createEmptyHistoryState()),[t]);Wa.useEffect((()=>Va.registerHistory(e,r,n)),[n,e,r])}(t,e),null};var Ha=ct,Ua={},ja={},Ya={},Ga=Aa,Za=$a,Ja=ma;function qa(e,t,n,r=null){let o=null==r||t.isSelected(r),i=Ja.$isElementNode(t)&&t.excludeFromCopy("html");var a=t;null!==r&&(a=Ga.$cloneWithProperties(t),a=Ja.$isTextNode(a)&&null!=r?Ga.$sliceSelectedTextNodeContent(r,a):a);let l=Ja.$isElementNode(a)?a.getChildren():[];var s=e._nodes.get(a.getType());s=s&&void 0!==s.exportDOM?s.exportDOM(e,a):a.exportDOM(e);let{element:u,after:c}=s;if(!u)return!1;s=document.createDocumentFragment();for(let d=0;d<l.length;d++){let n=l[d],i=qa(e,n,s,r);!o&&Ja.$isElementNode(t)&&i&&t.extractWithChild(n,r,"html")&&(o=!0)}return o&&!i?(Za.isHTMLElement(u)&&u.append(s),n.append(u),c&&(e=c.call(a,u))&&u.replaceWith(e)):n.append(s),o}let Xa=new Set(["STYLE","SCRIPT"]);function Qa(e,t,n=new Map,r){let o=[];if(Xa.has(e.nodeName))return o;let i=null;var a,{nodeName:l}=e,s=t._htmlConversions.get(l.toLowerCase());if(l=null,void 0!==s)for(a of s)null!==(s=a(e))&&(null===l||(l.priority||0)<(s.priority||0))&&(l=s);if(l=(a=null!==l?l.conversion:null)?a(e):null,a=null,null!==l){if(a=l.after,s=l.node,i=Array.isArray(s)?s[s.length-1]:s,null!==i){for(var[,u]of n)if(i=u(i,r),!i)break;i&&o.push(...Array.isArray(s)?s:[i])}null!=l.forChild&&n.set(e.nodeName,l.forChild)}for(e=e.childNodes,r=[],u=0;u<e.length;u++)r.push(...Qa(e[u],t,new Map(n),i));return null!=a&&(r=a(r)),null==i?o=o.concat(r):Ja.$isElementNode(i)&&i.append(...r),o}Ya.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=Ja.$getRoot().getChildren();for(let o=0;o<r.length;o++)qa(e,r[o],n,t);return n.innerHTML},Ya.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];let n=[];for(let o=0;o<t.length;o++){var r=t[o];Xa.has(r.nodeName)||null!==(r=Qa(r,e))&&(n=n.concat(r))}return n};var el=Ya,tl=Aa,nl=$a,rl=ma;function ol(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let il="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function al(e){let t=rl.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return rl.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":el.$generateHtmlFromNodes(e,t)}function ll(e){let t=rl.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return rl.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(cl(e,t))}function sl(e,t,n){e.dispatchCommand(rl.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||n.insertNodes(t)}function ul(e,t,n,r=[]){let o=null==t||n.isSelected(t),i=rl.$isElementNode(n)&&n.excludeFromCopy("html");var a=n;if(null!==t){var l=tl.$cloneWithProperties(n);a=l=rl.$isTextNode(l)&&null!=t?tl.$sliceSelectedTextNodeContent(t,l):l}let s=rl.$isElementNode(a)?a.getChildren():[];var u=a;l=u.exportJSON();var c=u.constructor;for(l.type!==c.getType()&&ol(58,c.name),rl.$isElementNode(u)&&(Array.isArray(l.children)||ol(59,c.name)),rl.$isTextNode(a)&&(0<(a=a.__text).length?l.text=a:o=!1),a=0;a<s.length;a++)c=ul(e,t,u=s[a],l.children),!o&&rl.$isElementNode(n)&&c&&n.extractWithChild(u,t,"clone")&&(o=!0);if(o&&!i)r.push(l);else if(Array.isArray(l.children))for(e=0;e<l.children.length;e++)r.push(l.children[e]);return o}function cl(e,t){let n=[],r=rl.$getRoot().getChildren();for(let o=0;o<r.length;o++)ul(e,t,r[o],n);return{namespace:e._config.namespace,nodes:n}}function dl(e){let t=[];for(let n=0;n<e.length;n++){let r=rl.$parseSerializedNode(e[n]);rl.$isTextNode(r)&&tl.$addNodeStyle(r),t.push(r)}return t}let fl=null;function gl(e,t){var n=il?(e._window||window).getSelection():null;if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!rl.isSelectionWithinEditor(e,r,n))return!1;if(t.preventDefault(),t=t.clipboardData,r=rl.$getSelection(),null===t||null===r)return!1;n=al(e),e=ll(e);let o="";return null!==r&&(o=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",o),!0}ja.$generateJSONFromSelectedNodes=cl,ja.$generateNodesFromSerializedNodes=dl,ja.$getHtmlContent=al,ja.$getLexicalContent=ll,ja.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},ja.$insertDataTransferForRichText=function(e,t,n){var r=e.getData("application/x-lexical-editor");if(r)try{let e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){return sl(n,dl(e.nodes),t)}}catch(i){}if(r=e.getData("text/html"))try{var o=(new DOMParser).parseFromString(r,"text/html");return sl(n,el.$generateNodesFromDOM(n,o),t)}catch(i){}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list")))if(rl.$isRangeSelection(t))for(""===(e=e.split(/(\r?\n|\t)/))[e.length-1]&&e.pop(),n=0;n<e.length;n++)"\n"===(o=e[n])||"\r\n"===o?t.insertParagraph():"\t"===o?t.insertNodes([rl.$createTabNode()]):t.insertText(o);else t.insertRawText(e)},ja.$insertGeneratedNodes=sl,ja.copyToClipboard=async function(e,t){if(null!==fl)return!1;if(null!==t)return new Promise((n=>{e.update((()=>{n(gl(e,t))}))}));var n=e.getRootElement();let r=null==e._window?window.document:e._window.document,o=il?(e._window||window).getSelection():null;if(null===n||null===o)return!1;let i=r.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(r.createTextNode("#")),n.append(i),(n=new Range).setStart(i,0),n.setEnd(i,1),o.removeAllRanges(),o.addRange(n),new Promise((t=>{let n=e.registerCommand(rl.COPY_COMMAND,(r=>(nl.objectKlassEquals(r,ClipboardEvent)&&(n(),null!==fl&&(window.clearTimeout(fl),fl=null),t(gl(e,r))),!0)),rl.COMMAND_PRIORITY_CRITICAL);fl=window.setTimeout((()=>{n(),fl=null,t(!1)}),50),r.execCommand("copy"),i.remove()}))};var pl=ja,hl=Aa,ml=$a,vl=ma;function yl(e,t){return void 0!==document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}let _l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,El=_l&&"documentMode"in document?document.documentMode:null,bl=!(!_l||!("InputEvent"in window)||El)&&"getTargetRanges"in new window.InputEvent("input"),xl=_l&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Cl=_l&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,wl=_l&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Nl=_l&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!wl,Tl=vl.createCommand("DRAG_DROP_PASTE_FILE"),Sl=class e extends vl.ElementNode{static getType(){return"quote"}static clone(t){return new e(t.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return ml.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:Il,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&ml.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=kl();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=vl.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=vl.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}};function kl(){return vl.$applyNodeReplacement(new Sl)}let Al=class e extends vl.ElementNode{static getType(){return"heading"}static clone(t){return new e(t.__tag,t.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&ml.addClassNamesToElement(n,e[t]),n}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:Rl,priority:0}),h2:()=>({conversion:Rl,priority:0}),h3:()=>({conversion:Rl,priority:0}),h4:()=>({conversion:Rl,priority:0}),h5:()=>({conversion:Rl,priority:0}),h6:()=>({conversion:Rl,priority:0}),p:e=>null!==(e=e.firstChild)&&Ol(e)?{conversion:()=>({node:null}),priority:3}:null,span:e=>Ol(e)?{conversion:()=>({node:Dl("h1")}),priority:3}:null}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&ml.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=Dl(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){let n=e?e.anchor.offset:0,r=n!==this.getTextContentSize()&&e?Dl(this.getTag()):vl.$createParagraphNode(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,t),0===n&&!this.isEmpty()&&e&&((e=vl.$createParagraphNode()).select(),this.replace(e,!0)),r}collapseAtStart(){let e=this.isEmpty()?vl.$createParagraphNode():Dl(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}};function Ol(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Rl(e){let t=e.nodeName.toLowerCase(),n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=Dl(t),null!==e.style&&n.setFormat(e.style.textAlign)),{node:n}}function Il(e){let t=kl();return null!==e.style&&t.setFormat(e.style.textAlign),{node:t}}function Dl(e){return vl.$applyNodeReplacement(new Al(e))}function Ml(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function Ll(e){var t=vl.$getSelection();if(!vl.$isRangeSelection(t))return!1;let n=new Set;t=t.getNodes();for(let i=0;i<t.length;i++){var r=t[i],o=r.getKey();n.has(o)||(o=(r=ml.$getNearestBlockElementAncestorOrThrow(r)).getKey(),r.canIndent()&&!n.has(o)&&(n.add(o),e(r)))}return 0<n.size}function Pl(e){return e=vl.$getNearestNodeFromDOMNode(e),vl.$isDecoratorNode(e)}Ua.$createHeadingNode=Dl,Ua.$createQuoteNode=kl,Ua.$isHeadingNode=function(e){return e instanceof Al},Ua.$isQuoteNode=function(e){return e instanceof Sl},Ua.DRAG_DROP_PASTE=Tl,Ua.HeadingNode=Al,Ua.QuoteNode=Sl,Ua.eventFiles=Ml,Ua.registerRichText=function(e){return ml.mergeRegister(e.registerCommand(vl.CLICK_COMMAND,(()=>{const e=vl.$getSelection();return!!vl.$isNodeSelection(e)&&(e.clear(),!0)}),0),e.registerCommand(vl.DELETE_CHARACTER_COMMAND,(e=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.DELETE_WORD_COMMAND,(e=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.DELETE_LINE_COMMAND,(e=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.CONTROLLED_TEXT_INSERTION_COMMAND,(t=>{const n=vl.$getSelection();if("string"==typeof t)vl.$INTERNAL_isPointSelection(n)&&n.insertText(t);else{if(!vl.$INTERNAL_isPointSelection(n))return!1;const r=t.dataTransfer;null!=r?pl.$insertDataTransferForRichText(r,n,e):vl.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.REMOVE_TEXT_COMMAND,(()=>{const e=vl.$getSelection();return!!vl.$isRangeSelection(e)&&(e.removeText(),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.FORMAT_TEXT_COMMAND,(e=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(t.formatText(e),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.FORMAT_ELEMENT_COMMAND,(e=>{var t=vl.$getSelection();if(!vl.$isRangeSelection(t)&&!vl.$isNodeSelection(t))return!1;t=t.getNodes();for(const n of t)null!==(t=ml.$findMatchingParent(n,(e=>vl.$isElementNode(e)&&!e.isInline())))&&t.setFormat(e);return!0}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.INSERT_LINE_BREAK_COMMAND,(e=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.INSERT_PARAGRAPH_COMMAND,(()=>{const e=vl.$getSelection();return!!vl.$isRangeSelection(e)&&(e.insertParagraph(),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.INSERT_TAB_COMMAND,(()=>(vl.$insertNodes([vl.$createTabNode()]),!0)),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.INDENT_CONTENT_COMMAND,(()=>Ll((e=>{const t=e.getIndent();e.setIndent(t+1)}))),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.OUTDENT_CONTENT_COMMAND,(()=>Ll((e=>{const t=e.getIndent();0<t&&e.setIndent(t-1)}))),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ARROW_UP_COMMAND,(e=>{var t=vl.$getSelection();if(vl.$isNodeSelection(t)&&!Pl(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(vl.$isRangeSelection(t)&&(t=vl.$getAdjacentNode(t.focus,!0),!e.shiftKey&&vl.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline()))return t.selectPrevious(),e.preventDefault(),!0;return!1}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ARROW_DOWN_COMMAND,(e=>{var t=vl.$getSelection();if(vl.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(vl.$isRangeSelection(t)){let n=t.focus;if("root"===n.key&&n.offset===vl.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=vl.$getAdjacentNode(t.focus,!1),!e.shiftKey&&vl.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ARROW_LEFT_COMMAND,(e=>{const t=vl.$getSelection();if(vl.$isNodeSelection(t)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectPrevious(),!0}return!!vl.$isRangeSelection(t)&&(!!hl.$shouldOverrideDefaultCharacterSelection(t,!0)&&(n=e.shiftKey,e.preventDefault(),hl.$moveCharacter(t,n,!0),!0))}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ARROW_RIGHT_COMMAND,(e=>{const t=vl.$getSelection();if(vl.$isNodeSelection(t)&&!Pl(e.target)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectNext(0,0),!0}return!!vl.$isRangeSelection(t)&&(n=e.shiftKey,!!hl.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),hl.$moveCharacter(t,n,!1),!0))}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_BACKSPACE_COMMAND,(t=>{if(Pl(t.target))return!1;const n=vl.$getSelection();if(!vl.$isRangeSelection(n))return!1;t.preventDefault(),({anchor:t}=n);const r=t.getNode();return n.isCollapsed()&&0===t.offset&&!vl.$isRootNode(r)&&0<ml.$getNearestBlockElementAncestorOrThrow(r).getIndent()?e.dispatchCommand(vl.OUTDENT_CONTENT_COMMAND,void 0):e.dispatchCommand(vl.DELETE_CHARACTER_COMMAND,!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_DELETE_COMMAND,(t=>{if(Pl(t.target))return!1;const n=vl.$getSelection();return!!vl.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(vl.DELETE_CHARACTER_COMMAND,!1))}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ENTER_COMMAND,(t=>{const n=vl.$getSelection();if(!vl.$isRangeSelection(n))return!1;if(null!==t){if((Cl||xl||Nl)&&bl)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(vl.INSERT_LINE_BREAK_COMMAND,!1)}return e.dispatchCommand(vl.INSERT_PARAGRAPH_COMMAND,void 0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.KEY_ESCAPE_COMMAND,(()=>{const t=vl.$getSelection();return!!vl.$isRangeSelection(t)&&(e.blur(),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.DROP_COMMAND,(t=>{const[,n]=Ml(t);if(0<n.length){var r=yl(t.clientX,t.clientY);if(null!==r){const{offset:t,node:i}=r;var o=vl.$getNearestNodeFromDOMNode(i);if(null!==o){if(r=vl.$createRangeSelection(),vl.$isTextNode(o))r.anchor.set(o.getKey(),t,"text"),r.focus.set(o.getKey(),t,"text");else{const e=o.getParentOrThrow().getKey();o=o.getIndexWithinParent()+1,r.anchor.set(e,o,"element"),r.focus.set(e,o,"element")}r=vl.$normalizeSelection__EXPERIMENTAL(r),vl.$setSelection(r)}e.dispatchCommand(Tl,n)}return t.preventDefault(),!0}return t=vl.$getSelection(),!!vl.$isRangeSelection(t)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.DRAGSTART_COMMAND,(e=>{[e]=Ml(e);const t=vl.$getSelection();return!(e&&!vl.$isRangeSelection(t))}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.DRAGOVER_COMMAND,(e=>{var[t]=Ml(e);const n=vl.$getSelection();return!(t&&!vl.$isRangeSelection(n))&&(null!==(t=yl(e.clientX,e.clientY))&&(t=vl.$getNearestNodeFromDOMNode(t.node),vl.$isDecoratorNode(t)&&e.preventDefault()),!0)}),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.SELECT_ALL_COMMAND,(()=>(vl.$selectAll(),!0)),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.COPY_COMMAND,(t=>(pl.copyToClipboard(e,ml.objectKlassEquals(t,ClipboardEvent)?t:null),!0)),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.CUT_COMMAND,(t=>(async function(e,t){await pl.copyToClipboard(t,ml.objectKlassEquals(e,ClipboardEvent)?e:null),t.update((()=>{let e=vl.$getSelection();vl.$isRangeSelection(e)?e.removeText():vl.$isNodeSelection(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),vl.COMMAND_PRIORITY_EDITOR),e.registerCommand(vl.PASTE_COMMAND,(t=>{const[,n,r]=Ml(t);if(0<n.length&&!r)return e.dispatchCommand(Tl,n),!0;if(vl.isSelectionCapturedInDecoratorInput(t.target))return!1;const o=vl.$getSelection();return!!vl.$INTERNAL_isPointSelection(o)&&(function(e,t){e.preventDefault(),t.update((()=>{let n=vl.$getSelection(),r=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=r&&vl.$INTERNAL_isPointSelection(n)&&pl.$insertDataTransferForRichText(r,n,t)}),{tag:"paste"})}(t,e),!0)}),vl.COMMAND_PRIORITY_EDITOR))};var $l=Ua;const Fl={}.hasOwnProperty;function Bl(e,t){let n,r=-1;if(t.extensions)for(;++r<t.extensions.length;)Bl(e,t.extensions[r]);for(n in t)"extensions"===n||("unsafe"===n||"join"===n?e[n]=[...e[n]||[],...t[n]||[]]:"handlers"===n?e[n]=Object.assign(e[n],t[n]||{}):e.options[n]=t[n]);return e}function Kl(e,t,n){return">"+(n?"":" ")+e}function zl(e,t,r,o){let i=-1;for(;++i<r.unsafe.length;)if("\n"===r.unsafe[i].character&&n(r.stack,r.unsafe[i]))return/[ \t]/.test(o.before)?"":" ";return"\\\n"}function Vl(e,t){return Boolean(!t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Wl(e,t,n){return(n?"":"    ")+e}function Hl(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ul(e,t,n,r){const o=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),i=n.enter("emphasis"),a=n.createTracker(r);let l=a.move(o);return l+=a.move(n.containerPhrasing(e,{before:l,after:o,...a.current()})),l+=a.move(o),i(),l}function jl(e,t){let n=!1;return r(e,(e=>{if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,o})),Boolean((!e.depth||e.depth<3)&&i(e)&&(t.options.setext||n))}function Yl(e){return e.value||""}function Gl(e,t,n,r){const o=Hl(n),i='"'===o?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const s=n.createTracker(r);let u=s.move("![");return u+=s.move(n.safe(e.alt,{before:u,after:"]",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=s.move(" "+o),u+=s.move(n.safe(e.title,{before:u,after:o,...s.current()})),u+=s.move(o),l()),u+=s.move(")"),a(),u}function Zl(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("![");const u=n.safe(e.alt,{before:s,after:"]",...l.current()});s+=l.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=c,i(),"full"!==o&&u&&u===d?"shortcut"===o?s=s.slice(0,-1):s+=l.move("]"):s+=l.move(d+"]"),s}function Jl(e,t){const n=i(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function ql(e,t,n,r){const o=Hl(n),i='"'===o?"Quote":"Apostrophe",a=n.createTracker(r);let l,s;if(Jl(e,n)){const t=n.stack;n.stack=[],l=n.enter("autolink");let r=a.move("<");return r+=a.move(n.containerPhrasing(e,{before:r,after:">",...a.current()})),r+=a.move(">"),l(),n.stack=t,r}l=n.enter("link"),s=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=a.move(" "+o),u+=a.move(n.safe(e.title,{before:u,after:o,...a.current()})),u+=a.move(o),s()),u+=a.move(")"),l(),u}function Xl(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("[");const u=n.containerPhrasing(e,{before:s,after:"]",...l.current()});s+=l.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=c,i(),"full"!==o&&u&&u===d?"shortcut"===o?s=s.slice(0,-1):s+=l.move("]"):s+=l.move(d+"]"),s}function Ql(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function es(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Ul.peek=function(e,t,n){return n.options.emphasis||"*"},Yl.peek=function(){return"<"},Gl.peek=function(){return"!"},Zl.peek=function(){return"!"},ql.peek=function(e,t,n){return Jl(e,n)?"<":"["},Xl.peek=function(){return"["};const ts=l(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function ns(e,t,n,r){const o=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),i=n.enter("strong"),a=n.createTracker(r);let l=a.move(o+o);return l+=a.move(n.containerPhrasing(e,{before:l,after:o,...a.current()})),l+=a.move(o+o),i(),l}ns.peek=function(e,t,n){return n.options.strong||"*"};const rs={blockquote:function(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),Kl);return o(),a},break:zl,code:function(e,t,n,r){const o=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),i=e.value||"",a="`"===o?"GraveAccent":"Tilde";if(Vl(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(i,Wl);return e(),t}const l=n.createTracker(r),s=o.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===o?++i>a&&(a=i):i=1,o=r+t.length,r=n.indexOf(t,o);return a}(i,o)+1,3)),u=n.enter("codeFenced");let c=l.move(s);if(e.lang){const t=n.enter(`codeFencedLang${a}`);c+=l.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...l.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);c+=l.move(" "),c+=l.move(n.safe(e.meta,{before:c,after:"\n",encode:["`"],...l.current()})),t()}return c+=l.move("\n"),i&&(c+=l.move(i+"\n")),c+=l.move(s),u(),c},definition:function(e,t,n,r){const o=Hl(n),i='"'===o?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const s=n.createTracker(r);let u=s.move("[");return u+=s.move(n.safe(n.associationId(e),{before:u,after:"]",...s.current()})),u+=s.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":"\n",...s.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=s.move(" "+o),u+=s.move(n.safe(e.title,{before:u,after:o,...s.current()})),u+=s.move(o),l()),a(),u},emphasis:Ul,hardBreak:zl,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(jl(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),a=n.containerPhrasing(e,{...i.current(),before:"\n",after:"\n"});return r(),t(),a+"\n"+(1===o?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(o),l=n.enter("headingAtx"),s=n.enter("phrasing");i.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:"\n",...i.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),s(),l(),u},html:Yl,image:Gl,imageReference:Zl,inlineCode:s,link:ql,linkReference:Xl,list:function(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=e.ordered?Ql(n):a(n);const s=e.ordered?function(e){const t=Ql(e),n=e.options.bulletOrderedOther;if(!n)return"."===t?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bulletOrdered` (`"+t+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(e){const t=a(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),u=n.bulletLastUsed;let c=!1;if(t&&(e.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&u&&l===u&&(c=!0),!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==l&&"-"!==l||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(c=!0),es(n)===l&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){c=!0;break}}}}c&&(l=s),n.bulletCurrent=l;const d=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),d},listItem:u,paragraph:function(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),o(),a},root:function(e,t,n,r){return(e.children.some((e=>ts(e)))?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:ns,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(es(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},os=[function(e,t,n,r){if("code"===t.type&&Vl(t,r)&&("list"===e.type||e.type===t.type&&Vl(e,r)))return!1;if("list"===e.type&&e.type===t.type&&Boolean(e.ordered)===Boolean(t.ordered)&&!(e.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&jl(t,r)))return;return n.spread?1:0}}];const is=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],as=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:is},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:is},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ \t\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:is},{atBreak:!0,character:"+",after:"(?:[ \t\r\n])"},{atBreak:!0,character:"-",after:"(?:[ \t\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:is},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:is},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:is},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:is},{atBreak:!0,character:"~"}];function ls(e,t={}){const n={enter:function(e){return n.stack.push(e),function(){n.stack.pop()}},indentLines:c,associationId:d,containerPhrasing:ds,containerFlow:fs,createTracker:f,safe:gs,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};Bl(n,{unsafe:as,join:os,handlers:rs}),Bl(n,t),n.options.tightDefinitions&&Bl(n,{join:[cs]}),n.handle=function(e,t){const n=t||{};function r(t,...n){let o=r.invalid;const i=r.handlers;if(t&&Fl.call(t,e)){const n=String(t[e]);o=Fl.call(i,n)?i[n]:r.unknown}if(o)return o.call(this,t,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}("type",{invalid:ss,unknown:us,handlers:n.handlers});let r=n.handle(e,void 0,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),r}function ss(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function us(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function cs(e,t){if("definition"===e.type&&e.type===t.type)return 0}function ds(e,t){return g(e,this,t)}function fs(e,t){return p(e,this,t)}function gs(e,t){return h(this,e,t)}function ps({root:e,visitors:t,jsxComponentDescriptors:n,jsxIsAvailable:r}){let o=null;const i=new Set;function a(e){i.add(e)}function l(e,n){if(null===o)return o=n,o;if(!function(e){return e.children instanceof Array}(e))throw new Error("Attempting to append children to a non-parent");const r=e.children,i=r.at(-1);if(i){const e=t.find((e=>{var t;return null==(t=e.shouldJoin)?void 0:t.call(e,i,n)}));if(e){const t=e.join(i,n);return r.splice(r.length-1,1,t),t}}return r.push(n),n}function s(e,t){e.getChildren().forEach((e=>{u(e,t)}))}function u(e,n){var r;const o=t.find((t=>{var n;return null==(n=t.testLexicalNode)?void 0:n.call(t,e)}));if(!o)throw new Error(`no lexical visitor found for ${e.getType()}`,{cause:e});null==(r=o.visitLexicalNode)||r.call(o,{lexicalNode:e,mdastParent:n,actions:{addAndStepInto(t,r={},o=!0){const i={type:t,...r,...o?{children:[]}:{}};l(n,i),ma.$isElementNode(e)&&o&&s(e,i)},appendToParent:l,visitChildren:s,registerReferredComponent:a}})}if(u(e,null),null===o)throw new Error("traversal ended with no root element");const c=new Map,d=new Map;for(const h of i){const e=n.find((e=>e.name===h));if(!e)throw new Error(`Component ${h} is used but not imported`);if(e.source)if(e.defaultExport)d.set(h,e.source);else{const{source:t}=e,n=c.get(t);n?n.push(h):c.set(t,[h])}}const f=Array.from(c).map((([e,t])=>({type:"mdxjsEsm",value:`import { ${t.join(", ")} } from '${e}'`})));f.push(...Array.from(d).map((([e,t])=>({type:"mdxjsEsm",value:`import ${e} from '${t}'`}))));const g=o,p=g.children.find((e=>"yaml"===e.type));return p?g.children.splice(g.children.indexOf(p)+1,0,...f):g.children.unshift(...f),ys(g,[]),r||hs(g),g}function hs(e){if(Object.hasOwn(e,"children")){const t=e,n=[];t.children.forEach((e=>{"mdxJsxTextElement"===e.type&&"u"===e.name?n.push({type:"html",value:"<u>"},...e.children,{type:"html",value:"</u>"}):(n.push(e),hs(e))})),t.children=n}}const ms=/\s+$/,vs=/^\s+/;function ys(e,t){if("strong"===e.type||"emphasis"===e.type){const n=e.children.at(-1);if("text"===(null==n?void 0:n.type)){const r=n.value.match(ms);if(r){n.value=n.value.replace(ms,"");const o=t.at(-1);o&&(o.children.splice(o.children.indexOf(e)+1,0,{type:"text",value:r[0]}),ys(o,t.slice(0,-1)))}}const r=e.children.at(0);if("text"===(null==r?void 0:r.type)){const n=r.value.match(vs);if(n){r.value=r.value.replace(vs,"");const o=t.at(-1);o&&(o.children.splice(o.children.indexOf(e),0,{type:"text",value:n[0]}),ys(o,t.slice(0,-1)))}}}if(Object.hasOwn(e,"children")){const n=e;n.children.forEach((e=>ys(e,[...t,n])))}}function _s(e){return e.children instanceof Array}function Es({root:e,markdown:t,visitors:n,syntaxExtensions:r,mdastExtensions:o}){var i;const a=m(t,{extensions:r,mdastExtensions:o});0===a.children.length&&a.children.push({type:"paragraph",children:[]}),"paragraph"!==(null==(i=a.children.at(-1))?void 0:i.type)&&a.children.push({type:"paragraph",children:[]}),function({root:e,mdastRoot:t,visitors:n}){const r=new WeakMap;function o(e,t){if(!_s(e))throw new Error("Attempting to visit children of a non-parent");e.children.forEach((n=>i(n,t,e)))}function i(e,t,i){const a=n.find((t=>"string"==typeof t.testNode?t.testNode===e.type:t.testNode(e)));if(!a)throw new Error(`no MdastImportVisitor found for ${e.type} ${JSON.stringify(e)}`,{cause:e});a.visitNode({mdastNode:e,lexicalParent:t,mdastParent:i,actions:{visitChildren:o,addAndStepInto(n){t.append(n),_s(e)&&o(e,n)},addFormatting(t,n=e){r.set(n,t|(r.get(i)??0))},removeFormatting(t,n=e){r.set(n,t^(r.get(i)??0))},getParentFormatting:()=>r.get(i)??0}})}i(t,e,null)}({root:e,mdastRoot:a,visitors:n})}const bs={testLexicalNode:ma.$isLineBreakNode,visitLexicalNode:({mdastParent:e,actions:t})=>{t.appendToParent(e,{type:"text",value:"\n"})}},xs={testLexicalNode:ma.$isParagraphNode,visitLexicalNode:({actions:e})=>{e.addAndStepInto("paragraph")}},Cs={testLexicalNode:ma.$isRootNode,visitLexicalNode:({actions:e})=>{e.addAndStepInto("root")}};function ws(e){return"text"===e.type}const Ns={shouldJoin:(e,t)=>["text","emphasis","strong","mdxJsxTextElement"].includes(e.type)&&e.type===t.type,join:(e,t)=>ws(e)&&ws(t)?{type:"text",value:e.value+t.value}:{...e,children:[...e.children,...t.children]},testLexicalNode:ma.$isTextNode,visitLexicalNode:({lexicalNode:e,mdastParent:t,actions:n})=>{const r=e.getPreviousSibling(),o=ma.$isTextNode(r)?r.getFormat():0,i=e.getTextContent(),a=e.getFormat()??0;if(16&a)return void n.addAndStepInto("inlineCode",{value:i});let l=t;o&a&2&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),o&a&1&&(l=n.appendToParent(l,{type:"strong",children:[]})),o&a&8&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),2&a&&!(2&o)&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),1&a&&!(1&o)&&(l=n.appendToParent(l,{type:"strong",children:[]})),8&a&&!(8&o)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),n.appendToParent(l,{type:"text",value:i})}};function Ts(e){return"html"===e.type&&"<u>"===e.value}function Ss(e){return"html"===e.type&&"</u>"===e.value}function ks(e){return"mdxJsxTextElement"===e.type&&"u"===e.name}const As={testNode:e=>"emphasis"===e.type||"strong"===e.type||ks(e)||Ts(e)||Ss(e),visitNode({mdastNode:e,lexicalParent:t,actions:n,mdastParent:r}){Ts(e)?n.addFormatting(8,r):Ss(e)?n.removeFormatting(8,r):("emphasis"===e.type?n.addFormatting(2):"strong"===e.type?n.addFormatting(1):ks(e)&&n.addFormatting(8),n.visitChildren(e,t))}};function Os(e){return"html"===e.type&&"<code>"===e.value}function Rs(e){return"html"===e.type&&"</code>"===e.value}const Is={testNode:e=>"inlineCode"===e.type||Os(e)||Rs(e),visitNode({mdastNode:e,actions:t,mdastParent:n}){Os(e)?t.addFormatting(16,n):Rs(e)?t.removeFormatting(16,n):t.addAndStepInto(ma.$createTextNode(e.value).setFormat(16))}},Ds=["listitem","quote","admonition"],Ms={testNode:"paragraph",visitNode:function({mdastNode:e,lexicalParent:t,actions:n}){Ds.includes(t.getType())?n.visitChildren(e,t):n.addAndStepInto(ma.$createParagraphNode())}},Ls={testNode:"root",visitNode({actions:e,mdastNode:t,lexicalParent:n}){e.visitChildren(t,n)}},Ps={testNode:"text",visitNode({mdastNode:e,actions:t}){t.addAndStepInto(ma.$createTextNode(e.value).setFormat(t.getParentFormatting()))}},$s=()=>{const[e]=uu.useEmitterValues("historyState");return v.createElement(Ha.HistoryPlugin,{externalHistoryState:e})};function Fs(e,t){return t(e),e}function Bs(){}const Ks="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,zs=Ks&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);function Vs(e,t){return zs?e:t}const Ws={testNode:"break",visitNode:function({lexicalParent:e}){e.append(ma.$createLineBreakNode())}};function Hs(){const e=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0"))),t=crypto.getRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map((([t,n])=>[4,6,8,10].includes(t)?`-${e[n]}`:e[n])).join("")}var Us=Object.defineProperty,js=(e,t,n)=>(((e,t,n)=>{t in e?Us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Ys(e,t){return e===t}class Gs{constructor(){js(this,"map",new Map)}getOrCreate(e){let t=this.map.get(e);return t||(t=new Set,this.map.set(e,t)),t}get(e){return this.map.get(e)}use(e,t){const n=this.get(e);void 0!==n&&t(n)}delete(e){return this.map.delete(e)}}class Zs{constructor(e=new Map){js(this,"map"),this.map=e}clone(){return new Zs(new Map(this.map))}increment(e){const t=this.map.get(e)??0;this.map.set(e,t+1)}decrement(e,t){let n=this.map.get(e);void 0!==n&&(n-=1,this.map.set(e,n),0===n&&t())}}const Js=Symbol("NO_VALUE");function qs(){const e=new Gs,t=new Map,n=new Gs,r=new Map,o=new Map,i={};function a(e=Js,t=!1){const n=Hs();return e!==Js&&r.set(n,e),!1!==t&&o.set(n,!0===t?Ys:t),{key:n,toString:()=>n}}function l({key:t},n){const r=e.getOrCreate(t);return r.add(n),()=>r.delete(n)}function s({key:e},n){return n?t.set(e,n):t.delete(e),()=>t.delete(e)}function u(...e){const[t]=e.slice(-1),n=e.slice(0,-1);return 1===n.length?l(n[0],t):function(e,t){const n=a();return p({map:e=>(...t)=>{e(t)},sink:n,sources:e}),l(n,t)}(n,t)}function c(e){const t=[],r=new Set,o=new Gs,i=new Zs,a=new Gs;function l(e,s=0){i.increment(e),r.has(e)||(o.use(e,(e=>{s=Math.max(...Array.from(e).map((e=>t.indexOf(e))))+1})),n.use(e,(t=>{t.forEach((t=>{t.sources.has(e)?(a.getOrCreate(t.sink).add(t),l(t.sink,s)):o.getOrCreate(t.sink).add(e)}))})),r.add(e),t.splice(s,0,e))}return e.forEach((e=>l(e))),{participatingNodeKeys:t,pendingPulls:o,projections:a,refCount:i}}const d=new Map;function f(i){var a;const l=Object.keys(i),s=l.join(",");d.has(s)||d.set(s,c(l));const u=d.get(s),f=u.refCount.clone(),g=u.participatingNodeKeys.slice(),p=new Map(r);function h(e){n.use(e,(t=>{t.forEach((({sources:t,sink:n})=>{t.has(e)&&f.decrement(n,(()=>{g.splice(g.indexOf(n),1),h(n)}))}))}))}let m;for(;m=g.shift();){let n=!1;const l=e=>{o.has(m)&&o.get(m)(r.get(m),e)?n=!1:(n=!0,p.set(m,e),r.has(m)&&r.set(m,e))};if(Object.prototype.hasOwnProperty.call(i,m)?l(i[m]):u.projections.use(m,(e=>{e.forEach((e=>{const t=[...Array.from(e.sources),...Array.from(e.pulls)].map((e=>p.get(e)));e.map(l)(...t)}))})),n){const n=p.get(m);e.use(m,(e=>{e.forEach((e=>e(n)))})),null==(a=t.get(m))||a(n)}else h(m)}}function g(e){return new Set(e.map((e=>e.key)))}function p({sources:e,pulls:t=[],map:r,sink:{key:o}}){const i={map:r,pulls:g(t),sink:o,sources:g(e)};[...e,...t].forEach((({key:e})=>{n.getOrCreate(e).add(i)})),d.clear()}function h(...e){const t={};for(let n=0;n<e.length;n+=2){t[e[n].key]=e[n+1]}f(t)}function m(e){f(Object.entries(e).reduce(((e,[t,n])=>Fs(e,(e=>{const r=i[t];if(!r)throw new Error(`No label for key ${t}. Do you miss a plugin?`);return e[r.key]=n,n}))),{}))}return{combine:function(...e){const t=a();return p({map:e=>(...t)=>e(t),sink:t,sources:e}),t},connect:p,debug:function(){Object.entries(i).forEach((([e,t])=>{r.get(t.key)}))},derive:function(e,t){return Fs(a(t,!0),(t=>{p({map:e=>t=>e(t),sink:t,sources:[e]})}))},getKeyValue:function(e){return r.get(i[e].key)},getValue:function(e){return r.get(e.key)},getKeyValues:function(e){return e.map((e=>{const t=i[e];if(!t)throw new Error(`No label for key ${e}. Do you miss a plugin?`);return r.get(t.key)}))},label:function(e){Object.assign(i,e)},labels:i,link:function(e,t){p({map:e=>t=>e(t),sink:t,sources:[e]})},node:a,o:{delayWithMicrotask:function(){return e=>{const t=a();return u(e,(e=>queueMicrotask((()=>h(t,e))))),t}},debounceTime:function(e){return t=>{const n=a();let r,o;return u(t,(t=>{r=t,o&&clearTimeout(o),o=setTimeout((()=>{h(n,r)}),e)})),n}},filter:function(e){return t=>{const n=a();return p({map:t=>n=>e(n)&&t(n),sink:n,sources:[t]}),n}},map:function(e){return t=>{const n=a();return p({map:t=>n=>{t(e(n))},sink:n,sources:[t]}),n}},mapTo:function(e){return t=>{const n=a();return p({map:t=>()=>t(e),sink:n,sources:[t]}),n}},onNext:function(e){return t=>{const n=a();let r=Js;return u(t,(e=>r=e)),p({map:e=>t=>{r!==Js&&(e([r,t]),r=Js)},sink:n,sources:[e]}),n}},scan:function(e,t){return n=>{const r=a();return p({map:n=>r=>n(t=e(t,r)),sink:r,sources:[n]}),r}},throttleTime:function(e){return t=>{const n=a();let r,o;return u(t,(t=>{r=t,o||(o=setTimeout((()=>{o=void 0,h(n,r)}),e))})),n}},withLatestFrom:function(...e){return t=>{const n=a();return p({map:e=>(...t)=>e(t),pulls:e,sink:n,sources:[t]}),n}},once:function(){return e=>{const t=a();let n=!1;return p({map:e=>t=>{n||(n=!0,e(t))},sink:t,sources:[e]}),t}},passOnlyAfterNodeHasEmittedBefore:function(e,t){return n=>{const o=a();let i=0;return u(e,(()=>i=Date.now())),p({map:e=>n=>{Date.now()<i+r.get(t.key)&&e(n)},sink:o,sources:[n]}),o}}},pipe:function(e,...t){for(const n of t)e=n(e);return e},pub:h,pubIn:f,pubKey:function(e,t){m({[e]:t})},pubKeys:m,resetSingletonSubs:function(){t.clear()},singletonSub:s,singletonSubKey:function(e,t){return s(i[e],t)},spread:function(e,t){return t.map(((t,n)=>Fs(a(t,!0),(t=>{p({map:e=>t=>{e(t[n])},sink:t,sources:[e]})}))))},sub:u,subKey:function(e,t){return u(i[e],t)},subKeys:function(e,t){return u(...e.map((e=>i[e])).concat(t))}}}function Xs(e,t=[]){return{constructor:e,dependencies:t,id:Hs()}}const Qs="undefined"!=typeof document?v.useLayoutEffect:v.useEffect,eu=v.createContext(void 0);function tu(){const t=eu;return{useRealmContext:()=>v.useContext(t),useEmitter:(e,n)=>{const r=v.useContext(t);Qs((()=>r.subKey(e,n)),[n])},useEmitterValues:(...n)=>{const r=v.useContext(t),[o,i]=v.useState((()=>r.getKeyValues(n)));return e.useEffect((()=>null==r?void 0:r.subKeys(n,(e=>{(()=>{1===n.length&&(e=[e]);for(let t=0;t<n.length;t++)e[t]!==o[t]&&i(e)})()}))),[n,r,o]),o},usePubKeys:()=>v.useContext(t).pubKeys,usePublisher:e=>{const n=v.useContext(t);return v.useCallback((t=>{n.pubKey(e,t)}),[e,n])}}}const nu=v.createContext(new Set);function ru(e){return[t=>({systemSpec:e.systemSpec,pluginParams:t,applyParamsToSystem:e.applyParamsToSystem,init:e.init,id:e.id,dependencies:e.dependencies}),tu()]}const ou=function({plugins:e,children:t}){const n=v.useMemo((()=>{const t=e.map((e=>e.id));return e.filter((e=>!e.dependencies||!e.dependencies.some((e=>!t.includes(e)))||(console.warn("MDXEditor plugin",e.id,"has some missing dependencies",e.dependencies,", skipping"),!1)))}),[e]),r=v.useMemo((()=>{const e=n.map((e=>e.systemSpec)),t=n.map((e=>e.id)),r=function(...e){const t=new Map,n=qs(),r=({id:o,constructor:i,dependencies:a})=>{if(t.has(o))return t.get(o);const l=i(n,a.map((t=>r(e.find((e=>e.id===t.id))))));return n.label(l),t.set(o,l),l};return e.forEach(r),n}(...e);return n.forEach((e=>{var n,o;null==(n=e.init)||n.call(e,r,e.pluginParams,t),null==(o=e.applyParamsToSystem)||o.call(e,r,e.pluginParams)})),r}),[]);v.useEffect((()=>{n.forEach((e=>{var t;null==(t=e.applyParamsToSystem)||t.call(e,r,e.pluginParams)}))}),[r,n]);const o=eu;return v.createElement(o.Provider,{value:r},v.createElement(nu.Provider,{value:new Set(e.map((e=>e.id)))},t))};function iu(e){return v.useContext(nu).has(e)}const au=ma.createCommand("NESTED_EDITOR_UPDATED_COMMAND"),lu=Xs((e=>{function t(t){const n=e.node();return e.link(e.pipe(n,e.o.withLatestFrom(t),e.o.map((([e,t])=>t.includes(e)?t:[...t,e]))),t),n}const n=e.node(null),r=e.node(null,!0),o=e.node(""),i=e.node(!1),a=e.node(""),l=e.node(!1),s=e.node(!1,!0),u=e.node(0,!0),c=e.node(),d=e.node(null),f=e.node([]),g=e.node([]),p=e.node(null),h=e.node(),m=()=>e.o.scan(((e,[t,n])=>(e.forEach((e=>{if(!e)throw new Error("You have a subscription that does not return a teardown");e()})),n?t.map((e=>e(n))):[])),[]);e.pipe(e.combine(f,r),m()),e.pipe(e.combine(g,n),m());const v=t(g),y=t(f);function _(){const t=ma.$getSelection();ma.$isRangeSelection(t)&&e.pubKeys({currentSelection:t,currentFormat:t.format})}e.pub(v,(t=>t.registerCommand(ma.SELECTION_CHANGE_COMMAND,((t,n)=>(e.pubIn({[r.key]:n,[s.key]:!0}),null===n._parentEditor&&n.getEditorState().read((()=>{e.pub(p,{rootNode:ma.$getRoot(),editorType:"lexical"})})),_(),!1)),ma.COMMAND_PRIORITY_CRITICAL))),e.pub(v,(t=>t.registerUpdateListener((({dirtyElements:t,dirtyLeaves:n,editorState:r})=>{if(0===t.size&&0===n.size)return;let o;r.read((()=>{o=function({root:e,toMarkdownOptions:t,toMarkdownExtensions:n,visitors:r,jsxComponentDescriptors:o,jsxIsAvailable:i}){return ls(ps({root:e,visitors:r,jsxComponentDescriptors:o,jsxIsAvailable:i}),{extensions:n,...t})}({root:ma.$getRoot(),visitors:e.getValue(T),jsxComponentDescriptors:e.getValue(O),toMarkdownExtensions:e.getValue(S),toMarkdownOptions:e.getValue(k),jsxIsAvailable:e.getValue(A)})})),e.pub(b,o.trim())}))));const E=e.node(""),b=e.node("",!0);e.link(E,b);const x=e.node([]),C=e.node([]),w=e.node([]),N=e.node([]),T=e.node([]),S=e.node([]),k=e.node({},!0),A=e.node(!1),O=e.node([]),R=e.node(null),I=t(N),D=t(x),M=t(C),L=t(w),P=t(T),$=t(S),F=e.node();e.sub(e.pipe(F,e.o.withLatestFrom(n,x,w,C,s)),(([e,t,n,r,o,i])=>{null==t||t.update((()=>{ma.$getRoot().clear(),Es({root:ma.$getRoot(),visitors:n,mdastExtensions:r,markdown:e,syntaxExtensions:o}),i||ma.$setSelection(null)}))}));const B=e.node((t=>{e.pub(n,t),e.pub(r,t),Es({root:ma.$getRoot(),visitors:e.getValue(x),mdastExtensions:e.getValue(w),markdown:e.getValue(E),syntaxExtensions:e.getValue(C)});const o=e.getValue(l);if(o){if(!0===o)return void setTimeout((()=>t.focus(Bs,{defaultSelection:"rootStart"})));setTimeout((()=>t.focus(Bs,{defaultSelection:o.defaultSelection??"rootStart"})))}}));e.pub(y,(e=>e.registerUpdateListener((({editorState:e})=>{e.read((()=>{_()}))})))),e.pub(y,(t=>t.registerCommand(ma.BLUR_COMMAND,(t=>{var r;const o=e.getValue(n);if(o){!(null==(r=o.getRootElement())?void 0:r.contains(t.relatedTarget))&&e.pubIn({[s.key]:!1,[h.key]:t})}return!1}),ma.COMMAND_PRIORITY_CRITICAL))),e.pub(v,(e=>e.registerCommand(ma.KEY_DOWN_COMMAND,(t=>{const{keyCode:n,ctrlKey:r,metaKey:o}=t;if(65===n&&Vs(o,r)){let n=!1;if(e.getEditorState().read((()=>{n=ma.$isDecoratorNode(ma.$getRoot().getFirstChild())||ma.$isDecoratorNode(ma.$getRoot().getLastChild())})),n)return t.preventDefault(),t.stopImmediatePropagation(),e.update((()=>{var t;const n=e.getRootElement();null==(t=window.getSelection())||t.selectAllChildren(n),n.focus({preventScroll:!0})})),!0}return!1}),ma.COMMAND_PRIORITY_CRITICAL)));const K=e.node([]),z=t(K),V=e.node([]),W=t(V),H=e.node([]),U=t(H),j=e.node([]),Y=t(j),G=e.node(Ha.createEmptyHistoryState());e.sub(e.pipe(c,e.o.withLatestFrom(r)),(([e,t])=>{null==t||t.dispatchCommand(ma.FORMAT_TEXT_COMMAND,e)}));const Z=e.node(""),J=e.node();e.sub(e.pipe(d,e.o.withLatestFrom(r)),(([t,n])=>{if(!t||!n)return;const r=t.anchor.getNode();let o="root"===r.getKey()?r:$a.$findMatchingParent(r,(e=>{const t=e.getParent();return null!==t&&ma.$isRootOrShadowRoot(t)}));null===o&&(o=r.getTopLevelElementOrThrow());const i=o.getKey();if(null!==n.getElementByKey(i)){const t=$l.$isHeadingNode(o)?o.getTag():o.getType();e.pub(Z,t)}}));const q=e.node();e.sub(e.pipe(q,e.o.withLatestFrom(r)),(([e,t])=>{null==t||t.update((()=>{const n=ma.$getSelection();ma.$isRangeSelection(n)&&(Aa.$setBlocksType(n,e),setTimeout((()=>{t.focus()})))}))}));const X=e.node();return e.sub(e.pipe(X,e.o.withLatestFrom(r)),(([e,t])=>{null==t||t.focus((()=>{t.getEditorState().read((()=>{const n=ma.$getSelection();if(ma.$isRangeSelection(n)){null!==n.focus.getNode()&&t.update((()=>{const t=e();t.isInline()?(ma.$insertNodes([t]),ma.$isRootOrShadowRoot(t.getParentOrThrow())&&$a.$wrapNodeInElement(t,ma.$createParagraphNode).selectEnd()):$a.$insertNodeToNearestRoot(t),Object.hasOwn(t,"select")&&"function"==typeof t.select&&setTimeout((()=>t.select()))}))}}))}),{defaultSelection:"rootEnd"})})),e.sub(e.pipe(i,e.o.withLatestFrom(n)),(([e,t])=>{null==t||t.setEditable(!e)})),{activeEditor:r,inFocus:s,historyState:G,currentSelection:d,jsxIsAvailable:A,jsxComponentDescriptors:O,initialRootEditorState:B,rootEditor:n,createRootEditorSubscription:v,createActiveEditorSubscription:y,importVisitors:x,syntaxExtensions:C,mdastExtensions:w,usedLexicalNodes:N,addImportVisitor:D,addLexicalNode:I,addSyntaxExtension:M,addMdastExtension:L,toMarkdownExtensions:S,toMarkdownOptions:k,addToMarkdownExtension:$,addExportVisitor:P,exportVisitors:T,initialMarkdown:E,setMarkdown:F,markdown:b,editorRootElementRef:R,contentEditableClassName:o,placeholder:a,autoFocus:l,readOnly:i,composerChildren:K,addComposerChild:z,topAreaChildren:V,addTopAreaChild:W,nestedEditorChildren:j,addNestedEditorChild:Y,editorWrappers:H,addEditorWrapper:U,currentFormat:u,editorInFocus:p,applyFormat:c,currentBlockType:Z,applyBlockType:J,convertSelectionToNode:q,insertDecoratorNode:X,onBlur:h}}),[]),[su,uu]=ru({id:"core",systemSpec:lu,applyParamsToSystem(e,t){e.pubKeys({contentEditableClassName:t.contentEditableClassName,toMarkdownOptions:t.toMarkdownOptions,autoFocus:t.autoFocus,placeholder:t.placeholder,readOnly:t.readOnly}),e.singletonSubKey("markdown",t.onChange),e.singletonSubKey("onBlur",t.onBlur)},init(e,t){e.pubKey("initialMarkdown",t.initialMarkdown.trim()),e.pubKey("addImportVisitor",Ls),e.pubKey("addImportVisitor",Ms),e.pubKey("addImportVisitor",Ps),e.pubKey("addImportVisitor",As),e.pubKey("addImportVisitor",Is),e.pubKey("addImportVisitor",Ws),e.pubKey("addLexicalNode",ma.ParagraphNode),e.pubKey("addLexicalNode",ma.TextNode),e.pubKey("addExportVisitor",Cs),e.pubKey("addExportVisitor",xs),e.pubKey("addExportVisitor",Ns),e.pubKey("addExportVisitor",bs),e.pubKey("addComposerChild",$s)}}),cu={text:{bold:"_bold_t2zpo_19",italic:"_italic_t2zpo_27",underline:"_underline_t2zpo_35",code:"_code_t2zpo_103",strikethrough:"_strikethrough_t2zpo_67",subscript:"_subscript_t2zpo_83",superscript:"_superscript_t2zpo_93",underlineStrikethrough:"_underlineStrikethrough_t2zpo_75"},list:{nested:{listitem:"_nestedListItem_t2zpo_117"}},admonition:{danger:"_admonitionDanger_t2zpo_125",info:"_admonitionInfo_t2zpo_125",note:"_admonitionNote_t2zpo_125",tip:"_admonitionTip_t2zpo_125",caution:"_admonitionCaution_t2zpo_125"}};var du={},fu=pt,gu=ma,pu=e;let hu="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var mu=hu?pu.useLayoutEffect:pu.useEffect;let vu={tag:"history-merge"};du.LexicalComposer=function({initialConfig:e,children:t}){let n=pu.useMemo((()=>{const{theme:t,namespace:n,editor__DEPRECATED:r,nodes:o,onError:i,editorState:a,html:l}=e,s=fu.createLexicalComposerContext(null,t);let u=r||null;if(null===u){const r=gu.createEditor({editable:e.editable,html:l,namespace:n,nodes:o,onError:e=>i(e,r),theme:t});!function(e,t){if(null!==t)if(void 0===t)e.update((()=>{var t=gu.$getRoot();if(t.isEmpty()){let n=gu.$createParagraphNode();t.append(n),t=hu?document.activeElement:null,(null!==gu.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),vu);else if(null!==t)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,vu);break;case"object":e.setEditorState(t,vu);break;case"function":e.update((()=>{gu.$getRoot().isEmpty()&&t(e)}),vu)}}(r,a),u=r}return[u,s]}),[]);return mu((()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),pu.createElement(fu.LexicalComposerContext.Provider,{value:n},t)};var yu=du;const _u={editorRoot:"_editorRoot_1sn0y_71",editorWrapper:"_editorWrapper_1sn0y_267",nestedListItem:"_nestedListItem_1sn0y_273",toolbarRoot:"_toolbarRoot_1sn0y_281",readOnlyToolbarRoot:"_readOnlyToolbarRoot_1sn0y_327",toolbarModeSwitch:"_toolbarModeSwitch_1sn0y_343",toolbarToggleItem:"_toolbarToggleItem_1sn0y_363",toolbarGroupOfGroups:"_toolbarGroupOfGroups_1sn0y_383",toolbarToggleSingleGroup:"_toolbarToggleSingleGroup_1sn0y_393",toolbarButton:"_toolbarButton_1sn0y_421",activeToolbarButton:"_activeToolbarButton_1sn0y_481",toolbarNodeKindSelectContainer:"_toolbarNodeKindSelectContainer_1sn0y_497",toolbarButtonDropdownContainer:"_toolbarButtonDropdownContainer_1sn0y_499",toolbarCodeBlockLanguageSelectContent:"_toolbarCodeBlockLanguageSelectContent_1sn0y_501",selectContainer:"_selectContainer_1sn0y_503",toolbarNodeKindSelectTrigger:"_toolbarNodeKindSelectTrigger_1sn0y_531",toolbarButtonSelectTrigger:"_toolbarButtonSelectTrigger_1sn0y_533",selectTrigger:"_selectTrigger_1sn0y_535",toolbarCodeBlockLanguageSelectTrigger:"_toolbarCodeBlockLanguageSelectTrigger_1sn0y_607",toolbarNodeKindSelectItem:"_toolbarNodeKindSelectItem_1sn0y_619",selectItem:"_selectItem_1sn0y_621",toolbarNodeKindSelectDropdownArrow:"_toolbarNodeKindSelectDropdownArrow_1sn0y_669",selectDropdownArrow:"_selectDropdownArrow_1sn0y_671",contentEditable:"_contentEditable_1sn0y_679",sandpackWrapper:"_sandpackWrapper_1sn0y_699",frontmatterWrapper:"_frontmatterWrapper_1sn0y_707",frontmatterToggleButton:"_frontmatterToggleButton_1sn0y_727",propertyPanelTitle:"_propertyPanelTitle_1sn0y_743",propertyEditorTable:"_propertyEditorTable_1sn0y_759",iconButton:"_iconButton_1sn0y_793",readOnlyColumnCell:"_readOnlyColumnCell_1sn0y_803",propertyEditorLabelCell:"_propertyEditorLabelCell_1sn0y_813",buttonsFooter:"_buttonsFooter_1sn0y_829",propertyEditorInput:"_propertyEditorInput_1sn0y_841",primaryButton:"_primaryButton_1sn0y_883",secondaryButton:"_secondaryButton_1sn0y_883",smallButton:"_smallButton_1sn0y_911",dialogForm:"_dialogForm_1sn0y_935",linkDialogEditForm:"_linkDialogEditForm_1sn0y_947",linkDialogInputContainer:"_linkDialogInputContainer_1sn0y_963",linkDialogInputWrapper:"_linkDialogInputWrapper_1sn0y_975",linkDialogInput:"_linkDialogInput_1sn0y_963",dialogInput:"_dialogInput_1sn0y_1015",linkDialogAnchor:"_linkDialogAnchor_1sn0y_1035",linkDialogPopoverContent:"_linkDialogPopoverContent_1sn0y_1063",tableColumnEditorPopoverContent:"_tableColumnEditorPopoverContent_1sn0y_1063",dialogContent:"_dialogContent_1sn0y_1063",largeDialogContent:"_largeDialogContent_1sn0y_1087",dialogTitle:"_dialogTitle_1sn0y_1107",dialogCloseButton:"_dialogCloseButton_1sn0y_1119",popoverContent:"_popoverContent_1sn0y_1133",popoverArrow:"_popoverArrow_1sn0y_1157",linkDialogPreviewAnchor:"_linkDialogPreviewAnchor_1sn0y_1169",tooltipContent:"_tooltipContent_1sn0y_1213",actionButton:"_actionButton_1sn0y_1241",primaryActionButton:"_primaryActionButton_1sn0y_1253",tableEditor:"_tableEditor_1sn0y_1271",toolCell:"_toolCell_1sn0y_1293",tableColumnEditorTrigger:"_tableColumnEditorTrigger_1sn0y_1327",tableRowEditorTrigger:"_tableRowEditorTrigger_1sn0y_1327",addRowButton:"_addRowButton_1sn0y_1327",addColumnButton:"_addColumnButton_1sn0y_1327",tableColumnEditorToolbar:"_tableColumnEditorToolbar_1sn0y_1395",toggleGroupRoot:"_toggleGroupRoot_1sn0y_1419",tableToolsColumn:"_tableToolsColumn_1sn0y_1453",leftAlignedCell:"_leftAlignedCell_1sn0y_1469",rightAlignedCell:"_rightAlignedCell_1sn0y_1477",centeredCell:"_centeredCell_1sn0y_1485",dialogOverlay:"_dialogOverlay_1sn0y_1541",overlayShow:"_overlayShow_1sn0y_1",contentShow:"_contentShow_1sn0y_1",focusedImage:"_focusedImage_1sn0y_1627",imageWrapper:"_imageWrapper_1sn0y_1635",editImageButton:"_editImageButton_1sn0y_1659",inlineEditor:"_inlineEditor_1sn0y_1683",blockEditor:"_blockEditor_1sn0y_1701",nestedEditor:"_nestedEditor_1sn0y_1719",genericComponentName:"_genericComponentName_1sn0y_1753",diffSourceToggle:"_diffSourceToggle_1sn0y_1765",selectWithLabel:"_selectWithLabel_1sn0y_1793",toolbarTitleMode:"_toolbarTitleMode_1sn0y_1821",imageControlWrapperResizing:"_imageControlWrapperResizing_1sn0y_1833",imageResizer:"_imageResizer_1sn0y_1841",imageResizerN:"_imageResizerN_1sn0y_1859",imageResizerNe:"_imageResizerNe_1sn0y_1871",imageResizerE:"_imageResizerE_1sn0y_1883",imageResizerSe:"_imageResizerSe_1sn0y_1895",imageResizerS:"_imageResizerS_1sn0y_1895",imageResizerSw:"_imageResizerSw_1sn0y_1919",imageResizerW:"_imageResizerW_1sn0y_1931",imageResizerNw:"_imageResizerNw_1sn0y_1943",placeholder:"_placeholder_1sn0y_1955",rootContentEditableWrapper:"_rootContentEditableWrapper_1sn0y_1981",downshiftContainer:"_downshiftContainer_1sn0y_1993",downshiftInputWrapper:"_downshiftInputWrapper_1sn0y_2005",downshiftInput:"_downshiftInput_1sn0y_2005",downshiftAutocompleteContainer:"_downshiftAutocompleteContainer_1sn0y_2065",textInput:"_textInput_1sn0y_2155",multiFieldForm:"_multiFieldForm_1sn0y_2171",formField:"_formField_1sn0y_2183"};var Eu={},bu=pt,xu=e,Cu="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?xu.useLayoutEffect:xu.useEffect;function wu(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}var Nu=function(){return function(e){let[t]=bu.useLexicalComposerContext(),n=xu.useMemo((()=>e(t)),[t,e]),r=xu.useRef(n.initialValueFn()),[o,i]=xu.useState(r.current);return Cu((()=>{let{initialValueFn:e,subscribe:t}=n,o=e();return r.current!==o&&(r.current=o,i(o)),t((e=>{r.current=e,i(e)}))}),[n,e]),o}(wu)},Tu={},Su=ma;function ku(e,t=!0){return!e&&(e=Au(),t&&(e=e.trim()),""===e)}function Au(){return Su.$getRoot().getTextContent()}function Ou(e){if(!ku(e,!1))return!1;let t=(e=Su.$getRoot().getChildren()).length;if(1<t)return!1;for(let r=0;r<t;r++){var n=e[r];if(Su.$isDecoratorNode(n))return!1;if(Su.$isElementNode(n)){if(!Su.$isParagraphNode(n)||0!==n.__indent)return!1;let e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!Su.$isTextNode(n[r]))return!1}}return!0}Tu.$canShowPlaceholder=Ou,Tu.$canShowPlaceholderCurry=function(e){return()=>Ou(e)},Tu.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(Su.$isElementNode(n)){var r=n.getFirstChild();if(null!==r){n=r;continue}}else if(Su.$isTextNode(n)){if(e+(r=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=r}if(null===(r=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(r=n.getNextSibling())){n=r;continue e}n=n.getParent()}break}n=r}return null},Tu.$isRootTextContentEmpty=ku,Tu.$isRootTextContentEmptyCurry=function(e,t){return()=>ku(e,t)},Tu.$rootTextContent=Au,Tu.registerLexicalTextEntity=function(e,t,n,r){let o=e=>{const t=Su.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(Su.TextNode,(e=>{if(e.isSimpleText()){var i=e.getPreviousSibling(),a=e.getTextContent(),l=e;if(Su.$isTextNode(i)){var s=i.getTextContent(),u=t(s+a);if(i instanceof n){if(null===u||0!==i.getLatest().__mode)return void o(i);if(0<(u=u.end-s.length))return l=s+(l=a.slice(0,u)),i.select(),i.setTextContent(l),void(u===a.length?e.remove():(i=a.slice(u),e.setTextContent(i)))}else if(null===u||u.start<s.length)return}for(;;){if(a=u=null===(e=t(a))?"":a.slice(e.end),""===u){if(s=l.getNextSibling(),Su.$isTextNode(s)){if(u=l.getTextContent()+s.getTextContent(),null===(u=t(u))){s instanceof n?o(s):s.markDirty();break}if(0!==u.start)break}}else if(null!==(s=t(u))&&0===s.start)break;if(null===e)break;if(0===e.start&&Su.$isTextNode(i)&&i.isTextEntity())continue;let c;if(0===e.start?[c,l]=l.splitText(e.end):[,c,l]=l.splitText(e.start,e.end),(e=r(c)).setFormat(c.getFormat()),c.replace(e),null==l)break}}})),e=e.registerNodeTransform(n,(e=>{var r=e.getTextContent();const i=t(r);null===i||0!==i.start?o(e):r.length>i.end?e.splitText(i.end):(r=e.getPreviousSibling(),Su.$isTextNode(r)&&r.isTextEntity()&&(o(r),o(e)),r=e.getNextSibling(),Su.$isTextNode(r)&&r.isTextEntity()&&(o(r),e instanceof n&&o(e)))}))]};var Ru=Tu,Iu={},Du=ma;Iu.registerDragonSupport=function(e){let t=window.location.origin,n=n=>{if(n.origin===t){var r=e.getRootElement();if(document.activeElement===r&&"string"==typeof(r=n.data)){try{var o=JSON.parse(r)}catch(i){return}if(o&&"nuanria_messaging"===o.protocol&&"request"===o.type&&(o=o.payload)&&"makeChanges"===o.functionId&&(o=o.args)){const[t,r,i,a,l]=o;e.update((()=>{const e=Du.$getSelection();if(Du.$isRangeSelection(e)){var o=e.anchor;let s=o.getNode(),u=0,c=0;Du.$isTextNode(s)&&0<=t&&0<=r&&(u=t,c=t+r,e.setTextNodeRange(s,u,s,c)),u===c&&""===i||(e.insertRawText(i),s=o.getNode()),Du.$isTextNode(s)&&(u=a,c=a+l,u=u>(o=s.getTextContentSize())?o:u,c=c>o?o:c,e.setTextNodeRange(s,u,s,c)),n.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};var Mu=pt,Lu=Nu,Pu=e,$u=Ru,Fu=$a,Bu=t,Ku=Iu,zu=$l,Vu="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Pu.useLayoutEffect:Pu.useEffect;function Wu(e){return e.getEditorState().read($u.$canShowPlaceholderCurry(e.isComposing()))}function Hu({content:e}){var[t]=Mu.useLexicalComposerContext();t=function(e){let[t,n]=Pu.useState((()=>Wu(e)));return Vu((()=>{function t(){let t=Wu(e);n(t)}return t(),Fu.mergeRegister(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t);let n=Lu();return t?"function"==typeof e?e(n):e:null}Eu.RichTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){let[r]=Mu.useLexicalComposerContext();return n=function(e,t){let[n,r]=Pu.useState((()=>e.getDecorators()));return Vu((()=>e.registerDecoratorListener((e=>{Bu.flushSync((()=>{r(e)}))}))),[e]),Pu.useEffect((()=>{r(e.getDecorators())}),[e]),Pu.useMemo((()=>{let r=[],o=Object.keys(n);for(let i=0;i<o.length;i++){let a=o[i],l=Pu.createElement(t,{onError:t=>e._onError(t)},Pu.createElement(Pu.Suspense,{fallback:null},n[a])),s=e.getElementByKey(a);null!==s&&r.push(Bu.createPortal(l,s,a))}return r}),[t,n,e])}(r,n),function(e){Vu((()=>Fu.mergeRegister(zu.registerRichText(e),Ku.registerDragonSupport(e))),[e])}(r),Pu.createElement(Pu.Fragment,null,e,Pu.createElement(Hu,{content:t}),n)};var Uu=Eu,ju={},Yu=pt,Gu=e;function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(this,arguments)}var Ju="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Gu.useLayoutEffect:Gu.useEffect;ju.ContentEditable=function({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:r,ariaExpanded:o,ariaLabel:i,ariaLabelledBy:a,ariaMultiline:l,ariaOwns:s,ariaRequired:u,autoCapitalize:c,className:d,id:f,role:g="textbox",spellCheck:p=!0,style:h,tabIndex:m,"data-testid":v,...y}){let[_]=Yu.useLexicalComposerContext(),[E,b]=Gu.useState(!1),x=Gu.useCallback((e=>{_.setRootElement(e)}),[_]);return Ju((()=>(b(_.isEditable()),_.registerEditableListener((e=>{b(e)})))),[_]),Gu.createElement("div",Zu({},y,{"aria-activedescendant":E?e:void 0,"aria-autocomplete":E?t:"none","aria-controls":E?n:void 0,"aria-describedby":r,"aria-expanded":E&&"combobox"===g?!!o:void 0,"aria-label":i,"aria-labelledby":a,"aria-multiline":l,"aria-owns":E?s:void 0,"aria-readonly":!E||void 0,"aria-required":u,autoCapitalize:c,className:d,contentEditable:E,"data-testid":v,id:f,ref:x,role:g,spellCheck:p,style:h,tabIndex:m}))};var qu=ju,Xu=e;function Qu(e,t){return(Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ec={error:null},tc=function(e){function t(){for(var t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=ec,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qu(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(ec)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,o=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,o)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,o),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},Xu.isValidElement(t))return t;if("function"==typeof n)return n(e);if(r)return Xu.createElement(r,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(Xu.Component);const nc=y((function({children:e,onError:t}){return Xu.createElement(tc,{fallback:Xu.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}));var rc,oc={exports:{}};rc=oc,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=r(e,n(o)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var o="";for(var i in n)e.call(n,i)&&n[i]&&(o=r(o,i));return o}function r(e,t){return t?e?e+" "+t:e+t:e}rc.exports?(t.default=t,rc.exports=t):window.classNames=t}();const ic=y(oc.exports),ac=({children:e})=>{const[t,n,r]=uu.useEmitterValues("initialRootEditorState","usedLexicalNodes","readOnly");return v.createElement(yu.LexicalComposer,{initialConfig:{editable:!r,editorState:t,namespace:"MDXEditor",theme:cu,nodes:n,onError:e=>{throw e}}},e)},lc=()=>{const[e,t,n,r,o]=uu.useEmitterValues("contentEditableClassName","composerChildren","topAreaChildren","editorWrappers","placeholder");return v.createElement(v.Fragment,null,n.map(((e,t)=>v.createElement(e,{key:t}))),v.createElement(uc,{wrappers:r},v.createElement("div",{className:ic(_u.rootContentEditableWrapper)},v.createElement(Uu.RichTextPlugin,{contentEditable:v.createElement(qu.ContentEditable,{className:ic(_u.contentEditable,e)}),placeholder:v.createElement("div",{className:ic(_u.contentEditable,_u.placeholder,e)},v.createElement("p",null,o)),ErrorBoundary:nc}))),t.map(((e,t)=>v.createElement(e,{key:t}))))},sc={listItemIndent:"one"},uc=({wrappers:e,children:t})=>{if(0===e.length)return v.createElement(v.Fragment,null,t);const n=e[0];return v.createElement(n,null,v.createElement(uc,{wrappers:e.slice(1)},t))},cc=({children:e,className:t})=>{const n=v.useRef(null),r=uu.usePublisher("editorRootElementRef");return v.useEffect((()=>{const e=document.createElement("div");return e.classList.add(_u.editorRoot),t&&t.split(" ").forEach((t=>{e.classList.add(t)})),document.body.appendChild(e),n.current=e,r(n),()=>{document.body.removeChild(e)}}),[t,n,r]),v.createElement("div",{className:ic(_u.editorRoot,_u.editorWrapper,t,"mdxeditor")},e)},dc=({mdxRef:e})=>{const t=uu.useRealmContext(),n=iu("diff-source");return v.useImperativeHandle(e,(()=>({getMarkdown:()=>n&&"source"===t.getKeyValue("viewMode")?t.getKeyValue("markdownSourceEditorValue"):t.getKeyValue("markdown"),setMarkdown:e=>{t.pubKey("setMarkdown",e)},focus:(e,n)=>{var r;null==(r=t.getKeyValue("rootEditor"))||r.focus(e,n)}})),[t,n]),null},fc=v.forwardRef(((e,t)=>v.createElement(ou,{plugins:[su({contentEditableClassName:e.contentEditableClassName??"",initialMarkdown:e.markdown,onChange:e.onChange??Bs,onBlur:e.onBlur??Bs,toMarkdownOptions:e.toMarkdownOptions??sc,autoFocus:e.autoFocus??!1,placeholder:e.placeholder??"",readOnly:Boolean(e.readOnly)}),...e.plugins||[]]},v.createElement(cc,{className:e.className},v.createElement(ac,null,v.createElement(lc,null))),v.createElement(dc,{mdxRef:t})))),gc={testNode:"heading",visitNode:function({mdastNode:e,actions:t}){t.addAndStepInto($l.$createHeadingNode(`h${e.depth}`))}},pc={testLexicalNode:$l.$isHeadingNode,visitLexicalNode:({lexicalNode:e,actions:t})=>{const n=parseInt(e.getTag()[1],10);t.addAndStepInto("heading",{depth:n})}},hc=[48,49,50,51,52,53,54],mc=[1,2,3,4,5,6],vc={49:1,50:2,51:3,52:4,53:5,54:6},yc=Xs(((e,[{createRootEditorSubscription:t,convertSelectionToNode:n}])=>{const r=e.node(mc);return e.pub(t,(t=>t.registerCommand(ma.KEY_DOWN_COMMAND,(o=>{const{keyCode:i,ctrlKey:a,metaKey:l,altKey:s}=o;return!!(hc.includes(i)&&Vs(l,a)&&s)&&(o.preventDefault(),t.update((()=>{if(48===i)e.pub(n,(()=>ma.$createParagraphNode()));else{const t=e.getValue(r),o=vc[i];t.includes(o)||e.pub(n,(()=>$l.$createHeadingNode(`h${o}`)))}})),!0)}),ma.COMMAND_PRIORITY_LOW))),{allowedHeadingLevels:r}}),[lu]),[_c,Ec]=ru({id:"headings",systemSpec:yc,applyParamsToSystem(e,t){e.pubKey("allowedHeadingLevels",(null==t?void 0:t.allowedHeadingLevels)??mc)},init:e=>{e.pubKey("addImportVisitor",gc),e.pubKey("addLexicalNode",$l.HeadingNode),e.pubKey("addExportVisitor",pc)}});var bc={},xc={},Cc=pt,wc=ma,Nc=e;function Tc(e,t){return e.getEditorState().read((()=>{let e=wc.$getNodeByKey(t);return null!==e&&e.isSelected()}))}xc.useLexicalNodeSelection=function(e){let[t]=Cc.useLexicalComposerContext(),[n,r]=Nc.useState((()=>Tc(t,e)));return Nc.useEffect((()=>{let n=!0,o=t.registerUpdateListener((()=>{n&&r(Tc(t,e))}));return()=>{n=!1,o()}}),[t,e]),[n,Nc.useCallback((n=>{t.update((()=>{let t=wc.$getSelection();wc.$isNodeSelection(t)||(t=wc.$createNodeSelection(),wc.$setSelection(t)),wc.$isNodeSelection(t)&&(n?t.add(e):t.delete(e))}))}),[t,e]),Nc.useCallback((()=>{t.update((()=>{const e=wc.$getSelection();wc.$isNodeSelection(e)&&e.clear()}))}),[t])]};var Sc=xc,kc=pt,Ac=Sc,Oc=$a,Rc=ma,Ic=e;let Dc=Rc.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function Mc({nodeKey:e}){let[t]=kc.useLexicalComposerContext(),[n,r,o]=Ac.useLexicalNodeSelection(e),i=Ic.useCallback((t=>(n&&Rc.$isNodeSelection(Rc.$getSelection())&&(t.preventDefault(),Fc(t=Rc.$getNodeByKey(e))&&t.remove()),!1)),[n,e]);return Ic.useEffect((()=>Oc.mergeRegister(t.registerCommand(Rc.CLICK_COMMAND,(i=>{let a=t.getElementByKey(e);return i.target===a&&(i.shiftKey||o(),r(!n),!0)}),Rc.COMMAND_PRIORITY_LOW),t.registerCommand(Rc.KEY_DELETE_COMMAND,i,Rc.COMMAND_PRIORITY_LOW),t.registerCommand(Rc.KEY_BACKSPACE_COMMAND,i,Rc.COMMAND_PRIORITY_LOW))),[o,t,n,e,i,r]),Ic.useEffect((()=>{let r=t.getElementByKey(e);null!==r&&(r.className=n?"selected":"")}),[t,n,e]),null}let Lc=class e extends Rc.DecoratorNode{static getType(){return"horizontalrule"}static clone(t){return new e(t.__key)}static importJSON(){return $c()}static importDOM(){return{hr:()=>({conversion:Pc,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return Ic.createElement(Mc,{nodeKey:this.__key})}};function Pc(){return{node:$c()}}function $c(){return Rc.$applyNodeReplacement(new Lc)}function Fc(e){return e instanceof Lc}bc.$createHorizontalRuleNode=$c,bc.$isHorizontalRuleNode=Fc,bc.HorizontalRuleNode=Lc,bc.INSERT_HORIZONTAL_RULE_COMMAND=Dc;var Bc=bc,Kc={},zc=ma,Vc=$a;function Wc(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Hc(e){let t=1;for(e=e.getParent();null!=e;){if(ad(e)){if(gd(e=e.getParent())){t++,e=e.getParent();continue}Wc(40)}break}return t}function Uc(e){gd(e=e.getParent())||Wc(40);let t=e;for(;null!==t;)t=t.getParent(),gd(t)&&(e=t);return e}function jc(e){let t=[];e=e.getChildren().filter(ad);for(let n=0;n<e.length;n++){let r=e[n],o=r.getFirstChild();gd(o)?t=t.concat(jc(o)):t.push(r)}return t}function Yc(e){return ad(e)&&gd(e.getFirstChild())}function Gc(e){return id().append(e)}function Zc(e,t){return ad(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function Jc(e,t){e.splice(e.getChildrenSize(),0,t)}function qc(e,t){if(gd(e))return e;let n=e.getPreviousSibling(),r=e.getNextSibling(),o=id();return o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),Jc(o,e.getChildren()),gd(n)&&t===n.getListType()?(n.append(o),e.remove(),gd(r)&&t===r.getListType()&&(Jc(n,r.getChildren()),r.remove()),n):gd(r)&&t===r.getListType()?(r.getFirstChildOrThrow().insertBefore(o),e.remove(),r):((t=fd(t)).append(o),e.replace(t),Qc(t),t)}function Xc(e,t){var n=e.getLastChild();let r=t.getFirstChild();n&&r&&Yc(n)&&Yc(r)&&(Xc(n.getFirstChild(),r.getFirstChild()),r.remove()),0<(n=t.getChildren()).length&&(e.append(...n),Qc(e)),t.remove()}function Qc(e,t){if(void 0!==(e=t||e.getChildren()))for(t=0;t<e.length;t++){let i=e[t];if(ad(i)){let e=i.getValue();var n=i,r=n.getParent(),o=1;for(null!=r&&(gd(r)?o=r.getStart():Wc(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let e=n[r];ad(e)&&!gd(e.getFirstChild())&&o++}e!==o&&i.setValue(o)}}}function ed(e){if(!Yc(e)){var t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(gd(r)&&ad(n)&&gd(t)){var o=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(o))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{var a=t.getListType();o=id();let r=fd(a);o.append(r),e.getPreviousSiblings().forEach((e=>r.append(e))),i=id(),a=fd(a),i.append(a),Jc(a,e.getNextSiblings()),n.insertBefore(o),n.insertAfter(i),n.replace(e)}Qc(t),Qc(r)}}}let td=class e extends zc.ElementNode{static getType(){return"listitem"}static clone(t){return new e(t.__value,t.__checked,t.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),n=this.getParent();return gd(n)&&"check"===n.getListType()&&rd(t,this,null),t.value=this.__value,nd(t,e.theme,this),t}updateDOM(e,t,n){let r=this.getParent();return gd(r)&&"check"===r.getListType()&&rd(t,this,e),t.value=this.__value,nd(t,n.theme,this),!1}static transform(){return e=>{let t=e.getParent();if(gd(t)){if(Qc(t),!ad(e))throw Error("node is not a ListItemNode");"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}}static importDOM(){return{li:()=>({conversion:od,priority:0})}}static importJSON(e){let t=id();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportDOM(e){return(e=this.createDOM(e._config)).style.textAlign=this.getFormatType(),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){let n=e[t];if(zc.$isElementNode(n)&&this.canMergeWith(n)){let e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(ad(e))return super.replace(e);this.setIndent(0);let n=this.getParentOrThrow();if(!gd(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{let t=fd(n.getListType()),r=this.getNextSibling();for(;r;){let e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}if(t){if(!zc.$isElementNode(e))throw Error("includeChildren should only be true for ElementNodes");this.getChildren().forEach((t=>{e.append(t)}))}return this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){var n=this.getParentOrThrow();gd(n)||Wc(39);var r=this.getNextSiblings();if(ad(e))return t=super.insertAfter(e,t),gd(e=e.getParentOrThrow())&&Qc(e),t;if(gd(e)){for(n=e,r=(e=e.getChildren()).length-1;0<=r;r--)n=e[r],this.insertAfter(n,t);return n}if(n.insertAfter(e,t),0!==r.length){let o=fd(n.getListType());r.forEach((e=>o.append(e))),e.insertAfter(o,t)}return e}remove(e){let t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&Yc(t)&&Yc(n)?(Xc(t.getFirstChild(),n.getFirstChild()),n.remove()):n&&(gd(e=n.getParent())&&Qc(e))}insertNewAfter(e,t=!0){return e=id(null==this.__checked&&void 0),this.insertAfter(e,t),e}collapseAtStart(e){let t=zc.$createParagraphNode();this.getChildren().forEach((e=>t.append(e)));var n=this.getParentOrThrow(),r=n.getParentOrThrow();let o=ad(r);return 1===n.getChildrenSize()?o?(n.remove(),r.select()):(n.insertBefore(t),n.remove(),n=e.anchor,e=e.focus,r=t.getKey(),"element"===n.type&&n.getNode().is(this)&&n.set(r,n.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(r,e.offset,"element")):(n.insertBefore(t),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(null===e)return this.getLatest().__indent;e=e.getParentOrThrow();let t=0;for(;ad(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){"number"==typeof e&&-1<e||Wc(117);let t=this.getIndent();for(;t!==e;)if(t<e){e:{var n=new Set;if(Yc(this)||n.has(this.getKey()))break e;let e=this.getParent();var r=this.getNextSibling(),o=this.getPreviousSibling();if(Yc(r)&&Yc(o)){if(gd(o=o.getFirstChild())){o.append(this);var i=r.getFirstChild();gd(i)&&(Jc(o,i=i.getChildren()),r.remove(),n.add(r.getKey())),Qc(o)}}else Yc(r)?gd(r=r.getFirstChild())&&(null!==(n=r.getFirstChild())&&n.insertBefore(this),Qc(r)):Yc(o)?gd(r=o.getFirstChild())&&(r.append(this),Qc(r)):gd(e)&&(n=id(),i=fd(e.getListType()),n.append(i),i.append(this),o?o.insertAfter(n):r?r.insertBefore(n):e.append(n),Qc(i));gd(e)&&Qc(e)}t++}else ed(this),t--;return this}insertBefore(e){if(ad(e)){let e=this.getParentOrThrow();if(gd(e)){Qc(e,this.getNextSiblings())}}return super.insertBefore(e)}canInsertAfter(e){return ad(e)}canReplaceWith(e){return ad(e)}canMergeWith(e){return zc.$isParagraphNode(e)||ad(e)}extractWithChild(e,t){if(!zc.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return fd("bullet")}};function nd(e,t,n){let r=[],o=[];var i=(t=t.list)?t.listitem:void 0;if(t&&t.nested)var a=t.nested.listitem;if(void 0!==i&&(i=i.split(" "),r.push(...i)),t){i=gd(i=n.getParent())&&"check"===i.getListType();let e=n.getChecked();i&&!e||o.push(t.listitemUnchecked),i&&e||o.push(t.listitemChecked),i&&r.push(e?t.listitemChecked:t.listitemUnchecked)}void 0!==a&&(a=a.split(" "),n.getChildren().some((e=>gd(e)))?r.push(...a):o.push(...a)),0<o.length&&Vc.removeClassNamesFromElement(e,...o),0<r.length&&Vc.addClassNamesToElement(e,...r)}function rd(e,t,n){gd(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function od(e){return{node:id(e=Vc.isHTMLElement(e)&&"true"===e.getAttribute("aria-checked"))}}function id(e){return zc.$applyNodeReplacement(new td(void 0,e))}function ad(e){return e instanceof td}let ld=class e extends zc.ElementNode{static getType(){return"list"}static clone(t){return new e(t.__listType||dd[t.__tag],t.__start,t.__key)}constructor(e,t,n){super(n),this.__listType=e=dd[e]||e,this.__tag="number"===e?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){let t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let t=document.createElement(this.__tag);return 1!==this.__start&&t.setAttribute("start",String(this.__start)),t.__lexicalListType=this.__listType,sd(t,e.theme,this),t}updateDOM(e,t,n){return e.__tag!==this.__tag||(sd(t,n.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:cd,priority:0}),ul:()=>({conversion:cd,priority:0})}}static importJSON(e){let t=fd(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){return({element:e}=super.exportDOM(e)),e&&Vc.isHTMLElement(e)&&(1!==this.__start&&e.setAttribute("start",String(this.__start)),"check"===this.__listType&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){var t=e[n];if(ad(t))super.append(t);else{let e=id();gd(t)?e.append(t):zc.$isElementNode(t)?(t=zc.$createTextNode(t.getTextContent()),e.append(t)):e.append(t),super.append(e)}}return Qc(this),this}extractWithChild(e){return ad(e)}};function sd(e,t,n){let r=[],o=[];var i=t.list;if(void 0!==i){let e=i[`${n.__tag}Depth`]||[],l=(t=Hc(n)-1)%e.length;var a=e[l];let s,u=i[n.__tag];if(void 0!==(i=i.nested)&&i.list&&(s=i.list),void 0!==u&&r.push(u),void 0!==a)for(a=a.split(" "),r.push(...a),a=0;a<e.length;a++)a!==l&&o.push(n.__tag+a);void 0!==s&&(n=s.split(" "),1<t?r.push(...n):o.push(...n))}0<o.length&&Vc.removeClassNamesFromElement(e,...o),0<r.length&&Vc.addClassNamesToElement(e,...r)}function ud(e){let t=[];for(let r=0;r<e.length;r++){var n=e[r];ad(n)?(t.push(n),1<(n=n.getChildren()).length&&n.forEach((e=>{gd(e)&&t.push(Gc(e))}))):t.push(Gc(n))}return t}function cd(e){let t=e.nodeName.toLowerCase(),n=null;return"ol"===t?n=fd("number",e.start):"ul"===t&&(n=Vc.isHTMLElement(e)&&"check"===e.getAttribute("__lexicallisttype")?fd("check"):fd("bullet")),{after:ud,node:n}}let dd={ol:"number",ul:"bullet"};function fd(e,t=1){return zc.$applyNodeReplacement(new ld(e,t))}function gd(e){return e instanceof ld}let pd=zc.createCommand("INSERT_UNORDERED_LIST_COMMAND"),hd=zc.createCommand("INSERT_ORDERED_LIST_COMMAND"),md=zc.createCommand("INSERT_CHECK_LIST_COMMAND"),vd=zc.createCommand("REMOVE_LIST_COMMAND");Kc.$createListItemNode=id,Kc.$createListNode=fd,Kc.$getListDepth=Hc,Kc.$handleListInsertParagraph=function(){var e=zc.$getSelection();if(!zc.$isRangeSelection(e)||!e.isCollapsed())return!1;if(!ad(e=e.anchor.getNode())||0!==e.getChildrenSize())return!1;var t=Uc(e),n=e.getParent();gd(n)||Wc(40);let r,o=n.getParent();if(zc.$isRootOrShadowRoot(o))r=zc.$createParagraphNode(),t.insertAfter(r);else{if(!ad(o))return!1;r=id(),o.insertAfter(r)}if(r.select(),0<(t=e.getNextSiblings()).length){let e=fd(n.getListType());zc.$isParagraphNode(r)?r.insertAfter(e):((n=id()).append(e),r.insertAfter(n)),t.forEach((t=>{t.remove(),e.append(t)}))}return function(e){for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){let t=e.getParent();if(null==t||!ad(e)&&!gd(e))break;e=t}e.remove()}(e),!0},Kc.$isListItemNode=ad,Kc.$isListNode=gd,Kc.INSERT_CHECK_LIST_COMMAND=md,Kc.INSERT_ORDERED_LIST_COMMAND=hd,Kc.INSERT_UNORDERED_LIST_COMMAND=pd,Kc.ListItemNode=td,Kc.ListNode=ld,Kc.REMOVE_LIST_COMMAND=vd,Kc.insertList=function(e,t){e.update((()=>{var e=zc.$getSelection();if(zc.$INTERNAL_isPointSelection(e)){var n=e.getNodes(),r=(e=e.anchor.getNode()).getParent();if(Zc(e,n))n=fd(t),zc.$isRootOrShadowRoot(r)?(e.replace(n),r=id(),zc.$isElementNode(e)&&(r.setFormat(e.getFormatType()),r.setIndent(e.getIndent())),n.append(r)):ad(e)&&(Jc(n,(e=e.getParentOrThrow()).getChildren()),e.replace(n));else for(e=new Set,r=0;r<n.length;r++){var o=n[r];if(zc.$isElementNode(o)&&o.isEmpty()&&!ad(o)&&!e.has(o.getKey()))qc(o,t);else if(zc.$isLeafNode(o))for(o=o.getParent();null!=o;){let n=o.getKey();if(gd(o)){if(!e.has(n)){var i=fd(t);Jc(i,o.getChildren()),o.replace(i),Qc(i),e.add(n)}break}if(i=o.getParent(),zc.$isRootOrShadowRoot(i)&&!e.has(n)){e.add(n),qc(o,t);break}o=i}}}}))},Kc.removeList=function(e){e.update((()=>{let e=zc.$getSelection();if(zc.$isRangeSelection(e)){var t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(Zc(r,n))t.add(Uc(r));else for(r=0;r<n.length;r++){var o=n[r];zc.$isLeafNode(o)&&(null!=(o=Vc.$getNearestNodeOfType(o,td))&&t.add(Uc(o)))}for(let r of t){t=r,n=jc(r);for(let r of n)Jc(n=zc.$createParagraphNode(),r.getChildren()),t.insertAfter(n),t=n,r.__key===e.anchor.key&&e.anchor.set(n.getKey(),0,"element"),r.__key===e.focus.key&&e.focus.set(n.getKey(),0,"element"),r.remove();r.remove()}}}))};var yd=Kc;function _d(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Ed(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function bd(...t){return e.useCallback(Ed(...t),t)}function xd(t,n=[]){let r=[];const o=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const o=(null==r?void 0:r[t])||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:o}})),[r,o])}};return o.scopeName=t,[function(n,o){const i=e.createContext(o),a=r.length;function l(n){const{scope:r,children:o,...l}=n,s=(null==r?void 0:r[t][a])||i,u=e.useMemo((()=>l),Object.values(l));return e.createElement(s.Provider,{value:u},o)}return r=[...r,o],l.displayName=n+"Provider",[l,function(r,l){const s=(null==l?void 0:l[t][a])||i,u=e.useContext(s);if(u)return u;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},Cd(o,...n)]}function Cd(...t){const n=t[0];if(1===t.length)return n;const r=()=>{const r=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const o=r.reduce(((e,{useScope:n,scopeName:r})=>({...e,...n(t)[`__scope${r}`]})),{});return e.useMemo((()=>({[`__scope${n.scopeName}`]:o})),[o])}};return r.scopeName=n.scopeName,r}const wd=e.forwardRef(((t,n)=>{const{children:r,...o}=t,i=e.Children.toArray(r),a=i.find(Sd);if(a){const t=a.props.children,r=i.map((n=>n===a?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return e.createElement(Nd,_({},o,{ref:n}),e.isValidElement(t)?e.cloneElement(t,void 0,r):null)}return e.createElement(Nd,_({},o,{ref:n}),r)}));wd.displayName="Slot";const Nd=e.forwardRef(((t,n)=>{const{children:r,...o}=t;return e.isValidElement(r)?e.cloneElement(r,{...kd(o,r.props),ref:n?Ed(n,r.ref):r.ref}):e.Children.count(r)>1?e.Children.only(null):null}));Nd.displayName="SlotClone";const Td=({children:t})=>e.createElement(e.Fragment,null,t);function Sd(t){return e.isValidElement(t)&&t.type===Td}function kd(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const Ad=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((t,r)=>{const{asChild:o,...i}=t,a=o?wd:n;return e.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),e.createElement(a,_({},i,{ref:r}))}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});function Od(e,n){e&&t.flushSync((()=>e.dispatchEvent(n)))}function Rd(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useMemo((()=>(...e)=>{var t;return null===(t=n.current)||void 0===t?void 0:t.call(n,...e)}),[])}function Id(t,n=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=Rd(t);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e),()=>n.removeEventListener("keydown",e)}),[r,n])}const Dd="dismissableLayer.update",Md="dismissableLayer.pointerDownOutside",Ld="dismissableLayer.focusOutside";let Pd;const $d=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=e.forwardRef(((t,n)=>{var r;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:s,onDismiss:u,...c}=t,d=e.useContext($d),[f,g]=e.useState(null),p=null!==(r=null==f?void 0:f.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,h]=e.useState({}),m=bd(n,(e=>g(e))),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(y),b=f?v.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,C=b>=E,w=function(t,n=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=Rd(t),o=e.useRef(!1),i=e.useRef((()=>{}));return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let t=function(){Kd(Md,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}else n.removeEventListener("click",i.current);o.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}}),[n,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...d.branches].some((e=>e.contains(t)));C&&!n&&(null==a||a(e),null==s||s(e),e.defaultPrevented||null==u||u())}),p),N=function(t,n=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=Rd(t),o=e.useRef(!1);return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){Kd(Ld,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(null==l||l(e),null==s||s(e),e.defaultPrevented||null==u||u())}),p);return Id((e=>{b===d.layers.size-1&&(null==i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))}),p),e.useEffect((()=>{if(f)return o&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(Pd=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Bd(),()=>{o&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=Pd)}}),[f,p,o,d]),e.useEffect((()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Bd())}),[f,d]),e.useEffect((()=>{const e=()=>h({});return document.addEventListener(Dd,e),()=>document.removeEventListener(Dd,e)}),[]),e.createElement(Ad.div,_({},c,{ref:m,style:{pointerEvents:x?C?"auto":"none":void 0,...t.style},onFocusCapture:_d(t.onFocusCapture,N.onFocusCapture),onBlurCapture:_d(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:_d(t.onPointerDownCapture,w.onPointerDownCapture)}))}));function Bd(){const e=new CustomEvent(Dd);document.dispatchEvent(e)}function Kd(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Od(o,i):o.dispatchEvent(i)}let zd=0;function Vd(){e.useEffect((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Wd()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Wd()),zd++,()=>{1===zd&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),zd--}}),[])}function Wd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Hd="focusScope.autoFocusOnMount",Ud="focusScope.autoFocusOnUnmount",jd={bubbles:!1,cancelable:!0},Yd=e.forwardRef(((t,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[s,u]=e.useState(null),c=Rd(i),d=Rd(a),f=e.useRef(null),g=bd(n,(e=>u(e))),p=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect((()=>{if(o){let e=function(e){if(p.paused||!s)return;const t=e.target;s.contains(t)?f.current=t:qd(f.current,{select:!0})},t=function(e){if(p.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||qd(f.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&qd(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,s,p.paused]),e.useEffect((()=>{if(s){Xd.add(p);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(Hd,jd);s.addEventListener(Hd,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qd(r,{select:t}),document.activeElement!==n)return}((e=Gd(s),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&qd(s))}return()=>{s.removeEventListener(Hd,c),setTimeout((()=>{const e=new CustomEvent(Ud,jd);s.addEventListener(Ud,d),s.dispatchEvent(e),e.defaultPrevented||qd(null!=t?t:document.body,{select:!0}),s.removeEventListener(Ud,d),Xd.remove(p)}),0)}}var e}),[s,c,d,p]);const h=e.useCallback((e=>{if(!r&&!o)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=Gd(e),n=Zd(t,e),r=Zd(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&qd(i,{select:!0})):(e.preventDefault(),r&&qd(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,p.paused]);return e.createElement(Ad.div,_({tabIndex:-1},l,{ref:g,onKeyDown:h}))}));function Gd(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zd(e,t){for(const n of e)if(!Jd(n,{upTo:t}))return n}function Jd(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function qd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const Xd=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=Qd(e,t),e.unshift(t)},remove(t){var n;e=Qd(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function Qd(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const ef=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?e.useLayoutEffect:()=>{},tf=E["useId".toString()]||(()=>{});let nf=0;function rf(t){const[n,r]=e.useState(tf());return ef((()=>{t||r((e=>null!=e?e:String(nf++)))}),[t]),t||(n?`radix-${n}`:"")}const of=e.forwardRef(((t,n)=>{const{children:r,width:o=10,height:i=5,...a}=t;return e.createElement(Ad.svg,_({},a,{ref:n,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?r:e.createElement("polygon",{points:"0,0 30,0 15,10"}))}));function af(t){const[n,r]=e.useState(void 0);return ef((()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver((e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let o,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=t.offsetWidth,i=t.offsetHeight;r({width:o,height:i})}));return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}r(void 0)}),[t]),n}const lf="Popper",[sf,uf]=xd(lf),[cf,df]=sf(lf),ff=e.forwardRef(((t,n)=>{const{__scopePopper:r,virtualRef:o,...i}=t,a=df("PopperAnchor",r),l=e.useRef(null),s=bd(n,l);return e.useEffect((()=>{a.onAnchorChange((null==o?void 0:o.current)||l.current)})),o?null:e.createElement(Ad.div,_({},i,{ref:s}))})),gf="PopperContent",[pf,hf]=sf(gf),mf=e.forwardRef(((t,n)=>{var r,o,i,a,l,s,u,c;const{__scopePopper:d,side:f="bottom",sideOffset:g=0,align:p="center",alignOffset:h=0,arrowPadding:m=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:E=0,sticky:b="partial",hideWhenDetached:x=!1,updatePositionStrategy:C="optimized",onPlaced:w,...N}=t,T=df(gf,d),[S,k]=e.useState(null),A=bd(n,(e=>k(e))),[O,R]=e.useState(null),I=af(O),D=null!==(r=null==I?void 0:I.width)&&void 0!==r?r:0,M=null!==(o=null==I?void 0:I.height)&&void 0!==o?o:0,L=f+("center"!==p?"-"+p:""),P="number"==typeof E?E:{top:0,right:0,bottom:0,left:0,...E},$=Array.isArray(y)?y:[y],F=$.length>0,B={padding:P,boundary:$.filter(Ef),altBoundary:F},{refs:K,floatingStyles:z,placement:V,isPositioned:W,middlewareData:H}=ut({strategy:"fixed",placement:L,whileElementsMounted:(...e)=>Ze(...e,{animationFrame:"always"===C}),elements:{reference:T.anchor},middleware:[ye({mainAxis:g+M,alignmentAxis:h}),v&&Je({mainAxis:!0,crossAxis:!1,limiter:"partial"===b?tt():void 0,...B}),v&&qe({...B}),Xe({...B,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),O&&rt({element:O,padding:m}),bf({arrowWidth:D,arrowHeight:M}),x&&Qe({strategy:"referenceHidden",...B})]}),[U,j]=xf(V),Y=Rd(w);ef((()=>{W&&(null==Y||Y())}),[W,Y]);const G=null===(i=H.arrow)||void 0===i?void 0:i.x,Z=null===(a=H.arrow)||void 0===a?void 0:a.y,J=0!==(null===(l=H.arrow)||void 0===l?void 0:l.centerOffset),[q,X]=e.useState();return ef((()=>{S&&X(window.getComputedStyle(S).zIndex)}),[S]),e.createElement("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:W?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[null===(s=H.transformOrigin)||void 0===s?void 0:s.x,null===(u=H.transformOrigin)||void 0===u?void 0:u.y].join(" ")},dir:t.dir},e.createElement(pf,{scope:d,placedSide:U,onArrowChange:R,arrowX:G,arrowY:Z,shouldHideArrow:J},e.createElement(Ad.div,_({"data-side":U,"data-align":j},N,{ref:A,style:{...N.style,animation:W?void 0:"none",opacity:null!==(c=H.hide)&&void 0!==c&&c.referenceHidden?0:void 0}}))))})),vf="PopperArrow",yf={top:"bottom",right:"left",bottom:"top",left:"right"},_f=e.forwardRef((function(t,n){const{__scopePopper:r,...o}=t,i=hf(vf,r),a=yf[i.placedSide];return e.createElement("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},e.createElement(of,_({},o,{ref:n,style:{...o.style,display:"block"}})))}));function Ef(e){return null!==e}const bf=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:l,rects:s,middlewareData:u}=t,c=0!==(null===(n=u.arrow)||void 0===n?void 0:n.centerOffset),d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[g,p]=xf(l),h={start:"0%",center:"50%",end:"100%"}[p],m=(null!==(r=null===(o=u.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,v=(null!==(i=null===(a=u.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+f/2;let y="",_="";return"bottom"===g?(y=c?h:`${m}px`,_=-f+"px"):"top"===g?(y=c?h:`${m}px`,_=`${s.floating.height+f}px`):"right"===g?(y=-f+"px",_=c?h:`${v}px`):"left"===g&&(y=`${s.floating.width+f}px`,_=c?h:`${v}px`),{data:{x:y,y:_}}}});function xf(e){const[t,n="center"]=e.split("-");return[t,n]}const Cf=t=>{const{__scopePopper:n,children:r}=t,[o,i]=e.useState(null);return e.createElement(cf,{scope:n,anchor:o,onAnchorChange:i},r)},wf=ff,Nf=mf,Tf=_f,Sf=e.forwardRef(((t,n)=>{var r;const{container:o=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...i}=t;return o?b.createPortal(e.createElement(Ad.div,_({},i,{ref:n})),o):null}));const kf=n=>{const{present:r,children:o}=n,i=function(n){const[r,o]=e.useState(),i=e.useRef({}),a=e.useRef(n),l=e.useRef("none"),s=n?"mounted":"unmounted",[u,c]=function(t,n){return e.useReducer(((e,t)=>{const r=n[e][t];return null!=r?r:e}),t)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect((()=>{const e=Af(i.current);l.current="mounted"===u?e:"none"}),[u]),ef((()=>{const e=i.current,t=a.current;if(t!==n){const r=l.current,o=Af(e);if(n)c("MOUNT");else if("none"===o||"none"===(null==e?void 0:e.display))c("UNMOUNT");else{c(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=n}}),[n,c]),ef((()=>{if(r){const e=e=>{const n=Af(i.current).includes(e.animationName);e.target===r&&n&&t.flushSync((()=>c("ANIMATION_END")))},n=e=>{e.target===r&&(l.current=Af(i.current))};return r.addEventListener("animationstart",n),r.addEventListener("animationcancel",e),r.addEventListener("animationend",e),()=>{r.removeEventListener("animationstart",n),r.removeEventListener("animationcancel",e),r.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[r,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:e.useCallback((e=>{e&&(i.current=getComputedStyle(e)),o(e)}),[])}}(r),a="function"==typeof o?o({present:i.isPresent}):e.Children.only(o),l=bd(i.ref,a.ref);return"function"==typeof o||i.isPresent?e.cloneElement(a,{ref:l}):null};function Af(e){return(null==e?void 0:e.animationName)||"none"}function Of({prop:t,defaultProp:n,onChange:r=(()=>{})}){const[o,i]=function({defaultProp:t,onChange:n}){const r=e.useState(t),[o]=r,i=e.useRef(o),a=Rd(n);return e.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:n,onChange:r}),a=void 0!==t,l=a?t:o,s=Rd(r);return[l,e.useCallback((e=>{if(a){const n="function"==typeof e?e(t):e;n!==t&&s(n)}else i(e)}),[a,t,i,s])]}kf.displayName="Presence";var Rf=new WeakMap,If=new WeakMap,Df={},Mf=0,Lf=function(e){return e&&(e.host||Lf(e.parentNode))},Pf=function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Lf(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);Df[n]||(Df[n]=new WeakMap);var i=Df[n],a=[],l=new Set,s=new Set(o),u=function(e){e&&!l.has(e)&&(l.add(e),u(e.parentNode))};o.forEach(u);var c=function(e){e&&!s.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(l.has(e))c(e);else{var t=e.getAttribute(r),o=null!==t&&"false"!==t,s=(Rf.get(e)||0)+1,u=(i.get(e)||0)+1;Rf.set(e,s),i.set(e,u),a.push(e),1===s&&o&&If.set(e,!0),1===u&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}}))};return c(t),l.clear(),Mf++,function(){a.forEach((function(e){var t=Rf.get(e)-1,o=i.get(e)-1;Rf.set(e,t),i.set(e,o),t||(If.has(e)||e.removeAttribute(r),If.delete(e)),o||e.removeAttribute(n)})),--Mf||(Rf=new WeakMap,Rf=new WeakMap,If=new WeakMap,Df={})}},$f=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Pf(r,o,n,"aria-hidden")):function(){return null}},Ff=function(){return Ff=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ff.apply(this,arguments)};function Bf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}"function"==typeof SuppressedError&&SuppressedError;var Kf="right-scroll-bar-position",zf="width-before-scroll-bar";function Vf(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Wf=new WeakMap;function Hf(t,n){var r,o,i,a=(r=n||null,o=function(e){return t.forEach((function(t){return Vf(t,e)}))},(i=e.useState((function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0]).callback=o,i.facade);return e.useLayoutEffect((function(){var e=Wf.get(a);if(e){var n=new Set(e),r=new Set(t),o=a.current;n.forEach((function(e){r.has(e)||Vf(e,null)})),r.forEach((function(e){n.has(e)||Vf(e,o)}))}Wf.set(a,t)}),[t]),a}function Uf(e){return e}var jf=function(t){var n=t.sideCar,r=Bf(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return e.createElement(o,Ff({},r))};jf.isSideCarExport=!0;var Yf=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Uf);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=Ff({async:!0,ssr:!1},e),t}(),Gf=function(){},Zf=e.forwardRef((function(t,n){var r=e.useRef(null),o=e.useState({onScrollCapture:Gf,onWheelCapture:Gf,onTouchMoveCapture:Gf}),i=o[0],a=o[1],l=t.forwardProps,s=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,p=t.noIsolation,h=t.inert,m=t.allowPinchZoom,v=t.as,y=void 0===v?"div":v,_=Bf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=g,b=Hf([r,n]),x=Ff(Ff({},_),i);return e.createElement(e.Fragment,null,d&&e.createElement(E,{sideCar:Yf,removeScrollBar:c,shards:f,noIsolation:p,inert:h,setCallbacks:a,allowPinchZoom:!!m,lockRef:r}),l?e.cloneElement(e.Children.only(s),Ff(Ff({},x),{ref:b})):e.createElement(y,Ff({},x,{className:u,ref:b}),s))}));Zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Zf.classNames={fullWidth:zf,zeroRight:Kf};function Jf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var qf=function(){var e=0,t=null;return{add:function(n){var r,o;0==e&&(t=Jf())&&(o=n,(r=t).styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xf=function(){var t,n=(t=qf(),function(n,r){e.useEffect((function(){return t.add(n),function(){t.remove()}}),[n&&r])});return function(e){var t=e.styles,r=e.dynamic;return n(t,r),null}},Qf={left:0,top:0,right:0,gap:0},eg=function(e){return parseInt(e||"",10)||0},tg=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Qf;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[eg(n),eg(r),eg(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ng=Xf(),rg=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Kf," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(zf," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(Kf," .").concat(Kf," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(zf," .").concat(zf," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},og=function(t){var n=t.noRelative,r=t.noImportant,o=t.gapMode,i=void 0===o?"margin":o,a=e.useMemo((function(){return tg(i)}),[i]);return e.createElement(ng,{styles:rg(a,!n,i,r?"":"!important")})},ig=!1;if("undefined"!=typeof window)try{var ag=Object.defineProperty({},"passive",{get:function(){return ig=!0,!0}});window.addEventListener("test",ag,ag),window.removeEventListener("test",ag,ag)}catch(Dw){ig=!1}var lg=!!ig&&{passive:!1},sg=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},ug=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),cg(e,n)){var r=dg(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},cg=function(e,t){return"v"===e?function(e){return sg(e,"overflowY")}(t):function(e){return sg(e,"overflowX")}(t)},dg=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},fg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gg=function(e){return[e.deltaX,e.deltaY]},pg=function(e){return e&&"current"in e?e.current:e},hg=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},mg=0,vg=[];const yg=(_g=function(t){var n=e.useRef([]),r=e.useRef([0,0]),o=e.useRef(),i=e.useState(mg++)[0],a=e.useState((function(){return Xf()}))[0],l=e.useRef(t);e.useEffect((function(){l.current=t}),[t]),e.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var e=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([t.lockRef.current],(t.shards||[]).map(pg),!0).filter(Boolean);return e.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),e.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[t.inert,t.lockRef.current,t.shards]);var s=e.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!l.current.allowPinchZoom;var n,i=fg(e),a=r.current,s="deltaX"in e?e.deltaX:a[0]-i[0],u="deltaY"in e?e.deltaY:a[1]-i[1],c=e.target,d=Math.abs(s)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=ug(d,c);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=ug(d,c)),!f)return!1;if(!o.current&&"changedTouches"in e&&(s||u)&&(o.current=n),!n)return!0;var g=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,s=t.contains(l),u=!1,c=a>0,d=0,f=0;do{var g=dg(e,l),p=g[0],h=g[1]-g[2]-i*p;(p||h)&&cg(e,l)&&(d+=h,f+=p),l=l.parentNode}while(!s&&l!==document.body||s&&(t.contains(l)||t===l));return(c&&(o&&0===d||!o&&a>d)||!c&&(o&&0===f||!o&&-a>f))&&(u=!0),u}(g,t,e,"h"===g?s:u,!0)}),[]),u=e.useCallback((function(e){var t=e;if(vg.length&&vg[vg.length-1]===a){var r="deltaY"in t?gg(t):fg(t),o=n.current.filter((function(e){return e.name===t.type&&e.target===t.target&&(n=e.delta,o=r,n[0]===o[0]&&n[1]===o[1]);var n,o}))[0];if(o&&o.should)t.cancelable&&t.preventDefault();else if(!o){var i=(l.current.shards||[]).map(pg).filter(Boolean).filter((function(e){return e.contains(t.target)}));(i.length>0?s(t,i[0]):!l.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),c=e.useCallback((function(e,t,r,o){var i={name:e,delta:t,target:r,should:o};n.current.push(i),setTimeout((function(){n.current=n.current.filter((function(e){return e!==i}))}),1)}),[]),d=e.useCallback((function(e){r.current=fg(e),o.current=void 0}),[]),f=e.useCallback((function(e){c(e.type,gg(e),e.target,s(e,t.lockRef.current))}),[]),g=e.useCallback((function(e){c(e.type,fg(e),e.target,s(e,t.lockRef.current))}),[]);e.useEffect((function(){return vg.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,lg),document.addEventListener("touchmove",u,lg),document.addEventListener("touchstart",d,lg),function(){vg=vg.filter((function(e){return e!==a})),document.removeEventListener("wheel",u,lg),document.removeEventListener("touchmove",u,lg),document.removeEventListener("touchstart",d,lg)}}),[]);var p=t.removeScrollBar,h=t.inert;return e.createElement(e.Fragment,null,h?e.createElement(a,{styles:hg(i)}):null,p?e.createElement(og,{gapMode:"margin"}):null)},Yf.useMedium(_g),jf);var _g,Eg=e.forwardRef((function(t,n){return e.createElement(Zf,Ff({},t,{ref:n,sideCar:yg}))}));Eg.classNames=Zf.classNames;const bg=Eg,xg="Popover",[Cg,wg]=xd(xg,[uf]),Ng=uf(),[Tg,Sg]=Cg(xg),kg=e.forwardRef(((t,n)=>{const{__scopePopover:r,...o}=t,i=Sg("PopoverAnchor",r),a=Ng(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:s}=i;return e.useEffect((()=>(l(),()=>s())),[l,s]),e.createElement(wf,_({},a,o,{ref:n}))})),Ag="PopoverPortal",[Og,Rg]=Cg(Ag,{forceMount:void 0}),Ig="PopoverContent",Dg=e.forwardRef(((t,n)=>{const r=Rg(Ig,t.__scopePopover),{forceMount:o=r.forceMount,...i}=t,a=Sg(Ig,t.__scopePopover);return e.createElement(kf,{present:o||a.open},a.modal?e.createElement(Mg,_({},i,{ref:n})):e.createElement(Lg,_({},i,{ref:n})))})),Mg=e.forwardRef(((t,n)=>{const r=Sg(Ig,t.__scopePopover),o=e.useRef(null),i=bd(n,o),a=e.useRef(!1);return e.useEffect((()=>{const e=o.current;if(e)return $f(e)}),[]),e.createElement(bg,{as:wd,allowPinchZoom:!0},e.createElement(Pg,_({},t,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_d(t.onCloseAutoFocus,(e=>{var t;e.preventDefault(),a.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:_d(t.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:_d(t.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),Lg=e.forwardRef(((t,n)=>{const r=Sg(Ig,t.__scopePopover),o=e.useRef(!1),i=e.useRef(!1);return e.createElement(Pg,_({},t,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var n,a;(null===(n=t.onCloseAutoFocus)||void 0===n||n.call(t,e),e.defaultPrevented)||(o.current||null===(a=r.triggerRef.current)||void 0===a||a.focus(),e.preventDefault());o.current=!1,i.current=!1},onInteractOutside:e=>{var n,a;null===(n=t.onInteractOutside)||void 0===n||n.call(t,e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(i.current=!0));const l=e.target;(null===(a=r.triggerRef.current)||void 0===a?void 0:a.contains(l))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.current&&e.preventDefault()}}))})),Pg=e.forwardRef(((t,n)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=t,g=Sg(Ig,r),p=Ng(r);return Vd(),e.createElement(Yd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a},e.createElement(Fd,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1)},e.createElement(Nf,_({"data-state":(h=g.open,h?"open":"closed"),role:"dialog",id:g.contentId},p,f,{ref:n,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))));var h}));const $g=t=>{const{__scopePopover:n,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:l=!1}=t,s=Ng(n),u=e.useRef(null),[c,d]=e.useState(!1),[f=!1,g]=Of({prop:o,defaultProp:i,onChange:a});return e.createElement(Cf,s,e.createElement(Tg,{scope:n,contentId:rf(),triggerRef:u,open:f,onOpenChange:g,onOpenToggle:e.useCallback((()=>g((e=>!e))),[g]),hasCustomAnchor:c,onCustomAnchorAdd:e.useCallback((()=>d(!0)),[]),onCustomAnchorRemove:e.useCallback((()=>d(!1)),[]),modal:l},r))},Fg=kg,Bg=t=>{const{__scopePopover:n,forceMount:r,children:o,container:i}=t,a=Sg(Ag,n);return e.createElement(Og,{scope:n,forceMount:r},e.createElement(kf,{present:r||a.open},e.createElement(Sf,{asChild:!0,container:i},o)))},Kg=Dg;function zg(e){const t=e+"CollectionProvider",[n,r]=xd(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=e+"CollectionSlot",l=e+"CollectionItemSlot",s="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:n}=e,r=v.useRef(null),i=v.useRef(new Map).current;return v.createElement(o,{scope:t,itemMap:i,collectionRef:r},n)},Slot:v.forwardRef(((e,t)=>{const{scope:n,children:r}=e,o=bd(t,i(a,n).collectionRef);return v.createElement(wd,{ref:o},r)})),ItemSlot:v.forwardRef(((e,t)=>{const{scope:n,children:r,...o}=e,a=v.useRef(null),u=bd(t,a),c=i(l,n);return v.useEffect((()=>(c.itemMap.set(a,{ref:a,...o}),()=>{c.itemMap.delete(a)}))),v.createElement(wd,{[s]:"",ref:u},r)}))},function(t){const n=i(e+"CollectionConsumer",t);return v.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${s}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},r]}const Vg=e.createContext(void 0);function Wg(t){const n=e.useContext(Vg);return t||n||"ltr"}const Hg="rovingFocusGroup.onEntryFocus",Ug={bubbles:!1,cancelable:!0},jg="RovingFocusGroup",[Yg,Gg,Zg]=zg(jg),[Jg,qg]=xd(jg,[Zg]),[Xg,Qg]=Jg(jg),ep=e.forwardRef(((t,n)=>e.createElement(Yg.Provider,{scope:t.__scopeRovingFocusGroup},e.createElement(Yg.Slot,{scope:t.__scopeRovingFocusGroup},e.createElement(tp,_({},t,{ref:n})))))),tp=e.forwardRef(((t,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:c,...d}=t,f=e.useRef(null),g=bd(n,f),p=Wg(a),[h=null,m]=Of({prop:l,defaultProp:s,onChange:u}),[v,y]=e.useState(!1),E=Rd(c),b=Gg(r),x=e.useRef(!1),[C,w]=e.useState(0);return e.useEffect((()=>{const e=f.current;if(e)return e.addEventListener(Hg,E),()=>e.removeEventListener(Hg,E)}),[E]),e.createElement(Xg,{scope:r,orientation:o,dir:p,loop:i,currentTabStopId:h,onItemFocus:e.useCallback((e=>m(e)),[m]),onItemShiftTab:e.useCallback((()=>y(!0)),[]),onFocusableItemAdd:e.useCallback((()=>w((e=>e+1))),[]),onFocusableItemRemove:e.useCallback((()=>w((e=>e-1))),[])},e.createElement(Ad.div,_({tabIndex:v||0===C?-1:0,"data-orientation":o},d,{ref:g,style:{outline:"none",...t.style},onMouseDown:_d(t.onMouseDown,(()=>{x.current=!0})),onFocus:_d(t.onFocus,(e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(Hg,Ug);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter((e=>e.focusable));op([e.find((e=>e.active)),e.find((e=>e.id===h)),...e].filter(Boolean).map((e=>e.ref.current)))}}x.current=!1})),onBlur:_d(t.onBlur,(()=>y(!1)))})))})),np=e.forwardRef(((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:a,...l}=t,s=rf(),u=a||s,c=Qg("RovingFocusGroupItem",r),d=c.currentTabStopId===u,f=Gg(r),{onFocusableItemAdd:g,onFocusableItemRemove:p}=c;return e.useEffect((()=>{if(o)return g(),()=>p()}),[o,g,p]),e.createElement(Yg.ItemSlot,{scope:r,id:u,focusable:o,active:i},e.createElement(Ad.span,_({tabIndex:d?0:-1,"data-orientation":c.orientation},l,{ref:n,onMouseDown:_d(t.onMouseDown,(e=>{o?c.onItemFocus(u):e.preventDefault()})),onFocus:_d(t.onFocus,(()=>c.onItemFocus(u))),onKeyDown:_d(t.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:rp[r]}(e,c.orientation,c.dir);if(void 0!==t){e.preventDefault();let o=f().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();const i=o.indexOf(e.currentTarget);o=c.loop?(r=i+1,(n=o).map(((e,t)=>n[(r+t)%n.length]))):o.slice(i+1)}setTimeout((()=>op(o)))}var n,r}))})))})),rp={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function op(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}const ip=ep,ap=np,lp=e.forwardRef(((t,n)=>{const{pressed:r,defaultPressed:o=!1,onPressedChange:i,...a}=t,[l=!1,s]=Of({prop:r,onChange:i,defaultProp:o});return e.createElement(Ad.button,_({type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":t.disabled?"":void 0},a,{ref:n,onClick:_d(t.onClick,(()=>{t.disabled||s(!l)}))}))})),sp="ToggleGroup",[up,cp]=xd(sp,[qg]),dp=qg(),fp=v.forwardRef(((e,t)=>{const{type:n,...r}=e;if("single"===n){const e=r;return v.createElement(hp,_({},e,{ref:t}))}if("multiple"===n){const e=r;return v.createElement(mp,_({},e,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${sp}\``)})),[gp,pp]=up(sp),hp=v.forwardRef(((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=(()=>{}),...i}=e,[a,l]=Of({prop:n,defaultProp:r,onChange:o});return v.createElement(gp,{scope:e.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:l,onItemDeactivate:v.useCallback((()=>l("")),[l])},v.createElement(_p,_({},i,{ref:t})))})),mp=v.forwardRef(((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=(()=>{}),...i}=e,[a=[],l]=Of({prop:n,defaultProp:r,onChange:o}),s=v.useCallback((e=>l(((t=[])=>[...t,e]))),[l]),u=v.useCallback((e=>l(((t=[])=>t.filter((t=>t!==e))))),[l]);return v.createElement(gp,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:s,onItemDeactivate:u},v.createElement(_p,_({},i,{ref:t})))})),[vp,yp]=up(sp),_p=v.forwardRef(((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:a,loop:l=!0,...s}=e,u=dp(n),c=Wg(a),d={role:"group",dir:c,...s};return v.createElement(vp,{scope:n,rovingFocus:o,disabled:r},o?v.createElement(ip,_({asChild:!0},u,{orientation:i,dir:c,loop:l}),v.createElement(Ad.div,_({},d,{ref:t}))):v.createElement(Ad.div,_({},d,{ref:t})))})),Ep="ToggleGroupItem",bp=v.forwardRef(((e,t)=>{const n=pp(Ep,e.__scopeToggleGroup),r=yp(Ep,e.__scopeToggleGroup),o=dp(e.__scopeToggleGroup),i=n.value.includes(e.value),a=r.disabled||e.disabled,l={...e,pressed:i,disabled:a},s=v.useRef(null);return r.rovingFocus?v.createElement(ap,_({asChild:!0},o,{focusable:!a,active:i,ref:s}),v.createElement(xp,_({},l,{ref:t}))):v.createElement(xp,_({},l,{ref:t}))})),xp=v.forwardRef(((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=pp(Ep,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l="single"===i.type?a:void 0;return v.createElement(lp,_({},l,o,{ref:t,onPressedChange:e=>{e?i.onItemActivate(r):i.onItemDeactivate(r)}}))})),Cp=fp,wp=bp,Np="Toolbar",[Tp,Sp]=xd(Np,[qg,cp]),kp=qg(),Ap=cp(),[Op,Rp]=Tp(Np),Ip=e.forwardRef(((t,n)=>{const{__scopeToolbar:r,orientation:o="horizontal",dir:i,loop:a=!0,...l}=t,s=kp(r),u=Wg(i);return e.createElement(Op,{scope:r,orientation:o,dir:u},e.createElement(ip,_({asChild:!0},s,{orientation:o,dir:u,loop:a}),e.createElement(Ad.div,_({role:"toolbar","aria-orientation":o,dir:u},l,{ref:n}))))})),Dp=e.forwardRef(((t,n)=>{const{__scopeToolbar:r,...o}=t,i=kp(r);return e.createElement(ap,_({asChild:!0},i,{focusable:!t.disabled}),e.createElement(Ad.button,_({type:"button"},o,{ref:n})))})),Mp=Ip,Lp=Dp,Pp=e.forwardRef(((t,n)=>{const{__scopeToolbar:r,...o}=t,i=Rp("ToolbarToggleGroup",r),a=Ap(r);return e.createElement(Cp,_({"data-orientation":i.orientation,dir:i.dir},a,o,{ref:n,rovingFocus:!1}))})),$p=e.forwardRef(((t,n)=>{const{__scopeToolbar:r,...o}=t,i=Ap(r),a={__scopeToolbar:t.__scopeToolbar};return e.createElement(Dp,_({asChild:!0},a),e.createElement(wp,_({},i,o,{ref:n})))}));var Fp={},Bp=$a,Kp=ma;let zp=new Set(["http:","https:","mailto:","sms:","tel:"]),Vp=class e extends Kp.ElementNode{static getType(){return"link"}static clone(t){return new e(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(e,t={},n){super(n);let{target:r=null,rel:o=null,title:i=null}=t;this.__url=e,this.__target=r,this.__rel=o,this.__title=i}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),Bp.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){let n=this.__url,r=this.__target,o=this.__rel,i=this.__title;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),o!==e.__rel&&(o?t.rel=o:t.removeAttribute("rel")),i!==e.__title&&(i?t.title=i:t.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:Wp,priority:1})}}static importJSON(e){let t=Hp(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{let t=new URL(e);if(!zp.has(t.protocol))return"about:blank"}catch(t){}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,t=!0){return e=Hp(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),this.insertAfter(e,t),e}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t){if(!Kp.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&0<t.getTextContent().length}};function Wp(e){let t=null;if(Bp.isHTMLAnchorElement(e)){let n=e.textContent;(null!==n&&""!==n||0<e.children.length)&&(t=Hp(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function Hp(e,t){return Kp.$applyNodeReplacement(new Vp(e,t))}function Up(e){return e instanceof Vp}let jp=class e extends Vp{static getType(){return"autolink"}static clone(t){return new e(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}static importJSON(e){let t=Yp(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),Kp.$isElementNode(e)?(t=Yp(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}};function Yp(e,t){return Kp.$applyNodeReplacement(new jp(e,t))}let Gp=Kp.createCommand("TOGGLE_LINK_COMMAND");Fp.$createAutoLinkNode=Yp,Fp.$createLinkNode=Hp,Fp.$isAutoLinkNode=function(e){return e instanceof jp},Fp.$isLinkNode=Up,Fp.AutoLinkNode=jp,Fp.LinkNode=Vp,Fp.TOGGLE_LINK_COMMAND=Gp,Fp.toggleLink=function(e,t={}){let{target:n,title:r}=t,o=void 0===t.rel?"noreferrer":t.rel;if(t=Kp.$getSelection(),Kp.$isRangeSelection(t))if(t=t.extract(),null===e)t.forEach((e=>{if(Up(e=e.getParent())){let t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){let i=function(e,t){for(;null!==e&&null!==e.getParent()&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}(t[0],Up);if(null!==i)return i.setURL(e),void 0!==n&&i.setTarget(n),null!==o&&i.setRel(o),void(void 0!==r&&i.setTitle(r))}let i=null,a=null;t.forEach((t=>{var l=t.getParent();if(l!==a&&null!==l&&(!Kp.$isElementNode(t)||t.isInline()))if(Up(l))a=l,l.setURL(e),void 0!==n&&l.setTarget(n),null!==o&&a.setRel(o),void 0!==r&&a.setTitle(r);else if(l.is(i)||(i=l,a=Hp(e,{rel:o,target:n,title:r}),Up(l)?null===t.getPreviousSibling()?l.insertBefore(a):l.insertAfter(a):t.insertBefore(a)),Up(t)){if(!t.is(a)){if(null!==a){l=t.getChildren();for(let e=0;e<l.length;e++)a.append(l[e])}t.remove()}}else null!==a&&a.append(t)}))}};var Zp=Fp;const Jp={testNode:"link",visitNode({mdastNode:e,actions:t}){t.addAndStepInto(Zp.$createLinkNode(e.url,{title:e.title}))}},qp={testLexicalNode:Zp.$isLinkNode,visitLexicalNode:({lexicalNode:e,actions:t})=>{t.addAndStepInto("link",{url:e.getURL(),title:e.getTitle()})}};var Xp={},Qp=Zp,eh=pt,th=$a,nh=ma,rh=e;Xp.LinkPlugin=function({validateUrl:e}){let[t]=eh.useLexicalComposerContext();return rh.useEffect((()=>{if(!t.hasNodes([Qp.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return th.mergeRegister(t.registerCommand(Qp.TOGGLE_LINK_COMMAND,(t=>{if(null===t)return Qp.toggleLink(t),!0;if("string"==typeof t)return!(void 0!==e&&!e(t))&&(Qp.toggleLink(t),!0);let{url:n,target:r,rel:o,title:i}=t;return Qp.toggleLink(n,{rel:o,target:r,title:i}),!0}),nh.COMMAND_PRIORITY_LOW),void 0!==e?t.registerCommand(nh.PASTE_COMMAND,(n=>{let r=nh.$getSelection();if(!nh.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;let o=n.clipboardData.getData("text");return!!e(o)&&(!r.getNodes().some((e=>nh.$isElementNode(e)))&&(t.dispatchCommand(Qp.TOGGLE_LINK_COMMAND,o),n.preventDefault(),!0))}),nh.COMMAND_PRIORITY_LOW):()=>{})}),[t,e]),null};var oh=Xp,ih={},ah=Zp,lh=pt,sh=$a,uh=ma,ch=e;function dh(e,t){for(let n=0;n<t.length;n++){let r=t[n](e);if(r)return r}return null}let fh=/[.,;\s]/;function gh(e){var t;return e=e.getPreviousSibling(),uh.$isElementNode(e)&&(e=e.getLastDescendant()),!(t=null===e||uh.$isLineBreakNode(e))&&(t=uh.$isTextNode(e))&&(e=e.getTextContent(),t=fh.test(e[e.length-1])),t}function ph(e){return e=e.getNextSibling(),uh.$isElementNode(e)&&(e=e.getFirstDescendant()),null===e||uh.$isLineBreakNode(e)||uh.$isTextNode(e)&&fh.test(e.getTextContent()[0])}function hh(e,t,n,r){return!!(0<e?fh.test(n[e-1]):gh(r[0]))&&(t<n.length?fh.test(n[t]):ph(r[r.length-1]))}function mh(e,t,n){let r=[],o=[],i=[],a=0,l=0;for(e=[...e];0<e.length;){let s=e[0],u=s.getTextContent().length,c=l;l+u<=t?(r.push(s),a+=u):c>=n?i.push(s):o.push(s),l+=u,e.shift()}return[a,r,o,i]}function vh(e,t,n,r){let o=ah.$createAutoLinkNode(r.url,r.attributes);if(1===e.length){var i=e[0];0===t?[l,i]=i.splitText(n):[,l,i]=i.splitText(t,n);var a=uh.$createTextNode(r.text);return a.setFormat(l.getFormat()),a.setDetail(l.getDetail()),o.append(a),l.replace(o),i}if(1<e.length){var l=(r=e[0]).getTextContent().length;for(0===t?i=r:[,i]=r.splitText(t),t=[],r=1;r<e.length;r++){let o=e[r],i=o.getTextContent().length,s=l;if(s<n)if(l+i<=n)t.push(o);else{let[e,r]=o.splitText(n-s);t.push(e),a=r}l+=i}return e=(n=uh.$getSelection())?n.getNodes().find(uh.$isTextNode):void 0,(l=uh.$createTextNode(i.getTextContent())).setFormat(i.getFormat()),l.setDetail(i.getDetail()),o.append(l,...t),e&&e===i&&(uh.$isRangeSelection(n)?l.select(n.anchor.offset,n.focus.offset):uh.$isNodeSelection(n)&&l.select(0,l.getTextContent().length)),i.replace(o),a}}function yh(e,t,n){var r=e.getChildren();let o=r.length;for(let i=0;i<o;i++){let t=r[i];if(!uh.$isTextNode(t)||!t.isSimpleText())return _h(e),void n(null,e.getURL())}null===(t=dh(r=e.getTextContent(),t))||t.text!==r?(_h(e),n(null,e.getURL())):gh(e)&&ph(e)?((r=e.getURL())!==t.url&&(e.setURL(t.url),n(t.url,r)),t.attributes&&((r=e.getRel())!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,r)),(r=e.getTarget())!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,r)))):(_h(e),n(null,e.getURL()))}function _h(e){let t=e.getChildren();var n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}function Eh(e,t,n){ch.useEffect((()=>{e.hasNodes([ah.AutoLinkNode])||function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);let r=(e,t)=>{n&&n(e,t)};return sh.mergeRegister(e.registerNodeTransform(uh.TextNode,(e=>{var o=e.getParentOrThrow(),i=e.getPreviousSibling();if(ah.$isAutoLinkNode(o))yh(o,t,r);else if(!ah.$isLinkNode(o)){if(e.isSimpleText()&&(fh.test(e.getTextContent()[0])||!ah.$isAutoLinkNode(i))){for(o=[e],i=e.getNextSibling();null!==i&&uh.$isTextNode(i)&&i.isSimpleText()&&(o.push(i),!/[\s]/.test(i.getTextContent()));)i=i.getNextSibling();!function(e,t,n){var r=[...e];e=r.map((e=>e.getTextContent())).join("");let o,i=0;for(;(o=dh(e,t))&&null!==o;){let t=o.index,a=t+o.length;if(hh(i+t,i+a,e,r)){let[e,,l,s]=mh(r,i+t,i+a);r=(r=vh(l,i+t-e,i+a-e,o))?[r,...s]:s,n(o.url,null),i=0}else i+=a;e=e.substring(a)}}(o,t,r)}let a=e.getPreviousSibling();o=e.getNextSibling(),i=e.getTextContent(),ah.$isAutoLinkNode(a)&&!fh.test(i[0])&&(a.append(e),yh(a,t,r),e=a.getURL(),n&&n(null,e)),ah.$isAutoLinkNode(o)&&!fh.test(i[i.length-1])&&(_h(o),yh(o,t,r),e=o.getURL(),n&&n(null,e))}})))}),[e,t,n])}ih.AutoLinkPlugin=function({matchers:e,onChange:t}){let[n]=lh.useLexicalComposerContext();return Eh(n,e,t),null},ih.createLinkMatcherWithRegExp=function(e,t=(e=>e)){return n=>null===(n=e.exec(n))?null:{index:n.index,length:n[0].length,text:n[0],url:t(n[0])}};var bh=ih;const xh=[bh.createLinkMatcherWithRegExp(/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,(e=>e.startsWith("http")?e:`https://${e}`)),bh.createLinkMatcherWithRegExp(/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,(e=>`mailto:${e}`))],Ch=()=>v.createElement(bh.AutoLinkPlugin,{matchers:xh}),wh=Xs((e=>({disableAutoLink:e.node(!1)})),[lu]),[Nh]=ru({id:"link",systemSpec:wh,init:(e,t)=>{const n=Boolean(null==t?void 0:t.disableAutoLink);e.pubKey("addImportVisitor",Jp),e.pubKey("addLexicalNode",Zp.LinkNode),e.pubKey("addLexicalNode",Zp.AutoLinkNode),e.pubKey("addExportVisitor",qp),e.pubKey("disableAutoLink",n);const r=(null==t?void 0:t.validateUrl)?{validateUrl:t.validateUrl}:{};e.pubKey("addComposerChild",(()=>v.createElement(v.Fragment,null,v.createElement(oh.LinkPlugin,{...r}),n?null:v.createElement(Ch,null))))}}),Th=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"m9.25 22-.4-3.2a3.79 3.79 0 0 1-.613-.3 8.266 8.266 0 0 1-.562-.375L4.7 19.375l-2.75-4.75 2.575-1.95a2.387 2.387 0 0 1-.025-.338v-.675c0-.108.008-.22.025-.337L1.95 9.375l2.75-4.75 2.975 1.25c.183-.133.375-.258.575-.375.2-.117.4-.217.6-.3l.4-3.2h5.5l.4 3.2c.217.083.42.183.612.3.192.117.38.242.563.375l2.975-1.25 2.75 4.75-2.575 1.95c.017.117.025.23.025.338v.675c0 .108-.017.22-.05.337l2.575 1.95-2.75 4.75-2.95-1.25a6.842 6.842 0 0 1-.575.375c-.2.117-.4.217-.6.3l-.4 3.2h-5.5Zm2.8-6.5c.967 0 1.792-.342 2.475-1.025A3.372 3.372 0 0 0 15.55 12c0-.967-.342-1.792-1.025-2.475A3.373 3.373 0 0 0 12.05 8.5c-.983 0-1.813.342-2.488 1.025A3.393 3.393 0 0 0 8.55 12c0 .967.337 1.792 1.012 2.475.676.683 1.505 1.025 2.488 1.025Zm0-2c-.417 0-.77-.146-1.063-.438A1.446 1.446 0 0 1 10.55 12c0-.417.146-.77.438-1.063a1.446 1.446 0 0 1 1.062-.437c.417 0 .77.146 1.063.438.291.291.437.645.437 1.062 0 .417-.146.77-.438 1.063a1.447 1.447 0 0 1-1.062.437ZM11 20h1.975l.35-2.65a5.61 5.61 0 0 0 1.438-.588c.441-.258.845-.57 1.212-.937l2.475 1.025.975-1.7-2.15-1.625c.083-.233.142-.48.175-.738a6.153 6.153 0 0 0 0-1.575 3.535 3.535 0 0 0-.175-.737l2.15-1.625-.975-1.7-2.475 1.05a5.556 5.556 0 0 0-1.213-.962 5.607 5.607 0 0 0-1.437-.588L13 4h-1.975l-.35 2.65c-.517.133-.996.33-1.438.587a6.015 6.015 0 0 0-1.212.938L5.55 7.15l-.975 1.7 2.15 1.6c-.083.25-.142.5-.175.75a6.122 6.122 0 0 0 0 1.575c.033.25.092.5.175.75l-2.15 1.625.975 1.7 2.475-1.05c.367.383.77.704 1.212.962.442.259.921.455 1.438.588L11 20Z"})));function Sh(e,t,n){return Math.min(Math.max(e,t),n)}const kh={east:1,north:8,south:2,west:4};function Ah({onResizeStart:t,onResizeEnd:n,imageRef:r,maxWidth:o,editor:i}){const a=e.useRef(null),l=e.useRef({priority:"",value:"default"}),s=e.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),u=i.getRootElement(),c=o||(null!==u?u.getBoundingClientRect().width-20:100),d=null!==u?u.getBoundingClientRect().height-20:100,f=(e,n)=>{if(!i.isEditable())return;const o=r.current,c=a.current;if(null!==o&&null!==c){e.preventDefault();const{width:r,height:i}=o.getBoundingClientRect(),a=s.current;a.startWidth=r,a.startHeight=i,a.ratio=r/i,a.currentWidth=r,a.currentHeight=i,a.startX=e.clientX,a.startY=e.clientY,a.isResizing=!0,a.direction=n,(e=>{const t=e===kh.east||e===kh.west,n=e===kh.north||e===kh.south,r=e&kh.north&&e&kh.west||e&kh.south&&e&kh.east,o=t?"ew":n?"ns":r?"nwse":"nesw";null!==u&&u.style.setProperty("cursor",`${o}-resize`,"important"),null!==document.body&&(document.body.style.setProperty("cursor",`${o}-resize`,"important"),l.current.value=document.body.style.getPropertyValue("-webkit-user-select"),l.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))})(n),t(),c.classList.add(_u.imageControlWrapperResizing),o.style.height=`${i}px`,o.style.width=`${r}px`,document.addEventListener("pointermove",g),document.addEventListener("pointerup",p)}},g=e=>{const t=r.current,n=s.current,o=n.direction&(kh.east|kh.west),i=n.direction&(kh.south|kh.north);if(null!==t&&n.isResizing)if(o&&i){let r=Math.floor(n.startX-e.clientX);r=n.direction&kh.east?-r:r;const o=Sh(n.startWidth+r,100,c),i=o/n.ratio;t.style.width=`${o}px`,t.style.height=`${i}px`,n.currentHeight=i,n.currentWidth=o}else if(i){let r=Math.floor(n.startY-e.clientY);r=n.direction&kh.south?-r:r;const o=Sh(n.startHeight+r,100,d);t.style.height=`${o}px`,n.currentHeight=o}else{let r=Math.floor(n.startX-e.clientX);r=n.direction&kh.east?-r:r;const o=Sh(n.startWidth+r,100,c);t.style.width=`${o}px`,n.currentWidth=o}},p=()=>{const e=r.current,t=s.current,o=a.current;if(null!==e&&null!==o&&t.isResizing){const e=t.currentWidth,r=t.currentHeight;t.startWidth=0,t.startHeight=0,t.ratio=0,t.startX=0,t.startY=0,t.currentWidth=0,t.currentHeight=0,t.isResizing=!1,o.classList.remove(_u.imageControlWrapperResizing),null!==u&&u.style.setProperty("cursor","text"),null!==document.body&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",l.current.value,l.current.priority)),n(e,r),document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",p)}};return e.createElement("div",{ref:a},e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerN),onPointerDown:e=>{f(e,kh.north)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerNe),onPointerDown:e=>{f(e,kh.north|kh.east)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerE),onPointerDown:e=>{f(e,kh.east)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerSe),onPointerDown:e=>{f(e,kh.south|kh.east)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerS),onPointerDown:e=>{f(e,kh.south)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerSw),onPointerDown:e=>{f(e,kh.south|kh.west)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerW),onPointerDown:e=>{f(e,kh.west)}}),e.createElement("div",{className:ic(_u.imageResizer,_u.imageResizerNw),onPointerDown:e=>{f(e,kh.north|kh.west)}}))}const Oh=new Set;function Rh({title:e,alt:t,className:n,imageRef:r,src:o,width:i,height:a}){return function(e){if(!Oh.has(e))throw new Promise((t=>{const n=new Image;n.src=e,n.onload=()=>{Oh.add(e),t(null)}}))}(o),v.createElement("img",{className:n||void 0,alt:t,src:o,title:e,ref:r,draggable:"false",width:i,height:a})}function Ih({src:e,title:t,alt:n,nodeKey:r,width:o,height:i}){const a=v.useRef(null),l=v.useRef(null),[s,u,c]=Sc.useLexicalNodeSelection(r),[d]=pt.useLexicalComposerContext(),[f,g]=v.useState(null),p=v.useRef(null),[h,m]=v.useState(!1),[y]=Vv.useEmitterValues("disableImageResize"),[_]=Vv.useEmitterValues("imagePreviewHandler"),[E,b]=v.useState(null),x=Vv.usePublisher("openEditImageDialog"),C=v.useCallback((e=>{if(s&&ma.$isNodeSelection(ma.$getSelection())){e.preventDefault();const t=ma.$getNodeByKey(r);Fh(t)&&t.remove()}return!1}),[s,r]),w=v.useCallback((e=>{const t=ma.$getSelection(),n=l.current;return!(!s||!ma.$isNodeSelection(t)||1!==t.getNodes().length||null===n||n===document.activeElement)&&(e.preventDefault(),n.focus(),!0)}),[s]),N=v.useCallback((e=>l.current===e.target&&(ma.$setSelection(null),d.update((()=>{u(!0);const e=d.getRootElement();null!==e&&e.focus()})),!0)),[d,u]);v.useEffect((()=>{if(_){(async()=>{const t=await _(e);b(t)})().catch(console.error)}else b(e)}),[e,_]),v.useEffect((()=>{let e=!0;const t=$a.mergeRegister(d.registerUpdateListener((({editorState:t})=>{e&&g(t.read((()=>ma.$getSelection())))})),d.registerCommand(ma.SELECTION_CHANGE_COMMAND,((e,t)=>(p.current=t,!1)),ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.CLICK_COMMAND,(e=>{const t=e;return!!h||t.target===a.current&&(t.shiftKey?u(!s):(c(),u(!0)),!0)}),ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.DRAGSTART_COMMAND,(e=>e.target===a.current&&(e.preventDefault(),!0)),ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.KEY_DELETE_COMMAND,C,ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.KEY_BACKSPACE_COMMAND,C,ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.KEY_ENTER_COMMAND,w,ma.COMMAND_PRIORITY_LOW),d.registerCommand(ma.KEY_ESCAPE_COMMAND,N,ma.COMMAND_PRIORITY_LOW));return()=>{e=!1,t()}}),[c,d,h,s,r,C,w,N,u]);const T=ma.$isNodeSelection(f),S=s;return null!==E?v.createElement(v.Suspense,{fallback:null},v.createElement("div",{className:_u.imageWrapper,"data-editor-block-type":"image"},v.createElement("div",{draggable:T},v.createElement(Rh,{width:o,height:i,className:ic({[_u.focusedImage]:S}),src:E,title:t||"",alt:n||"",imageRef:a})),T&&S&&!y&&v.createElement(Ah,{editor:d,imageRef:a,onResizeStart:()=>{m(!0)},onResizeEnd:(e,t)=>{setTimeout((()=>{m(!1)}),200),d.update((()=>{const n=ma.$getNodeByKey(r);Fh(n)&&n.setWidthAndHeight(e,t)}))}}),v.createElement("button",{type:"button",className:ic(_u.iconButton,_u.editImageButton),title:"Edit image",onClick:()=>{x({nodeKey:r,initialValues:{src:E,title:t||"",altText:n||""}})}},v.createElement(Th,null)))):null}var Dh=Object.defineProperty,Mh=(e,t,n)=>(((e,t,n)=>{t in e?Dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Lh(e){if(e instanceof HTMLImageElement){const{alt:t,src:n,title:r,width:o,height:i}=e;return{node:$h({altText:t,src:n,title:r,width:o,height:i})}}return null}class Ph extends ma.DecoratorNode{constructor(e,t,n,r,o,i){super(i),Mh(this,"__src"),Mh(this,"__altText"),Mh(this,"__title"),Mh(this,"__width"),Mh(this,"__height"),this.__src=e,this.__title=n,this.__altText=t,this.__width=r||"inherit",this.__height=o||"inherit"}static getType(){return"icage"}static clone(e){return new Ph(e.__src,e.__altText,e.__title,e.__width,e.__height,e.__key)}static importJSON(e){const{altText:t,title:n,src:r,width:o,height:i}=e;return $h({altText:t,title:n,src:r,height:i,width:o})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),this.__title&&e.setAttribute("title",this.__title),this.__width&&e.setAttribute("width",this.__width.toString()),this.__height&&e.setAttribute("height",this.__height.toString()),{element:e}}static importDOM(){return{img:()=>({conversion:Lh,priority:0})}}exportJSON(){return{altText:this.getAltText(),title:this.getTitle(),height:"inherit"===this.__height?0:this.__height,width:"inherit"===this.__width?0:this.__width,src:this.getSrc(),type:"image",version:1}}setWidthAndHeight(e,t){const n=this.getWritable();n.__width=e,n.__height=t}createDOM(e){const t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t}updateDOM(){return!1}getSrc(){return this.__src}getAltText(){return this.__altText}getTitle(){return this.__title}getHeight(){return this.__height}getWidth(){return this.__width}hasExplicitDimensions(){return"inherit"!==this.__width||"inherit"!==this.__height}setTitle(e){this.getWritable().__title=e}setSrc(e){this.getWritable().__src=e}setAltText(e){this.getWritable().__altText=e??""}decorate(e){return v.createElement(Ih,{src:this.getSrc(),title:this.getTitle(),nodeKey:this.getKey(),width:this.__width,height:this.__height,alt:this.__altText})}}function $h(e){const{altText:t,title:n,src:r,key:o,width:i,height:a}=e;return new Ph(r,t,n,i,a,o)}function Fh(e){return e instanceof Ph}const Bh={testLexicalNode:Fh,visitLexicalNode({mdastParent:e,lexicalNode:t,actions:n}){if(t.hasExplicitDimensions()){const r=new Image;"inherit"!==t.getHeight()&&(r.height=t.getHeight()),"inherit"!==t.getWidth()&&(r.width=t.getWidth()),t.getAltText()&&(r.alt=t.getAltText()),t.getTitle()&&(r.title=t.getTitle()),n.appendToParent(e,{type:"html",value:r.outerHTML.replace(/>$/,` src="${t.getSrc()}" />`)})}else n.appendToParent(e,{type:"image",url:t.getSrc(),alt:t.getAltText(),title:t.getTitle()})}},Kh={testNode:"image",visitNode({mdastNode:e,actions:t}){t.addAndStepInto($h({src:e.url,altText:e.alt||"",title:e.title||""}))}},zh={testNode:e=>"html"===e.type&&e.value.trim().startsWith("<img"),visitNode({mdastNode:e,lexicalParent:t}){const n=document.createElement("div");n.innerHTML=e.value;const r=n.querySelector("img");if(!r)throw new Error("Invalid HTML image");const o=$h({src:r.src||"",altText:r.alt,title:r.title,width:r.width,height:r.height});if("root"===t.getType()){const e=ma.$createParagraphNode();e.append(o),t.append(e)}else t.append(o)}};function Vh(e,t){const n=e.attributes.find((e=>"mdxJsxAttribute"===e.type&&e.name===t));if(n)return n.value}const Wh={testNode:e=>("mdxJsxTextElement"===e.type||"mdxJsxFlowElement"===e.type)&&"img"===e.name,visitNode({mdastNode:e,lexicalParent:t}){const n=Vh(e,"src");if(!n)return;const r=Vh(e,"alt")||"",o=Vh(e,"title"),i=Vh(e,"height"),a=Vh(e,"width"),l=$h({src:n,altText:r,title:o,width:a?parseInt(a,10):void 0,height:i?parseInt(i,10):void 0});if("root"===t.getType()){const e=ma.$createParagraphNode();e.append(l),t.append(e)}else t.append(l)}},Hh="Dialog",[Uh,jh]=xd(Hh),[Yh,Gh]=Uh(Hh),Zh="DialogPortal",[Jh,qh]=Uh(Zh,{forceMount:void 0}),Xh="DialogOverlay",Qh=e.forwardRef(((t,n)=>{const r=qh(Xh,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,a=Gh(Xh,t.__scopeDialog);return a.modal?e.createElement(kf,{present:o||a.open},e.createElement(em,_({},i,{ref:n}))):null})),em=e.forwardRef(((t,n)=>{const{__scopeDialog:r,...o}=t,i=Gh(Xh,r);return e.createElement(bg,{as:wd,allowPinchZoom:!0,shards:[i.contentRef]},e.createElement(Ad.div,_({"data-state":sm(i.open)},o,{ref:n,style:{pointerEvents:"auto",...o.style}})))})),tm="DialogContent",nm=e.forwardRef(((t,n)=>{const r=qh(tm,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,a=Gh(tm,t.__scopeDialog);return e.createElement(kf,{present:o||a.open},a.modal?e.createElement(rm,_({},i,{ref:n})):e.createElement(om,_({},i,{ref:n})))})),rm=e.forwardRef(((t,n)=>{const r=Gh(tm,t.__scopeDialog),o=e.useRef(null),i=bd(n,r.contentRef,o);return e.useEffect((()=>{const e=o.current;if(e)return $f(e)}),[]),e.createElement(im,_({},t,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_d(t.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:_d(t.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:_d(t.onFocusOutside,(e=>e.preventDefault()))}))})),om=e.forwardRef(((t,n)=>{const r=Gh(tm,t.__scopeDialog),o=e.useRef(!1),i=e.useRef(!1);return e.createElement(im,_({},t,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var n,a;(null===(n=t.onCloseAutoFocus)||void 0===n||n.call(t,e),e.defaultPrevented)||(o.current||null===(a=r.triggerRef.current)||void 0===a||a.focus(),e.preventDefault());o.current=!1,i.current=!1},onInteractOutside:e=>{var n,a;null===(n=t.onInteractOutside)||void 0===n||n.call(t,e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(i.current=!0));const l=e.target;(null===(a=r.triggerRef.current)||void 0===a?void 0:a.contains(l))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.current&&e.preventDefault()}}))})),im=e.forwardRef(((t,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,s=Gh(tm,r),u=bd(n,e.useRef(null));return Vd(),e.createElement(e.Fragment,null,e.createElement(Yd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a},e.createElement(Fd,_({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":sm(s.open)},l,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)})),am="DialogClose",lm=e.forwardRef(((t,n)=>{const{__scopeDialog:r,...o}=t,i=Gh(am,r);return e.createElement(Ad.button,_({type:"button"},o,{ref:n,onClick:_d(t.onClick,(()=>i.onOpenChange(!1)))}))}));function sm(e){return e?"open":"closed"}const um=t=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,s=e.useRef(null),u=e.useRef(null),[c=!1,d]=Of({prop:o,defaultProp:i,onChange:a});return e.createElement(Yh,{scope:n,triggerRef:s,contentRef:u,contentId:rf(),titleId:rf(),descriptionId:rf(),open:c,onOpenChange:d,onOpenToggle:e.useCallback((()=>d((e=>!e))),[d]),modal:l},r)},cm=t=>{const{__scopeDialog:n,forceMount:r,children:o,container:i}=t,a=Gh(Zh,n);return e.createElement(Jh,{scope:n,forceMount:r},e.Children.map(o,(t=>e.createElement(kf,{present:r||a.open},e.createElement(Sf,{asChild:!0,container:i},t)))))},dm=Qh,fm=nm,gm=lm;var pm=e=>"checkbox"===e.type,hm=e=>e instanceof Date,mm=e=>null==e;const vm=e=>"object"==typeof e;var ym=e=>!mm(e)&&!Array.isArray(e)&&vm(e)&&!hm(e),_m=e=>ym(e)&&e.target?pm(e.target)?e.target.checked:e.target.value:e,Em=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),bm=e=>{const t=e.constructor&&e.constructor.prototype;return ym(t)&&t.hasOwnProperty("isPrototypeOf")},xm="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Cm(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(xm&&(e instanceof Blob||e instanceof FileList)||!n&&!ym(e))return e;if(t=n?[]:{},n||bm(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Cm(e[n]));else t=e}return t}var wm=e=>Array.isArray(e)?e.filter(Boolean):[],Nm=e=>void 0===e,Tm=(e,t,n)=>{if(!t||!ym(e))return n;const r=wm(t.split(/[,[\].]+?/)).reduce(((e,t)=>mm(e)?e:e[t]),e);return Nm(r)||r===e?Nm(e[t])?n:e[t]:r},Sm=e=>"boolean"==typeof e;const km={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Am={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Om="max",Rm="min",Im="maxLength",Dm="minLength",Mm="pattern",Lm="required",Pm="validate",$m=v.createContext(null),Fm=()=>v.useContext($m);var Bm=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Am.all&&(t._proxyFormState[o]=!r||Am.all),n&&(n[o]=!0),e[o]}});return o},Km=e=>ym(e)&&!Object.keys(e).length,zm=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return Km(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!r||Am.all)))},Vm=e=>Array.isArray(e)?e:[e],Wm=(e,t,n)=>!e||!t||e===t||Vm(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Hm(e){const t=v.useRef(e);t.current=e,v.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Um=e=>"string"==typeof e,jm=(e,t,n,r,o)=>Um(e)?(r&&t.watch.add(e),Tm(n,e,o)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Tm(n,e)))):(r&&(t.watchAll=!0),n);var Ym=e=>/^\w*$/.test(e),Gm=e=>wm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Zm=(e,t,n)=>{let r=-1;const o=Ym(t)?[t]:Gm(t),i=o.length,a=i-1;for(;++r<i;){const t=o[r];let i=n;if(r!==a){const n=e[t];i=ym(n)||Array.isArray(n)?n:isNaN(+o[r+1])?{}:[]}e[t]=i,e=e[t]}return e};function Jm(e){const t=Fm(),{name:n,disabled:r,control:o=t.control,shouldUnregister:i}=e,a=Em(o._names.array,n),l=function(e){const t=Fm(),{control:n=t.control,name:r,defaultValue:o,disabled:i,exact:a}=e||{},l=v.useRef(r);l.current=r,Hm({disabled:i,subject:n._subjects.values,next:e=>{Wm(l.current,e.name,a)&&u(Cm(jm(l.current,n._names,e.values||n._formValues,!1,o)))}});const[s,u]=v.useState(n._getWatch(r,o));return v.useEffect((()=>n._removeUnmounted())),s}({control:o,name:n,defaultValue:Tm(o._formValues,n,Tm(o._defaultValues,n,e.defaultValue)),exact:!0}),s=function(e){const t=Fm(),{control:n=t.control,disabled:r,name:o,exact:i}=e||{},[a,l]=v.useState(n._formState),s=v.useRef(!0),u=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=v.useRef(o);return c.current=o,Hm({disabled:r,next:e=>s.current&&Wm(c.current,e.name,i)&&zm(e,u.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),v.useEffect((()=>(s.current=!0,u.current.isValid&&n._updateValid(!0),()=>{s.current=!1})),[n]),Bm(a,n,u.current,!1)}({control:o,name:n}),u=v.useRef(o.register(n,{...e.rules,value:l,...Sm(e.disabled)?{disabled:e.disabled}:{}}));return v.useEffect((()=>{const e=o._options.shouldUnregister||i,t=(e,t)=>{const n=Tm(o._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){const e=Cm(Tm(o._options.defaultValues,n));Zm(o._defaultValues,n,e),Nm(Tm(o._formValues,n))&&Zm(o._formValues,n,e)}return()=>{(a?e&&!o._state.action:e)?o.unregister(n):t(n,!1)}}),[n,o,a,i]),v.useEffect((()=>{Tm(o._fields,n)&&o._updateDisabledField({disabled:r,fields:o._fields,name:n,value:Tm(o._fields,n)._f.value})}),[r,n,o]),{field:{name:n,value:l,...Sm(r)||s.disabled?{disabled:s.disabled||r}:{},onChange:v.useCallback((e=>u.current.onChange({target:{value:_m(e),name:n},type:km.CHANGE})),[n]),onBlur:v.useCallback((()=>u.current.onBlur({target:{value:Tm(o._formValues,n),name:n},type:km.BLUR})),[n,o]),ref:e=>{const t=Tm(o._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Tm(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!Tm(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Tm(s.touchedFields,n)},error:{enumerable:!0,get:()=>Tm(s.errors,n)}})}}const qm=e=>e.render(Jm(e));var Xm=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Qm=e=>({isOnSubmit:!e||e===Am.onSubmit,isOnBlur:e===Am.onBlur,isOnChange:e===Am.onChange,isOnAll:e===Am.all,isOnTouch:e===Am.onTouched}),ev=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const tv=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const n=Tm(e,o);if(n){const{_f:e,...i}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],o)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;tv(i,t)}else ym(i)&&tv(i,t)}}};var nv=(e,t,n)=>{const r=wm(Tm(e,n));return Zm(r,"root",t[n]),Zm(e,n,r),e},rv=e=>"file"===e.type,ov=e=>"function"==typeof e,iv=e=>{if(!xm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},av=e=>Um(e),lv=e=>"radio"===e.type,sv=e=>e instanceof RegExp;const uv={value:!1,isValid:!1},cv={value:!0,isValid:!0};var dv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nm(e[0].attributes.value)?Nm(e[0].value)||""===e[0].value?cv:{value:e[0].value,isValid:!0}:cv:uv}return uv};const fv={isValid:!1,value:null};var gv=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),fv):fv;function pv(e,t,n="validate"){if(av(e)||Array.isArray(e)&&e.every(av)||Sm(e)&&!e)return{type:n,message:av(e)?e:"",ref:t}}var hv=e=>ym(e)&&!sv(e)?e:{value:e,message:""},mv=async(e,t,n,r,o)=>{const{ref:i,refs:a,required:l,maxLength:s,minLength:u,min:c,max:d,pattern:f,validate:g,name:p,valueAsNumber:h,mount:m,disabled:v}=e._f,y=Tm(t,p);if(!m||v)return{};const _=a?a[0]:i,E=e=>{r&&_.reportValidity&&(_.setCustomValidity(Sm(e)?"":e||""),_.reportValidity())},b={},x=lv(i),C=pm(i),w=x||C,N=(h||rv(i))&&Nm(i.value)&&Nm(y)||iv(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,T=Xm.bind(null,p,n,b),S=(e,t,n,r=Im,o=Dm)=>{const a=e?t:n;b[p]={type:e?r:o,message:a,ref:i,...T(e?r:o,a)}};if(o?!Array.isArray(y)||!y.length:l&&(!w&&(N||mm(y))||Sm(y)&&!y||C&&!dv(a).isValid||x&&!gv(a).isValid)){const{value:e,message:t}=av(l)?{value:!!l,message:l}:hv(l);if(e&&(b[p]={type:Lm,message:t,ref:_,...T(Lm,t)},!n))return E(t),b}if(!(N||mm(c)&&mm(d))){let e,t;const r=hv(d),o=hv(c);if(mm(y)||isNaN(y)){const n=i.valueAsDate||new Date(y),a=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,s="week"==i.type;Um(r.value)&&y&&(e=l?a(y)>a(r.value):s?y>r.value:n>new Date(r.value)),Um(o.value)&&y&&(t=l?a(y)<a(o.value):s?y<o.value:n<new Date(o.value))}else{const n=i.valueAsNumber||(y?+y:y);mm(r.value)||(e=n>r.value),mm(o.value)||(t=n<o.value)}if((e||t)&&(S(!!e,r.message,o.message,Om,Rm),!n))return E(b[p].message),b}if((s||u)&&!N&&(Um(y)||o&&Array.isArray(y))){const e=hv(s),t=hv(u),r=!mm(e.value)&&y.length>+e.value,o=!mm(t.value)&&y.length<+t.value;if((r||o)&&(S(r,e.message,t.message),!n))return E(b[p].message),b}if(f&&!N&&Um(y)){const{value:e,message:t}=hv(f);if(sv(e)&&!y.match(e)&&(b[p]={type:Mm,message:t,ref:i,...T(Mm,t)},!n))return E(t),b}if(g)if(ov(g)){const e=pv(await g(y,t),_);if(e&&(b[p]={...e,...T(Pm,e.message)},!n))return E(e.message),b}else if(ym(g)){let e={};for(const r in g){if(!Km(e)&&!n)break;const o=pv(await g[r](y,t),_,r);o&&(e={...o,...T(r,o.message)},E(o.message),n&&(b[p]=e))}if(!Km(e)&&(b[p]={ref:_,...e},!n))return b}return E(!0),b};function vv(e,t){const n=Array.isArray(t)?t:Ym(t)?[t]:Gm(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Nm(e)?r++:e[t[r++]];return e}(e,n),o=n.length-1,i=n[o];return r&&delete r[i],0!==o&&(ym(r)&&Km(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nm(e[t]))return!1;return!0}(r))&&vv(e,n.slice(0,-1)),e}var yv=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},_v=e=>mm(e)||!vm(e);function Ev(e,t){if(_v(e)||_v(t))return e===t;if(hm(e)&&hm(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const n=e[o];if(!r.includes(o))return!1;if("ref"!==o){const e=t[o];if(hm(n)&&hm(e)||ym(n)&&ym(e)||Array.isArray(n)&&Array.isArray(e)?!Ev(n,e):n!==e)return!1}}return!0}var bv=e=>"select-multiple"===e.type,xv=e=>lv(e)||pm(e),Cv=e=>iv(e)&&e.isConnected,wv=e=>{for(const t in e)if(ov(e[t]))return!0;return!1};function Nv(e,t={}){const n=Array.isArray(e);if(ym(e)||n)for(const r in e)Array.isArray(e[r])||ym(e[r])&&!wv(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Nv(e[r],t[r])):mm(e[r])||(t[r]=!0);return t}function Tv(e,t,n){const r=Array.isArray(e);if(ym(e)||r)for(const o in e)Array.isArray(e[o])||ym(e[o])&&!wv(e[o])?Nm(t)||_v(n[o])?n[o]=Array.isArray(e[o])?Nv(e[o],[]):{...Nv(e[o])}:Tv(e[o],mm(t)?{}:t[o],n[o]):n[o]=!Ev(e[o],t[o]);return n}var Sv=(e,t)=>Tv(e,t,Nv(t)),kv=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Nm(e)?e:t?""===e?NaN:e?+e:e:n&&Um(e)?new Date(e):r?r(e):e;function Av(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return rv(t)?t.files:lv(t)?gv(e.refs).value:bv(t)?[...t.selectedOptions].map((({value:e})=>e)):pm(t)?dv(e.refs).value:kv(Nm(t.value)?e.ref.value:t.value,e)}var Ov=(e,t,n,r)=>{const o={};for(const i of e){const e=Tm(t,i);e&&Zm(o,i,e._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Rv=e=>Nm(e)?e:sv(e)?e.source:ym(e)?sv(e.value)?e.value.source:e.value:e,Iv=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Dv(e,t,n){const r=Tm(e,n);if(r||Ym(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const r=o.join("."),i=Tm(t,r),a=Tm(e,r);if(i&&!Array.isArray(i)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};o.pop()}return{name:n}}var Mv=(e,t,n,r,o)=>!o.isOnAll&&(!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:!(n?r.isOnChange:o.isOnChange)||e),Lv=(e,t)=>!wm(Tm(e,t)).length&&vv(e,t);const Pv={mode:Am.onSubmit,reValidateMode:Am.onChange,shouldFocusError:!0};function $v(e={},t){let n,r={...Pv,...e},o={submitCount:0,isDirty:!1,isLoading:ov(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},a=(ym(r.defaultValues)||ym(r.values))&&Cm(r.defaultValues||r.values)||{},l=r.shouldUnregister?{}:Cm(a),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:yv(),array:yv(),state:yv()},g=Qm(r.mode),p=Qm(r.reValidateMode),h=r.criteriaMode===Am.all,m=async e=>{if(d.isValid||e){const e=r.resolver?Km((await b()).errors):await x(i,!0);e!==o.isValid&&f.state.next({isValid:e})}},v=e=>d.isValidating&&f.state.next({isValidating:e}),y=(e,t,n,r)=>{const o=Tm(i,e);if(o){const i=Tm(l,e,Nm(n)?Tm(a,e):n);Nm(i)||r&&r.defaultChecked||t?Zm(l,e,t?i:Av(o._f)):N(e,i),s.mount&&m()}},_=(e,t,n,r,l)=>{let s=!1,u=!1;const c={name:e},g=!(!Tm(i,e)||!Tm(i,e)._f.disabled);if(!n||r){d.isDirty&&(u=o.isDirty,o.isDirty=c.isDirty=C(),s=u!==c.isDirty);const n=g||Ev(Tm(a,e),t);u=!(g||!Tm(o.dirtyFields,e)),n||g?vv(o.dirtyFields,e):Zm(o.dirtyFields,e,!0),c.dirtyFields=o.dirtyFields,s=s||d.dirtyFields&&u!==!n}if(n){const t=Tm(o.touchedFields,e);t||(Zm(o.touchedFields,e,n),c.touchedFields=o.touchedFields,s=s||d.touchedFields&&t!==n)}return s&&l&&f.state.next(c),s?c:{}},E=(t,r,i,a)=>{const l=Tm(o.errors,t),s=d.isValid&&Sm(r)&&o.isValid!==r;var u;if(e.delayError&&i?(u=()=>((e,t)=>{Zm(o.errors,e,t),f.state.next({errors:o.errors})})(t,i),n=e=>{clearTimeout(c),c=setTimeout(u,e)},n(e.delayError)):(clearTimeout(c),n=null,i?Zm(o.errors,t,i):vv(o.errors,t)),(i?!Ev(l,i):l)||!Km(a)||s){const e={...a,...s&&Sm(r)?{isValid:r}:{},errors:o.errors,name:t};o={...o,...e},f.state.next(e)}v(!1)},b=async e=>r.resolver(l,r.context,Ov(e||u.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),x=async(e,t,n={valid:!0})=>{for(const i in e){const a=e[i];if(a){const{_f:e,...i}=a;if(e){const i=u.array.has(e.name),s=await mv(a,l,h,r.shouldUseNativeValidation&&!t,i);if(s[e.name]&&(n.valid=!1,t))break;!t&&(Tm(s,e.name)?i?nv(o.errors,s,e.name):Zm(o.errors,e.name,s[e.name]):vv(o.errors,e.name))}i&&await x(i,t,n)}}return n.valid},C=(e,t)=>(e&&t&&Zm(l,e,t),!Ev(R(),a)),w=(e,t,n)=>jm(e,u,{...s.mount?l:Nm(t)?a:Um(e)?{[e]:t}:t},n,t),N=(e,t,n={})=>{const r=Tm(i,e);let o=t;if(r){const n=r._f;n&&(!n.disabled&&Zm(l,e,kv(t,n)),o=iv(n.ref)&&mm(t)?"":t,bv(n.ref)?[...n.ref.options].forEach((e=>e.selected=o.includes(e.value))):n.refs?pm(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach((e=>e.checked=e.value===o)):rv(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||f.values.next({name:e,values:{...l}})))}(n.shouldDirty||n.shouldTouch)&&_(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},T=(e,t,n)=>{for(const r in t){const o=t[r],a=`${e}.${r}`,l=Tm(i,a);!u.array.has(e)&&_v(o)&&(!l||l._f)||hm(o)?N(a,o,n):T(a,o,n)}},S=(e,n,r={})=>{const c=Tm(i,e),g=u.array.has(e),p=Cm(n);Zm(l,e,p),g?(f.array.next({name:e,values:{...l}}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&f.state.next({name:e,dirtyFields:Sv(a,l),isDirty:C(e,p)})):!c||c._f||mm(p)?N(e,p,r):T(e,p,r),ev(e,u)&&f.state.next({...o}),f.values.next({name:e,values:{...l}}),!s.mount&&t()},k=async e=>{const t=e.target;let a=t.name,s=!0;const c=Tm(i,a),y=e=>{s=Number.isNaN(e)||e===Tm(l,a,e)};if(c){let C,w;const N=t.type?Av(c._f):_m(e),T=e.type===km.BLUR||e.type===km.FOCUS_OUT,S=!Iv(c._f)&&!r.resolver&&!Tm(o.errors,a)&&!c._f.deps||Mv(T,Tm(o.touchedFields,a),o.isSubmitted,p,g),k=ev(a,u,T);Zm(l,a,N),T?(c._f.onBlur&&c._f.onBlur(e),n&&n(0)):c._f.onChange&&c._f.onChange(e);const A=_(a,N,T,!1),R=!Km(A)||k;if(!T&&f.values.next({name:a,type:e.type,values:{...l}}),S)return d.isValid&&m(),R&&f.state.next({name:a,...k?{}:A});if(!T&&k&&f.state.next({...o}),v(!0),r.resolver){const{errors:e}=await b([a]);if(y(N),s){const t=Dv(o.errors,i,a),n=Dv(e,i,t.name||a);C=n.error,a=n.name,w=Km(e)}}else C=(await mv(c,l,h,r.shouldUseNativeValidation))[a],y(N),s&&(C?w=!1:d.isValid&&(w=await x(i,!0)));s&&(c._f.deps&&O(c._f.deps),E(a,w,C,A))}},A=(e,t)=>{if(Tm(o.errors,t)&&e.focus)return e.focus(),1},O=async(e,t={})=>{let n,a;const l=Vm(e);if(v(!0),r.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=Tm(t,n);e?Zm(o.errors,n,e):vv(o.errors,n)}else o.errors=t;return t})(Nm(e)?e:l);n=Km(t),a=e?!l.some((e=>Tm(t,e))):n}else e?(a=(await Promise.all(l.map((async e=>{const t=Tm(i,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||o.isValid)&&m()):a=n=await x(i);return f.state.next({...!Um(e)||d.isValid&&n!==o.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:o.errors,isValidating:!1}),t.shouldFocus&&!a&&tv(i,A,e?l:u.mount),a},R=e=>{const t={...a,...s.mount?l:{}};return Nm(e)?t:Um(e)?Tm(t,e):e.map((e=>Tm(t,e)))},I=(e,t)=>({invalid:!!Tm((t||o).errors,e),isDirty:!!Tm((t||o).dirtyFields,e),isTouched:!!Tm((t||o).touchedFields,e),error:Tm((t||o).errors,e)}),D=(e,t,n)=>{const r=(Tm(i,e,{_f:{}})._f||{}).ref;Zm(o.errors,e,{...t,ref:r}),f.state.next({name:e,errors:o.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},M=(e,t={})=>{for(const n of e?Vm(e):u.mount)u.mount.delete(n),u.array.delete(n),t.keepValue||(vv(i,n),vv(l,n)),!t.keepError&&vv(o.errors,n),!t.keepDirty&&vv(o.dirtyFields,n),!t.keepTouched&&vv(o.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&vv(a,n);f.values.next({values:{...l}}),f.state.next({...o,...t.keepDirty?{isDirty:C()}:{}}),!t.keepIsValid&&m()},L=({disabled:e,name:t,field:n,fields:r,value:o})=>{if(Sm(e)){const i=e?void 0:Nm(o)?Av(n?n._f:Tm(r,t)._f):o;Zm(l,t,i),_(t,i,!1,!1,!0)}},P=(e,t={})=>{let n=Tm(i,e);const o=Sm(t.disabled);return Zm(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),u.mount.add(e),n?L({field:n,disabled:t.disabled,name:e,value:t.value}):y(e,!0,t.value),{...o?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:Rv(t.min),max:Rv(t.max),minLength:Rv(t.minLength),maxLength:Rv(t.maxLength),pattern:Rv(t.pattern)}:{},name:e,onChange:k,onBlur:k,ref:o=>{if(o){P(e,t),n=Tm(i,e);const r=Nm(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,l=xv(r),s=n._f.refs||[];if(l?s.find((e=>e===r)):r===n._f.ref)return;Zm(i,e,{_f:{...n._f,...l?{refs:[...s.filter(Cv),r,...Array.isArray(Tm(a,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),y(e,!1,void 0,r)}else n=Tm(i,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!Em(u.array,e)||!s.action)&&u.unMount.add(e)}}},$=()=>r.shouldFocusError&&tv(i,A,u.mount),F=(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let a=Cm(l);if(f.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await b();o.errors=e,a=t}else await x(i);vv(o.errors,"root"),Km(o.errors)?(f.state.next({errors:{}}),await e(a,n)):(t&&await t({...o.errors},n),$(),setTimeout($)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Km(o.errors),submitCount:o.submitCount+1,errors:o.errors})},B=(n,r={})=>{const c=n?Cm(n):a,g=Cm(c),p=n&&!Km(n)?g:a;if(r.keepDefaultValues||(a=c),!r.keepValues){if(r.keepDirtyValues)for(const e of u.mount)Tm(o.dirtyFields,e)?Zm(p,e,Tm(l,e)):S(e,Tm(p,e));else{if(xm&&Nm(n))for(const e of u.mount){const t=Tm(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(iv(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}l=e.shouldUnregister?r.keepDefaultValues?Cm(a):{}:Cm(p),f.array.next({values:{...p}}),f.values.next({values:{...p}})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!s.mount&&t(),s.mount=!d.isValid||!!r.keepIsValid,s.watch=!!e.shouldUnregister,f.state.next({submitCount:r.keepSubmitCount?o.submitCount:0,isDirty:r.keepDirty?o.isDirty:!(!r.keepDefaultValues||Ev(n,a)),isSubmitted:!!r.keepIsSubmitted&&o.isSubmitted,dirtyFields:r.keepDirtyValues?o.dirtyFields:r.keepDefaultValues&&n?Sv(a,n):{},touchedFields:r.keepTouched?o.touchedFields:{},errors:r.keepErrors?o.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&o.isSubmitSuccessful,isSubmitting:!1})},K=(e,t)=>B(ov(e)?e(l):e,t);return{control:{register:P,unregister:M,getFieldState:I,handleSubmit:F,setError:D,_executeSchema:b,_getWatch:w,_getDirty:C,_updateValid:m,_removeUnmounted:()=>{for(const e of u.unMount){const t=Tm(i,e);t&&(t._f.refs?t._f.refs.every((e=>!Cv(e))):!Cv(t._f.ref))&&M(e)}u.unMount=new Set},_updateFieldArray:(e,t=[],n,r,u=!0,c=!0)=>{if(r&&n){if(s.action=!0,c&&Array.isArray(Tm(i,e))){const t=n(Tm(i,e),r.argA,r.argB);u&&Zm(i,e,t)}if(c&&Array.isArray(Tm(o.errors,e))){const t=n(Tm(o.errors,e),r.argA,r.argB);u&&Zm(o.errors,e,t),Lv(o.errors,e)}if(d.touchedFields&&c&&Array.isArray(Tm(o.touchedFields,e))){const t=n(Tm(o.touchedFields,e),r.argA,r.argB);u&&Zm(o.touchedFields,e,t)}d.dirtyFields&&(o.dirtyFields=Sv(a,l)),f.state.next({name:e,isDirty:C(e,t),dirtyFields:o.dirtyFields,errors:o.errors,isValid:o.isValid})}else Zm(l,e,t)},_updateDisabledField:L,_getFieldArray:t=>wm(Tm(s.mount?l:a,t,e.shouldUnregister?Tm(a,t,[]):[])),_reset:B,_resetDefaultValues:()=>ov(r.defaultValues)&&r.defaultValues().then((e=>{K(e,r.resetOptions),f.state.next({isLoading:!1})})),_updateFormState:e=>{o={...o,...e}},_disableForm:e=>{Sm(e)&&(f.state.next({disabled:e}),tv(i,((t,n)=>{let r=e;const o=Tm(i,n);o&&Sm(o._f.disabled)&&(r||(r=o._f.disabled)),t.disabled=r}),0,!1))},_subjects:f,_proxyFormState:d,_setErrors:e=>{o.errors=e,f.state.next({errors:o.errors,isValid:!1})},get _fields(){return i},get _formValues(){return l},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return u},set _names(e){u=e},get _formState(){return o},set _formState(e){o=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:O,register:P,handleSubmit:F,watch:(e,t)=>ov(e)?f.values.subscribe({next:n=>e(w(void 0,t),n)}):w(e,t,!0),setValue:S,getValues:R,reset:K,resetField:(e,t={})=>{Tm(i,e)&&(Nm(t.defaultValue)?S(e,Cm(Tm(a,e))):(S(e,t.defaultValue),Zm(a,e,Cm(t.defaultValue))),t.keepTouched||vv(o.touchedFields,e),t.keepDirty||(vv(o.dirtyFields,e),o.isDirty=t.defaultValue?C(e,Cm(Tm(a,e))):C()),t.keepError||(vv(o.errors,e),d.isValid&&m()),f.state.next({...o}))},clearErrors:e=>{e&&Vm(e).forEach((e=>vv(o.errors,e))),f.state.next({errors:e?o.errors:{}})},unregister:M,setError:D,setFocus:(e,t={})=>{const n=Tm(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:I}}function Fv(e={}){const t=v.useRef(),n=v.useRef(),[r,o]=v.useState({isDirty:!1,isValidating:!1,isLoading:ov(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ov(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...$v(e,(()=>o((e=>({...e}))))),formState:r});const i=t.current.control;return i._options=e,Hm({subject:i._subjects.state,next:e=>{zm(e,i._proxyFormState,i._updateFormState,!0)&&o({...i._formState})}}),v.useEffect((()=>i._disableForm(e.disabled)),[i,e.disabled]),v.useEffect((()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==r.isDirty&&i._subjects.state.next({isDirty:e})}}),[i,r.isDirty]),v.useEffect((()=>{e.values&&!Ev(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,o((e=>({...e})))):i._resetDefaultValues()}),[e.values,i]),v.useEffect((()=>{e.errors&&i._setErrors(e.errors)}),[e.errors,i]),v.useEffect((()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()})),t.current.formState=Bm(r,i),t.current}const Bv=()=>{const[t,n]=Vv.useEmitterValues("imageAutocompleteSuggestions","imageDialogState"),r=Vv.usePublisher("saveImage"),[o]=uu.useEmitterValues("editorRootElementRef"),i=Vv.usePublisher("closeImageDialog"),[a,l]=e.useState(!1),{register:s,handleSubmit:u,control:c,setValue:d,reset:f}=Fv({values:"editing"===n.type?n.initialValues:{}});return v.createElement(um,{open:"inactive"!==n.type,onOpenChange:e=>{e||(i(!0),l(!1),f({src:"",title:"",altText:""}))}},v.createElement(cm,{container:null==o?void 0:o.current},v.createElement(dm,{className:_u.dialogOverlay}),v.createElement(fm,{className:_u.dialogContent,onOpenAutoFocus:e=>{e.preventDefault()}},a&&v.createElement("div",{style:{position:"absolute",zIndex:99,width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.6)",color:"#fff"}},"Vui lòng đợi..."),v.createElement("form",{onSubmit:e=>{u(r)(e),f({src:"",title:"",altText:""}),e.preventDefault(),e.stopPropagation()},className:_u.multiFieldForm},v.createElement("div",{className:_u.formField},v.createElement("label",{htmlFor:"file"},"Tải hình ảnh lên từ thiết bị của bạn:"),v.createElement("input",{type:"file",...s("file")}),v.createElement("label",{htmlFor:"file",style:{color:"gray",fontSize:10}},".JPG, .PNG, .GIF, tối đa 5MB")),v.createElement("div",{className:_u.formField},v.createElement("label",{htmlFor:"alt"},"Văn bản thay thế (Alt):"),v.createElement("input",{type:"text",...s("altText"),className:_u.textInput})),v.createElement("div",{className:_u.formField},v.createElement("label",{htmlFor:"title"},"Tiêu đề:"),v.createElement("input",{type:"text",...s("title"),className:_u.textInput})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--spacing-2)"}},v.createElement("button",{onClick:()=>l(!0),type:"submit",title:"Save","aria-label":"Save",className:ic(_u.primaryButton)},"Lưu lại"),v.createElement(gm,{asChild:!0},v.createElement("button",{type:"reset",title:"Cancel","aria-label":"Cancel",className:ic(_u.secondaryButton)},"Huỷ")))))))},Kv=Xs(((e,[{rootEditor:t}])=>{const n=e.node(),r=e.node([]),o=e.node(!1),i=e.node(null),a=e.node(null),l=e.node({type:"inactive"}),s=e.node(),u=e.node(),c=e.node(),d=e.node();return e.link(e.pipe(c,e.o.mapTo({type:"inactive"})),l),e.link(e.pipe(s,e.o.mapTo({type:"new"})),l),e.link(e.pipe(u,e.o.map((e=>({type:"editing",...e})))),l),e.sub(e.pipe(d,e.o.withLatestFrom(t,i,l)),(([t,n,r,o])=>{const i="editing"===o.type?r=>{null==n||n.update((()=>{const{nodeKey:e}=o,n=ma.$getNodeByKey(e);n.setTitle(t.title),n.setAltText(t.altText),n.setSrc(r)})),e.pub(l,{type:"inactive"})}:r=>{null==n||n.update((()=>{const e=$h({altText:t.altText??"",src:r,title:t.title??""});ma.$insertNodes([e]),ma.$isRootOrShadowRoot(e.getParentOrThrow())&&$a.$wrapNodeInElement(e,ma.$createParagraphNode).selectEnd()})),e.pub(l,{type:"inactive"})};t.file.length>0?null==r||r(t.file.item(0)).then(i).catch((e=>{throw e})):t.src&&i(t.src)})),e.sub(t,(t=>{null==t||t.registerCommand(Hv,(e=>{const t=$h(e);return ma.$insertNodes([t]),ma.$isRootOrShadowRoot(t.getParentOrThrow())&&$a.$wrapNodeInElement(t,ma.$createParagraphNode).selectEnd(),!0}),ma.COMMAND_PRIORITY_EDITOR);const n=e.getValue(i);null==t||t.registerCommand(ma.DRAGSTART_COMMAND,(e=>function(e){const t=jv();if(!t)return!1;const n=e.dataTransfer;if(!n)return!1;n.setData("text/plain","_");const r=document.createElement("img");return r.src=Uv,n.setDragImage(r,0,0),n.setData("application/x-lexical-drag",JSON.stringify({data:{altText:t.__altText,title:t.__title,key:t.getKey(),src:t.__src},type:"image"})),!0}(e)),ma.COMMAND_PRIORITY_HIGH),null==t||t.registerCommand(ma.DRAGOVER_COMMAND,(e=>function(e){var t;let n=Array.from((null==(t=e.dataTransfer)?void 0:t.items)||[]);if(n=n.filter((e=>/image/.test(e.type))),n.length>0)return e.preventDefault(),!0;if(!jv())return!1;Yv(e)||e.preventDefault();return!0}(e)),ma.COMMAND_PRIORITY_LOW),null==t||t.registerCommand(ma.DROP_COMMAND,(n=>function(e,t,n){var r;let o=Array.from((null==(r=e.dataTransfer)?void 0:r.items)||[]);if(o=o.filter((e=>/image/.test(e.type))),o.length>0&&null!==n)return e.preventDefault(),Promise.all(o.map((e=>n(e.getAsFile())))).then((e=>{e.forEach((e=>{t.dispatchCommand(Hv,{src:e,altText:""})}))})).catch((e=>{throw e})),!0;const i=jv();if(!i)return!1;const a=function(e){var t;const n=null==(t=e.dataTransfer)?void 0:t.getData("application/x-lexical-drag");if(!n)return null;const{type:r,data:o}=JSON.parse(n);if("image"!==r)return null;return o}(e);if(!a)return!1;if(e.preventDefault(),Yv(e)){const n=function(e){let t;const n=e.target,r=null==n?null:9===n.nodeType?n.defaultView:n.ownerDocument.defaultView,o=Wv(r);if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!e.rangeParent||null===o)throw Error("Cannot get the selection when dragging");o.collapse(e.rangeParent,e.rangeOffset||0),t=o.getRangeAt(0)}return t}(e);i.remove();const r=ma.$createRangeSelection();null!=n&&r.applyDOMRange(n),ma.$setSelection(r),t.dispatchCommand(Hv,a)}return!0}(n,t,e.getValue(i))),ma.COMMAND_PRIORITY_HIGH),null!==n&&(null==t||t.registerCommand(ma.PASTE_COMMAND,(n=>{var r;let o=Array.from((null==(r=n.clipboardData)?void 0:r.items)||[]);if(o=o.filter((e=>/image/.test(e.type))),!o.length||0===o.length)return!1;const a=e.getValue(i);return Promise.all(o.map((e=>a(e.getAsFile())))).then((e=>{e.forEach((e=>{t.dispatchCommand(Hv,{src:e,altText:""})}))})).catch((e=>{throw e})),!0}),ma.COMMAND_PRIORITY_CRITICAL))})),{imageDialogState:l,saveImage:d,openNewImageDialog:s,openEditImageDialog:u,closeImageDialog:c,imageUploadHandler:i,imageAutocompleteSuggestions:r,disableImageResize:o,insertImage:n,imagePreviewHandler:a}}),[lu]),[zv,Vv]=ru({id:"image",systemSpec:Kv,applyParamsToSystem:(e,t)=>{e.pubKey("imageUploadHandler",(null==t?void 0:t.imageUploadHandler)||null),e.pubKey("imageAutocompleteSuggestions",(null==t?void 0:t.imageAutocompleteSuggestions)||[]),e.pubKey("disableImageResize",Boolean(null==t?void 0:t.disableImageResize)),e.pubKey("imagePreviewHandler",(null==t?void 0:t.imagePreviewHandler)||null)},init:e=>{e.pubKey("addImportVisitor",Kh),e.pubKey("addImportVisitor",zh),e.pubKey("addImportVisitor",Wh),e.pubKey("addLexicalNode",Ph),e.pubKey("addExportVisitor",Bh),e.pubKey("addComposerChild",Bv)}}),Wv=e=>Ks?(e||window).getSelection():null,Hv=ma.createCommand("INSERT_IMAGE_COMMAND"),Uv="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function jv(){const e=ma.$getSelection();if(!ma.$isNodeSelection(e))return null;const t=e.getNodes()[0];return Fh(t)?t:null}function Yv(e){const t=e.target;return!!(t&&t instanceof HTMLElement&&t.parentElement)}var Gv=Object.defineProperty,Zv=(e,t,n)=>(((e,t,n)=>{t in e?Gv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Jv extends ma.DecoratorNode{constructor(e,t,n,r){super(r),Zv(this,"__code"),Zv(this,"__meta"),Zv(this,"__language"),Zv(this,"__focusEmitter",function(){let e=Bs;return{publish:()=>{e()},subscribe:t=>{e=t}}}()),Zv(this,"setCode",(e=>{e!==this.__code&&(this.getWritable().__code=e)})),Zv(this,"setMeta",(e=>{e!==this.__meta&&(this.getWritable().__meta=e)})),Zv(this,"setLanguage",(e=>{e!==this.__language&&(this.getWritable().__language=e)})),Zv(this,"select",(()=>{this.__focusEmitter.publish()})),this.__code=e,this.__meta=n,this.__language=t}static getType(){return"codeblock"}static clone(e){return new Jv(e.__code,e.__language,e.__meta,e.__key)}static importJSON(e){const{code:t,meta:n,language:r}=e;return ey({code:t,language:r,meta:n})}exportJSON(){return{code:this.getCode(),language:this.getLanguage(),meta:this.getMeta(),type:"codeblock",version:1}}createDOM(e){return document.createElement("div")}updateDOM(){return!1}getCode(){return this.__code}getMeta(){return this.__meta}getLanguage(){return this.__language}decorate(e){return v.createElement(Qv,{parentEditor:e,code:this.getCode(),meta:this.getMeta(),language:this.getLanguage(),codeBlockNode:this,nodeKey:this.getKey(),focusEmitter:this.__focusEmitter})}}const qv=v.createContext(null),Xv=({parentEditor:e,lexicalNode:t,children:n})=>v.createElement(qv.Provider,{value:{lexicalNode:t,setCode:n=>{e.update((()=>{t.setCode(n),setTimeout((()=>{e.dispatchCommand(au,void 0)}),0)}))},setLanguage:n=>{e.update((()=>{t.setLanguage(n)}))},setMeta:n=>{e.update((()=>{t.setMeta(n)}))}}},n);function Qv(e){const[t]=iy.useEmitterValues("codeBlockEditorDescriptors"),n=t.sort(((e,t)=>t.priority-e.priority)).find((t=>t.match(e.language||"",e.meta||"")));if(!n)throw new Error(`No CodeBlockEditor registered for language=${e.language} meta=${e.meta}`);const r=n.Editor,{codeBlockNode:o,parentEditor:i,...a}=e;return v.createElement(Xv,{parentEditor:e.parentEditor,lexicalNode:e.codeBlockNode},v.createElement(r,{...a}))}function ey(e){const{code:t="",language:n="",meta:r=""}=e;return new Jv(t,n,r)}const ty={testLexicalNode:function(e){return e instanceof Jv},visitLexicalNode:({lexicalNode:e,actions:t})=>{t.addAndStepInto("code",{value:e.getCode(),lang:e.getLanguage(),meta:e.getMeta()})}},ny={testNode:"code",visitNode({mdastNode:e,actions:t}){t.addAndStepInto(ey({code:e.value,language:e.lang,meta:e.meta}))}},ry=Xs(((e,[{insertDecoratorNode:t}])=>{const n=e.node([]),r=e.node(),o=e.node(),i=e.node("");return e.link(e.pipe(o,e.o.withLatestFrom(i),e.o.map((([e,t])=>()=>ey({language:t,...e})))),t),e.link(e.pipe(r,e.o.withLatestFrom(n),e.o.map((([e,t])=>t.includes(e)?t:[...t,e]))),n),{codeBlockEditorDescriptors:n,defaultCodeBlockLanguage:i,appendCodeBlockEditorDescriptor:r,insertCodeBlock:o}}),[lu]),[oy,iy]=ru({id:"codeblock",systemSpec:ry,applyParamsToSystem(e,t){e.pubKey("defaultCodeBlockLanguage",(null==t?void 0:t.defaultCodeBlockLanguage)||"")},init:(e,t)=>{e.pubKey("codeBlockEditorDescriptors",(null==t?void 0:t.codeBlockEditorDescriptors)||[]),e.pubKey("addImportVisitor",ny),e.pubKey("addLexicalNode",Jv),e.pubKey("addExportVisitor",ty)}});function ay(e){const t=ma.$getSelection(),n=window.getSelection(),r=document.activeElement,o=e.getRootElement();if(null!==t&&null!==n&&null!==o&&o.contains(n.anchorNode)&&e.isEditable()){const e=n.getRangeAt(0);let t;if(n.anchorNode===o){let e=o;for(;null!=e.firstElementChild;)e=e.firstElementChild;t=e.getBoundingClientRect()}else t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return r&&r.className,null}const ly=e.forwardRef(((t,n)=>e.createElement(Ad.span,_({},t,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})))),sy=ly,[uy,cy]=xd("Tooltip",[uf]),dy=uf(),fy=700,gy="tooltip.open",[py,hy]=uy("TooltipProvider"),my="Tooltip",[vy,yy]=uy(my),_y="TooltipTrigger",Ey=e.forwardRef(((t,n)=>{const{__scopeTooltip:r,...o}=t,i=yy(_y,r),a=hy(_y,r),l=dy(r),s=bd(n,e.useRef(null),i.onTriggerChange),u=e.useRef(!1),c=e.useRef(!1),d=e.useCallback((()=>u.current=!1),[]);return e.useEffect((()=>()=>document.removeEventListener("pointerup",d)),[d]),e.createElement(wf,_({asChild:!0},l),e.createElement(Ad.button,_({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},o,{ref:s,onPointerMove:_d(t.onPointerMove,(e=>{"touch"!==e.pointerType&&(c.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),c.current=!0))})),onPointerLeave:_d(t.onPointerLeave,(()=>{i.onTriggerLeave(),c.current=!1})),onPointerDown:_d(t.onPointerDown,(()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})})),onFocus:_d(t.onFocus,(()=>{u.current||i.onOpen()})),onBlur:_d(t.onBlur,i.onClose),onClick:_d(t.onClick,i.onClose)})))})),by="TooltipPortal",[xy,Cy]=uy(by,{forceMount:void 0}),wy="TooltipContent",Ny=e.forwardRef(((t,n)=>{const r=Cy(wy,t.__scopeTooltip),{forceMount:o=r.forceMount,side:i="top",...a}=t,l=yy(wy,t.__scopeTooltip);return e.createElement(kf,{present:o||l.open},l.disableHoverableContent?e.createElement(Ay,_({side:i},a,{ref:n})):e.createElement(Ty,_({side:i},a,{ref:n})))})),Ty=e.forwardRef(((t,n)=>{const r=yy(wy,t.__scopeTooltip),o=hy(wy,t.__scopeTooltip),i=e.useRef(null),a=bd(n,i),[l,s]=e.useState(null),{trigger:u,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=o,g=e.useCallback((()=>{s(null),f(!1)}),[f]),p=e.useCallback(((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...o,...function(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}(t.getBoundingClientRect())]);s(i),f(!0)}),[f]);return e.useEffect((()=>()=>g()),[g]),e.useEffect((()=>{if(u&&d){const e=e=>p(e,d),t=e=>p(e,u);return u.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}}),[u,d,p,g]),e.useEffect((()=>{if(l){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null==u?void 0:u.contains(t))||(null==d?void 0:d.contains(t)),o=!function(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const e=t[i].x,l=t[i].y,s=t[a].x,u=t[a].y;l>r!=u>r&&n<(s-e)*(r-l)/(u-l)+e&&(o=!o)}return o}(n,l);r?g():o&&(g(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[u,d,l,c,g]),e.createElement(Ay,_({},t,{ref:a}))})),[Sy,ky]=uy(my,{isInside:!1}),Ay=e.forwardRef(((t,n)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...s}=t,u=yy(wy,r),c=dy(r),{onClose:d}=u;return e.useEffect((()=>(document.addEventListener(gy,d),()=>document.removeEventListener(gy,d))),[d]),e.useEffect((()=>{if(u.trigger){const e=e=>{const t=e.target;null!=t&&t.contains(u.trigger)&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[u.trigger,d]),e.createElement(Fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:d},e.createElement(Nf,_({"data-state":u.stateAttribute},c,s,{ref:n,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),e.createElement(Td,null,o),e.createElement(Sy,{scope:r,isInside:!0},e.createElement(sy,{id:u.contentId,role:"tooltip"},i||o))))}));const Oy=t=>{const{__scopeTooltip:n,delayDuration:r=fy,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=t,[l,s]=e.useState(!0),u=e.useRef(!1),c=e.useRef(0);return e.useEffect((()=>{const e=c.current;return()=>window.clearTimeout(e)}),[]),e.createElement(py,{scope:n,isOpenDelayed:l,delayDuration:r,onOpen:e.useCallback((()=>{window.clearTimeout(c.current),s(!1)}),[]),onClose:e.useCallback((()=>{window.clearTimeout(c.current),c.current=window.setTimeout((()=>s(!0)),o)}),[o]),isPointerInTransitRef:u,onPointerInTransitChange:e.useCallback((e=>{u.current=e}),[]),disableHoverableContent:i},a)},Ry=t=>{const{__scopeTooltip:n,children:r,open:o,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:s}=t,u=hy(my,t.__scopeTooltip),c=dy(n),[d,f]=e.useState(null),g=rf(),p=e.useRef(0),h=null!=l?l:u.disableHoverableContent,m=null!=s?s:u.delayDuration,v=e.useRef(!1),[y=!1,_]=Of({prop:o,defaultProp:i,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(gy))):u.onClose(),null==a||a(e)}}),E=e.useMemo((()=>y?v.current?"delayed-open":"instant-open":"closed"),[y]),b=e.useCallback((()=>{window.clearTimeout(p.current),v.current=!1,_(!0)}),[_]),x=e.useCallback((()=>{window.clearTimeout(p.current),_(!1)}),[_]),C=e.useCallback((()=>{window.clearTimeout(p.current),p.current=window.setTimeout((()=>{v.current=!0,_(!0)}),m)}),[m,_]);return e.useEffect((()=>()=>window.clearTimeout(p.current)),[]),e.createElement(Cf,c,e.createElement(vy,{scope:n,contentId:g,open:y,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:e.useCallback((()=>{u.isOpenDelayed?C():b()}),[u.isOpenDelayed,C,b]),onTriggerLeave:e.useCallback((()=>{h?x():window.clearTimeout(p.current)}),[x,h]),onOpen:b,onClose:x,disableHoverableContent:h},r))},Iy=Ey,Dy=t=>{const{__scopeTooltip:n,forceMount:r,children:o,container:i}=t,a=yy(by,n);return e.createElement(xy,{scope:n,forceMount:r},e.createElement(kf,{present:r||a.open},e.createElement(Sf,{asChild:!0,container:i},o)))},My=Ny,Ly=e.forwardRef(((t,n)=>{const{__scopeTooltip:r,...o}=t,i=dy(r);return ky("TooltipArrow",r).isInside?null:e.createElement(Tf,_({},i,o,{ref:n}))})),Py=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"m9.55 18-5.7-5.7 1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4 9.55 18Z"}))),$y=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M7 18V2h13v16H7Zm2-2h9V4H9v12Zm-6 6V6h2v14h11v2H3Z"}))),Fy=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M5 19h1.4l8.625-8.625-1.4-1.4L5 17.6V19ZM19.3 8.925l-4.25-4.2L17.875 1.9 22.1 6.125l-2.8 2.8ZM3 21v-4.25l10.6-10.6 4.25 4.25L7.25 21H3Z"}))),By=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"m19.25 16.45-1.5-1.55a3.05 3.05 0 0 0 1.625-1.063A2.867 2.867 0 0 0 20 12c0-.833-.292-1.542-.875-2.125A2.893 2.893 0 0 0 17 9h-4V7h4c1.383 0 2.563.487 3.538 1.462C21.513 9.437 22 10.617 22 12c0 .95-.246 1.825-.737 2.625a4.79 4.79 0 0 1-2.013 1.825ZM15.85 13l-2-2H16v2h-.15Zm3.95 9.6L1.4 4.2l1.4-1.4 18.4 18.4-1.4 1.4ZM11 17H7c-1.383 0-2.562-.488-3.537-1.463C2.488 14.562 2 13.383 2 12c0-1.15.35-2.175 1.05-3.075.7-.9 1.6-1.492 2.7-1.775L7.6 9H7c-.833 0-1.542.292-2.125.875A2.893 2.893 0 0 0 4 12c0 .833.292 1.542.875 2.125A2.893 2.893 0 0 0 7 15h4v2Zm-3-4v-2h1.625l1.975 2H8Z"}))),Ky=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M3 21V3h9v2H5v14h14v-7h2v9H3Zm6.7-5.3-1.4-1.4L17.6 5H14V3h7v7h-2V6.4l-9.3 9.3Z"})));var zy={},Vy=60103,Wy=60106,Hy=60107,Uy=60108,jy=60114,Yy=60109,Gy=60110,Zy=60112,Jy=60113,qy=60120,Xy=60115,Qy=60116,e_=60121,t_=60122,n_=60117,r_=60129,o_=60131;if("function"==typeof Symbol&&Symbol.for){var i_=Symbol.for;Vy=i_("react.element"),Wy=i_("react.portal"),Hy=i_("react.fragment"),Uy=i_("react.strict_mode"),jy=i_("react.profiler"),Yy=i_("react.provider"),Gy=i_("react.context"),Zy=i_("react.forward_ref"),Jy=i_("react.suspense"),qy=i_("react.suspense_list"),Xy=i_("react.memo"),Qy=i_("react.lazy"),e_=i_("react.block"),t_=i_("react.server.block"),n_=i_("react.fundamental"),r_=i_("react.debug_trace_mode"),o_=i_("react.legacy_hidden")}function a_(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Vy:switch(e=e.type){case Hy:case jy:case Uy:case Jy:case qy:return e;default:switch(e=e&&e.$$typeof){case Gy:case Zy:case Qy:case Xy:case Yy:return e;default:return t}}case Wy:return t}}}var l_=Yy,s_=Vy,u_=Zy,c_=Hy,d_=Qy,f_=Xy,g_=Wy,p_=jy,h_=Uy,m_=Jy;zy.ContextConsumer=Gy,zy.ContextProvider=l_,zy.Element=s_,zy.ForwardRef=u_,zy.Fragment=c_,zy.Lazy=d_,zy.Memo=f_,zy.Portal=g_,zy.Profiler=p_,zy.StrictMode=h_,zy.Suspense=m_,zy.isAsyncMode=function(){return!1},zy.isConcurrentMode=function(){return!1},zy.isContextConsumer=function(e){return a_(e)===Gy},zy.isContextProvider=function(e){return a_(e)===Yy},zy.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Vy},zy.isForwardRef=function(e){return a_(e)===Zy},zy.isFragment=function(e){return a_(e)===Hy},zy.isLazy=function(e){return a_(e)===Qy},zy.isMemo=function(e){return a_(e)===Xy},zy.isPortal=function(e){return a_(e)===Wy},zy.isProfiler=function(e){return a_(e)===jy},zy.isStrictMode=function(e){return a_(e)===Uy},zy.isSuspense=function(e){return a_(e)===Jy},zy.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Hy||e===jy||e===r_||e===Uy||e===Jy||e===qy||e===o_||"object"==typeof e&&null!==e&&(e.$$typeof===Qy||e.$$typeof===Xy||e.$$typeof===Yy||e.$$typeof===Gy||e.$$typeof===Zy||e.$$typeof===n_||e.$$typeof===e_||e[0]===t_)},zy.typeOf=a_;let v_=e=>"object"==typeof e&&null!=e&&1===e.nodeType,y_=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,__=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return y_(n.overflowY,t)||y_(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},E_=(e,t,n,r,o,i,a,l)=>i<e&&a>t||i>e&&a<t?0:i<=e&&l<=n||a>=t&&l>=n?i-e-r:a>t&&l<n||i<e&&l>n?a-t+o:0,b_=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t};var x_=0;function C_(){}function w_(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function N_(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return o.cancel=r,o}function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function S_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function k_(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=A_(t,r)?t[r]:e[r],n}),{})}function A_(e,t){return void 0!==e[t]}function O_(e,t,n,r,o){if(void 0===o&&(o=!0),0===n)return-1;var i=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:i+1);var a=t+e;a<0?a=o?i:0:a>i&&(a=o?0:i);var l=R_(e,a,n,r,o);return-1===l?t>=n?-1:t:l}function R_(e,t,n,r,o){var i=r(t);if(!i||!i.hasAttribute("disabled"))return t;if(e>0){for(var a=t+1;a<n;a++)if(!r(a).hasAttribute("disabled"))return a}else for(var l=t-1;l>=0;l--)if(!r(l).hasAttribute("disabled"))return l;return o?e>0?R_(1,0,n,r,!1):R_(-1,n-1,n,r,!1):-1}function I_(e,t,n,r){return void 0===r&&(r=!0),t.some((function(t){return t&&(w_(t,e,n)||r&&w_(t,n.document.activeElement,n))}))}var D_=N_((function(e){M_(e).textContent=""}),500);function M_(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var L_=["isInitialMount","highlightedIndex","items","environment"],P_={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function $_(e,t,n){var r=e.props,o=e.type,i={};Object.keys(t).forEach((function(r){!function(e,t,n,r){var o=t.props,i=t.type,a="on"+z_(e)+"Change";o[a]&&void 0!==r[e]&&r[e]!==n[e]&&o[a](_({type:i},r))}(r,e,t,n),n[r]!==t[r]&&(i[r]=n[r])})),r.onStateChange&&Object.keys(i).length&&r.onStateChange(_({type:o},i))}var F_=N_((function(e,t){var n,r,o;n=e(),o=M_(r=t),n&&(o.textContent=n,D_(r))}),200),B_="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function K_(t){var n=t.id,r=void 0===n?"downshift-"+String(x_++):n,o=t.labelId,i=t.menuId,a=t.getItemId,l=t.toggleButtonId,s=t.inputId;return e.useRef({labelId:o||r+"-label",menuId:i||r+"-menu",getItemId:a||function(e){return r+"-item-"+e},toggleButtonId:l||r+"-toggle-button",inputId:s||r+"-input"}).current}function z_(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function V_(t){var n=e.useRef(t);return n.current=t,n}var W_={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:function(e,t){e&&((e,t)=>{var n,r,o,i,a,l;if("undefined"==typeof document)return[];let{scrollMode:s,block:u,inline:c,boundary:d,skipOverflowHiddenElements:f}=t,g="function"==typeof d?d:e=>e!==d;if(!v_(e))throw new TypeError("Invalid target");let p=document.scrollingElement||document.documentElement,h=[],m=e;for(;v_(m)&&g(m);){if(m=b_(m),m===p){h.push(m);break}null!=m&&m===document.body&&__(m)&&!__(document.documentElement)||null!=m&&__(m,f)&&h.push(m)}let v=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,y=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,_=null!=(a=window.scrollX)?a:pageXOffset,E=null!=(l=window.scrollY)?l:pageYOffset,{height:b,width:x,top:C,right:w,bottom:N,left:T}=e.getBoundingClientRect(),S="start"===u||"nearest"===u?C:"end"===u?N:C+b/2,k="center"===c?T+x/2:"end"===c?w:T,A=[];for(let O=0;O<h.length;O++){let e=h[O],{height:t,width:n,top:r,right:o,bottom:i,left:a}=e.getBoundingClientRect();if("if-needed"===s&&C>=0&&T>=0&&N<=y&&w<=v&&C>=r&&N<=i&&T>=a&&w<=o)return A;let l=getComputedStyle(e),d=parseInt(l.borderLeftWidth,10),f=parseInt(l.borderTopWidth,10),g=parseInt(l.borderRightWidth,10),m=parseInt(l.borderBottomWidth,10),R=0,I=0,D="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-g:0,M="offsetHeight"in e?e.offsetHeight-e.clientHeight-f-m:0,L="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,P="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(p===e)R="start"===u?S:"end"===u?S-y:"nearest"===u?E_(E,E+y,y,f,m,E+S,E+S+b,b):S-y/2,I="start"===c?k:"center"===c?k-v/2:"end"===c?k-v:E_(_,_+v,v,d,g,_+k,_+k+x,x),R=Math.max(0,R+E),I=Math.max(0,I+_);else{R="start"===u?S-r-f:"end"===u?S-i+m+M:"nearest"===u?E_(r,i,t,f,m+M,S,S+b,b):S-(r+t/2)+M/2,I="start"===c?k-a-d:"center"===c?k-(a+n/2)+D/2:"end"===c?k-o+g+D:E_(a,o,n,d,g+D,k,k+x,x);let{scrollLeft:l,scrollTop:s}=e;R=Math.max(0,Math.min(s+R/P,e.scrollHeight-t/P+M)),I=Math.max(0,Math.min(l+I/L,e.scrollWidth-n/L+D)),S+=s-R,k+=l-I}A.push({el:e,top:R,left:I})}return A})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))},environment:"undefined"==typeof window?{}:window};function H_(e,t,n){void 0===n&&(n=P_);var r=e["default"+z_(t)];return void 0!==r?r:n[t]}function U_(e,t,n){void 0===n&&(n=P_);var r=e[t];if(void 0!==r)return r;var o=e["initial"+z_(t)];return void 0!==o?o:H_(e,t,n)}function j_(e,t,n){var r=e.items,o=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,a=t.selectedItem,l=t.highlightedIndex;return 0===r.length?-1:void 0!==o&&l===o?o:void 0!==i?i:a?r.indexOf(a):0===n?-1:n<0?r.length-1:0}function Y_(t,n,r){var o=r.isInitialMount,i=r.highlightedIndex,a=r.items,l=r.environment,s=C(r,L_);e.useEffect((function(){o||F_((function(){return t(_({highlightedIndex:i,highlightedItem:a[i],resultCount:a.length},s))}),l.document)}),n)}var G_=C_;function Z_(e,t,n){var r;void 0===n&&(n=!0);var o=(null==(r=e.items)?void 0:r.length)&&t>=0;return _({isOpen:!1,highlightedIndex:-1},o&&_({selectedItem:e.items[t],isOpen:H_(e,"isOpen"),highlightedIndex:H_(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}x.array.isRequired,x.func,x.func,x.func,x.number,x.number,x.number,x.bool,x.bool,x.bool,x.any,x.any,x.any,x.string,x.string,x.string,x.func,x.string,x.func,x.func,x.func,x.func,x.func,x.shape({addEventListener:x.func,removeEventListener:x.func,document:x.shape({getElementById:x.func,activeElement:x.any,body:x.any})}),Ff(Ff({},W_),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}});var J_=0,q_=1,X_=2,Q_=3,eE=4,tE=5,nE=6,rE=7,oE=8,iE=9,aE=10,lE=13,sE=19,uE=22,cE=Object.freeze({__proto__:null,InputKeyDownArrowDown:J_,InputKeyDownArrowUp:q_,InputKeyDownEscape:X_,InputKeyDownHome:Q_,InputKeyDownEnd:eE,InputKeyDownPageUp:tE,InputKeyDownPageDown:nE,InputKeyDownEnter:rE,InputChange:oE,InputBlur:iE,InputFocus:aE,MenuMouseLeave:11,ItemMouseMove:12,ItemClick:lE,ToggleButtonClick:14,FunctionToggleMenu:15,FunctionOpenMenu:16,FunctionCloseMenu:17,FunctionSetHighlightedIndex:18,FunctionSelectItem:sE,FunctionSetInputValue:20,FunctionReset:21,ControlledPropUpdatedSelectedItem:uE});function dE(e){var t=function(e){var t=U_(e,"selectedItem"),n=U_(e,"isOpen"),r=U_(e,"highlightedIndex"),o=U_(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.indexOf(t):r,isOpen:n,selectedItem:t,inputValue:o}}(e),n=t.selectedItem,r=t.inputValue;return""===r&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(r=e.itemToString(n)),_({},t,{inputValue:r})}function fE(t,n,r){var o=e.useRef(),i=function(t,n,r){var o=e.useRef(),i=e.useRef(),a=e.useCallback((function(e,n){i.current=n,e=k_(e,n.props);var r=t(e,n);return n.props.stateReducer(e,_({},n,{changes:r}))}),[t]),l=e.useReducer(a,n),s=l[0],u=l[1],c=V_(r),d=e.useCallback((function(e){return u(_({props:c.current},e))}),[c]),f=i.current;return e.useEffect((function(){f&&o.current&&o.current!==s&&$_(f,k_(o.current,f.props),s),o.current=s}),[s,r,f]),[s,d]}(t,n,r),a=i[0],l=i[1];return e.useEffect((function(){A_(r,"selectedItem")&&(r.selectedItemChanged(o.current,r.selectedItem)&&l({type:uE,inputValue:r.itemToString(r.selectedItem)}),o.current=a.selectedItem===o.current?r.selectedItem:a.selectedItem)}),[a.selectedItem,r.selectedItem]),[k_(a,r),l]}x.array.isRequired,x.func,x.func,x.func,x.func,x.number,x.number,x.number,x.bool,x.bool,x.bool,x.any,x.any,x.any,x.string,x.string,x.string,x.string,x.string,x.string,x.func,x.string,x.string,x.func,x.func,x.func,x.func,x.func,x.func,x.shape({addEventListener:x.func,removeEventListener:x.func,document:x.shape({getElementById:x.func,activeElement:x.any,body:x.any})});var gE=_({},W_,{selectedItemChanged:function(e,t){return e!==t},getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}});function pE(e,t){var n,r,o=t.type,i=t.props,a=t.altKey;switch(o){case lE:r={isOpen:H_(i,"isOpen"),highlightedIndex:H_(i,"highlightedIndex"),selectedItem:i.items[t.index],inputValue:i.itemToString(i.items[t.index])};break;case J_:r=e.isOpen?{highlightedIndex:O_(1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:a&&null==e.selectedItem?-1:j_(i,e,1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case q_:r=e.isOpen?a?Z_(i,e.highlightedIndex):{highlightedIndex:O_(-1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:j_(i,e,-1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case rE:r=Z_(i,e.highlightedIndex);break;case X_:r=_({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case tE:r={highlightedIndex:O_(-10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case nE:r={highlightedIndex:O_(10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case Q_:r={highlightedIndex:R_(1,0,i.items.length,t.getItemNodeFromIndex,!1)};break;case eE:r={highlightedIndex:R_(-1,i.items.length-1,i.items.length,t.getItemNodeFromIndex,!1)};break;case iE:r=_({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=i.items)?void 0:n.length)&&t.selectItem&&{selectedItem:i.items[e.highlightedIndex],inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case oE:r={isOpen:!0,highlightedIndex:H_(i,"highlightedIndex"),inputValue:t.inputValue};break;case aE:r={isOpen:!0,highlightedIndex:j_(i,e,0)};break;case sE:r={selectedItem:t.selectedItem,inputValue:i.itemToString(t.selectedItem)};break;case uE:r={inputValue:t.inputValue};break;default:return function(e,t,n){var r,o=t.type,i=t.props;switch(o){case n.ItemMouseMove:r={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:r={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:j_(i,e,0)};break;case n.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:j_(i,e,0)};break;case n.FunctionCloseMenu:r={isOpen:!1};break;case n.FunctionSetHighlightedIndex:r={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:r={inputValue:t.inputValue};break;case n.FunctionReset:r={highlightedIndex:H_(i,"highlightedIndex"),isOpen:H_(i,"isOpen"),selectedItem:H_(i,"selectedItem"),inputValue:H_(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return _({},e,r)}(e,t,cE)}return _({},e,r)}var hE=["onMouseLeave","refKey","ref"],mE=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],vE=["onClick","onPress","refKey","ref"],yE=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];function _E(t){void 0===t&&(t={});var n=_({},gE,t),r=n.initialIsOpen,o=n.defaultIsOpen,i=n.items,a=n.scrollIntoView,l=n.environment,s=n.getA11yStatusMessage,u=n.getA11ySelectionMessage,c=n.itemToString,d=fE(pE,dE(n),n),f=d[0],g=d[1],p=f.isOpen,h=f.highlightedIndex,m=f.selectedItem,v=f.inputValue,y=e.useRef(null),E=e.useRef({}),b=e.useRef(null),x=e.useRef(null),w=e.useRef(!0),N=K_(n),T=e.useRef(),S=V_({state:f,props:n}),k=e.useCallback((function(e){return E.current[N.getItemId(e)]}),[N]);Y_(s,[p,h,v,i],_({isInitialMount:w.current,previousResultCount:T.current,items:i,environment:l,itemToString:c},f)),Y_(u,[m],_({isInitialMount:w.current,previousResultCount:T.current,items:i,environment:l,itemToString:c},f));var A=function(t){var n=t.highlightedIndex,r=t.isOpen,o=t.itemRefs,i=t.getItemNodeFromIndex,a=t.menuElement,l=t.scrollIntoView,s=e.useRef(!0);return B_((function(){n<0||!r||!Object.keys(o.current).length||(!1===s.current?s.current=!0:l(i(n),a))}),[n]),s}({menuElement:y.current,highlightedIndex:h,isOpen:p,itemRefs:E,scrollIntoView:a,getItemNodeFromIndex:k});G_({isInitialMount:w.current,props:n,state:f}),e.useEffect((function(){(r||o||p)&&b.current&&b.current.focus()}),[]),e.useEffect((function(){w.current||(T.current=i.length)}));var O=function(t,n,r,o){var i=e.useRef({isMouseDown:!1,isTouchMove:!1});return e.useEffect((function(){if(null!=(null==r?void 0:r.addEventListener)){var e=function(){i.current.isMouseDown=!0},a=function(e){i.current.isMouseDown=!1,t&&!I_(e.target,n.map((function(e){return e.current})),r)&&o()},l=function(){i.current.isTouchMove=!1},s=function(){i.current.isTouchMove=!0},u=function(e){!t||i.current.isTouchMove||I_(e.target,n.map((function(e){return e.current})),r,!1)||o()};return r.addEventListener("mousedown",e),r.addEventListener("mouseup",a),r.addEventListener("touchstart",l),r.addEventListener("touchmove",s),r.addEventListener("touchend",u),function(){r.removeEventListener("mousedown",e),r.removeEventListener("mouseup",a),r.removeEventListener("touchstart",l),r.removeEventListener("touchmove",s),r.removeEventListener("touchend",u)}}}),[t,r]),i}(p,[b,y,x],l,(function(){g({type:iE,selectItem:!1})})),R=C_;e.useEffect((function(){return w.current=!1,function(){w.current=!0}}),[]),e.useEffect((function(){var e;if(p){if((null==(e=l.document)?void 0:e.activeElement)!==b.current){var t;null==b||null==(t=b.current)||t.focus()}}else E.current={}}),[p,l]);var I=e.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),g({type:J_,altKey:e.altKey,getItemNodeFromIndex:k})},ArrowUp:function(e){e.preventDefault(),g({type:q_,altKey:e.altKey,getItemNodeFromIndex:k})},Home:function(e){S.current.state.isOpen&&(e.preventDefault(),g({type:Q_,getItemNodeFromIndex:k}))},End:function(e){S.current.state.isOpen&&(e.preventDefault(),g({type:eE,getItemNodeFromIndex:k}))},Escape:function(e){var t=S.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),g({type:X_}))},Enter:function(e){S.current.state.isOpen&&229!==e.which&&(e.preventDefault(),g({type:rE,getItemNodeFromIndex:k}))},PageUp:function(e){S.current.state.isOpen&&(e.preventDefault(),g({type:tE,getItemNodeFromIndex:k}))},PageDown:function(e){S.current.state.isOpen&&(e.preventDefault(),g({type:nE,getItemNodeFromIndex:k}))}}}),[g,S,k]),D=e.useCallback((function(e){return _({id:N.labelId,htmlFor:N.inputId},e)}),[N]),M=e.useCallback((function(e,t){var n,r=void 0===e?{}:e,o=r.onMouseLeave,i=r.refKey,a=void 0===i?"ref":i,l=r.ref,s=C(r,hE);return(void 0===t?{}:t).suppressRefError,_(((n={})[a]=S_(l,(function(e){y.current=e})),n.id=N.menuId,n.role="listbox",n["aria-labelledby"]=s&&s["aria-label"]?void 0:""+N.labelId,n.onMouseLeave=T_(o,(function(){g({type:11})})),n),s)}),[g,R,N]),L=e.useCallback((function(e){var t,n,r=void 0===e?{}:e,o=r.item,i=r.index,a=r.refKey,l=void 0===a?"ref":a,s=r.ref,u=r.onMouseMove,c=r.onMouseDown,d=r.onClick;r.onPress;var f=r.disabled,p=C(r,mE),h=S.current,m=h.props,v=h.state,y=function(e,t,n,r){var o,i;if(void 0===e){if(void 0===t)throw new Error(r);o=n[t],i=t}else i=void 0===t?n.indexOf(e):t,o=e;return[o,i]}(o,i,m.items,"Pass either item or index to getItemProps!"),b=y[1],x=d;return _(((t={})[l]=S_(s,(function(e){e&&(E.current[N.getItemId(b)]=e)})),t.disabled=f,t.role="option",t["aria-selected"]=""+(b===v.highlightedIndex),t.id=N.getItemId(b),t),!f&&((n={}).onClick=T_(x,(function(){g({type:lE,index:b})})),n),{onMouseMove:T_(u,(function(){b!==v.highlightedIndex&&(A.current=!1,g({type:12,index:b,disabled:f}))})),onMouseDown:T_(c,(function(e){return e.preventDefault()}))},p)}),[g,S,A,N]),P=e.useCallback((function(e){var t,n=void 0===e?{}:e,r=n.onClick;n.onPress;var o=n.refKey,i=void 0===o?"ref":o,a=n.ref,l=C(n,vE),s=S.current.state;return _(((t={})[i]=S_(a,(function(e){x.current=e})),t["aria-controls"]=N.menuId,t["aria-expanded"]=s.isOpen,t.id=N.toggleButtonId,t.tabIndex=-1,t),!l.disabled&&_({},{onClick:T_(r,(function(){g({type:14})}))}),l)}),[g,S,N]),$=e.useCallback((function(e,t){var n,r=void 0===e?{}:e,o=r.onKeyDown,i=r.onChange,a=r.onInput,s=r.onFocus,u=r.onBlur;r.onChangeText;var c=r.refKey,d=void 0===c?"ref":c,f=r.ref,p=C(r,yE);(void 0===t?{}:t).suppressRefError;var h,m=S.current.state,v={};p.disabled||((h={}).onChange=T_(i,a,(function(e){g({type:oE,inputValue:e.target.value})})),h.onKeyDown=T_(o,(function(e){var t=function(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}(e);t&&I[t]&&I[t](e)})),h.onBlur=T_(u,(function(e){if(m.isOpen&&!O.current.isMouseDown){var t=null===e.relatedTarget&&l.document.activeElement!==l.document.body;g({type:iE,selectItem:!t})}})),h.onFocus=T_(s,(function(){m.isOpen||g({type:aE})})),v=h);return _(((n={})[d]=S_(f,(function(e){b.current=e})),n["aria-activedescendant"]=m.isOpen&&m.highlightedIndex>-1?N.getItemId(m.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=N.menuId,n["aria-expanded"]=m.isOpen,n["aria-labelledby"]=p&&p["aria-label"]?void 0:""+N.labelId,n.autoComplete="off",n.id=N.inputId,n.role="combobox",n.value=m.inputValue,n),v,p)}),[R,S,N,I,g,O,l]),F=e.useCallback((function(){g({type:15})}),[g]),B=e.useCallback((function(){g({type:17})}),[g]),K=e.useCallback((function(){g({type:16})}),[g]),z=e.useCallback((function(e){g({type:18,highlightedIndex:e})}),[g]),V=e.useCallback((function(e){g({type:sE,selectedItem:e})}),[g]);return{getItemProps:L,getLabelProps:D,getMenuProps:M,getInputProps:$,getToggleButtonProps:P,toggleMenu:F,openMenu:K,closeMenu:B,setHighlightedIndex:z,setInputValue:e.useCallback((function(e){g({type:20,inputValue:e})}),[g]),selectItem:V,reset:e.useCallback((function(){g({type:21})}),[g]),highlightedIndex:h,isOpen:p,selectedItem:m,inputValue:v}}_E.stateChangeTypes=cE,x.array,x.array,x.array,x.func,x.func,x.func,x.number,x.number,x.number,x.func,x.func,x.string,x.string,x.shape({addEventListener:x.func,removeEventListener:x.func,document:x.shape({getElementById:x.func,activeElement:x.any,body:x.any})});const EE=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"m12 15-5-5h10l-5 5Z"}))),bE=({autofocus:e,suggestions:t,control:n,inputName:r,placeholder:o,initialInputValue:i,setValue:a})=>{const[l,s]=v.useState(t.slice(0,20)),u=t.length>0,{isOpen:c,getToggleButtonProps:d,getMenuProps:f,getInputProps:g,highlightedIndex:p,getItemProps:h,selectedItem:m}=_E({initialInputValue:i,onInputValueChange({inputValue:e}){e=(null==e?void 0:e.toLowerCase())||"",a(r,e);const n=[];for(const r of t)if(r.toLowerCase().includes(e)&&(n.push(r),n.length>=20))break;s(n)},items:l,itemToString:e=>e??""}),y=c&&l.length>0;return v.createElement("div",{className:_u.downshiftAutocompleteContainer},v.createElement("div",{"data-visible-dropdown":y,className:_u.downshiftInputWrapper},v.createElement(qm,{name:r,control:n,render:({field:t})=>{const n=g();return v.createElement("input",{...n,name:t.name,placeholder:o,className:_u.downshiftInput,size:30,"data-editor-dialog":!0,autoFocus:e})}}),u&&v.createElement("button",{"aria-label":"toggle menu",type:"button",...d()},v.createElement(EE,null))),v.createElement("div",{className:_u.downshiftAutocompleteContainer},v.createElement("ul",{...f(),"data-visible":y},l.map(((e,t)=>v.createElement("li",{"data-selected":m===e,"data-highlighted":p===t,key:`${e}${t}`,...h({item:e,index:t})},e))))))};function xE({url:e,title:t,onSubmit:n,onCancel:r,linkAutocompleteSuggestions:o}){const{register:i,handleSubmit:a,control:l,setValue:s,reset:u}=Fv({values:{url:e,title:t}});return v.createElement("form",{onSubmit:e=>{a(n)(e),e.stopPropagation(),e.preventDefault()},onReset:r,className:ic(_u.multiFieldForm,_u.linkDialogEditForm)},v.createElement("div",{className:_u.formField},v.createElement("label",{htmlFor:"link-url"},"URL"),v.createElement(bE,{initialInputValue:e,inputName:"url",suggestions:o,setValue:s,control:l,placeholder:"Chọn hoặc dán liên kết URL",autofocus:!0})),v.createElement("div",{className:_u.formField},v.createElement("label",{htmlFor:"link-title"},"Tiêu đề"),v.createElement("input",{id:"link-title",className:_u.textInput,size:40,...i("title")})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--spacing-2)"}},v.createElement("button",{type:"submit",title:"Set URL","aria-label":"Set URL",className:ic(_u.primaryButton)},"Lưu lại"),v.createElement("button",{type:"reset",title:"Cancel change","aria-label":"Cancel change",className:ic(_u.secondaryButton)},"Huỷ")))}ma.createCommand();const CE=()=>{const[e]=uu.useEmitterValues("editorRootElementRef"),t=kE.usePublisher("onWindowChange"),[n]=uu.useEmitterValues("activeEditor"),[r,o]=kE.useEmitterValues("linkDialogState","linkAutocompleteSuggestions"),i=kE.usePublisher("updateLink"),a=kE.usePublisher("cancelLinkEdit"),l=kE.usePublisher("switchFromPreviewToLinkEdit"),s=kE.usePublisher("removeLink");v.useEffect((()=>{const e=()=>{null==n||n.getEditorState().read((()=>{t(!0)}))};return window.addEventListener("resize",e),window.addEventListener("scroll",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}),[n,t]);const[u,c]=v.useState(!1),d=null==r?void 0:r.rectangle,f="preview"===r.type&&r.url.startsWith("http");return v.createElement($g,{open:"inactive"!==r.type},v.createElement(Fg,{"data-visible":"edit"===r.type,className:_u.linkDialogAnchor,style:{top:null==d?void 0:d.top,left:null==d?void 0:d.left,width:null==d?void 0:d.width,height:null==d?void 0:d.height}}),v.createElement(Bg,{container:null==e?void 0:e.current},v.createElement(Kg,{className:ic(_u.linkDialogPopoverContent),sideOffset:5,onOpenAutoFocus:e=>e.preventDefault(),key:r.linkNodeKey},"edit"===r.type&&v.createElement(xE,{url:r.url,title:r.title,onSubmit:i,onCancel:a.bind(null,!0),linkAutocompleteSuggestions:o}),"preview"===r.type&&v.createElement(v.Fragment,null,v.createElement("a",{className:_u.linkDialogPreviewAnchor,href:r.url,...f?{target:"_blank",rel:"noreferrer"}:{},title:f?`Open ${r.url} in new window`:r.url},v.createElement("span",null,r.url),f&&v.createElement(Ky,null)),v.createElement(wE,{onClick:()=>l(!0),title:"Edit link URL","aria-label":"Edit link URL"},v.createElement(Fy,null)),v.createElement(Oy,null,v.createElement(Ry,{open:u},v.createElement(Iy,{asChild:!0},v.createElement(wE,{title:"Sao chép URL","aria-label":"Sao chép URL",onClick:()=>{window.navigator.clipboard.writeText(r.url).then((()=>{c(!0),setTimeout((()=>c(!1)),1e3)}))}},u?v.createElement(Py,null):v.createElement($y,null))),v.createElement(Dy,{container:null==e?void 0:e.current},v.createElement(My,{className:ic(_u.tooltipContent),sideOffset:5},"Đã sao chép!",v.createElement(Ly,null))))),v.createElement(wE,{title:"Xoá liên kết","aria-label":"Xoá liên kết",onClick:()=>s(!0)},v.createElement(By,null))))))},wE=v.forwardRef((({className:e,...t},n)=>v.createElement("button",{className:ic(_u.actionButton,e),ref:n,...t})));function NE(e){if(!e)return null;const t=function(e){try{const t=e.anchor,n=e.focus,r=e.anchor.getNode(),o=e.focus.getNode();return r===o?r:e.isBackward()?Aa.$isAtNodeEnd(n)?r:o:Aa.$isAtNodeEnd(t)?r:o}catch{return null}}(e);if(null===t)return null;const n=t.getParent();return Zp.$isLinkNode(n)?n:Zp.$isLinkNode(t)?t:null}const TE=Xs(((e,[{activeEditor:t,currentSelection:n,createActiveEditorSubscription:r}])=>{const o=e.node(!1),i=e.node(),a=e.node({type:"inactive"},!0),l=e.node(),s=e.node(),u=e.node(),c=e.node(),d=e.node(),f=e.node(),g=e.node([]);return e.sub(e.pipe(f,e.o.withLatestFrom(n,t),e.o.filter((([,e])=>ma.$isRangeSelection(e)))),(([,t,n])=>{null==n||n.getEditorState().read((()=>{const r=NE(t),o=ay(n);r?e.pub(a,{type:"edit",initialUrl:r.getURL(),initialTitle:r.getTitle()||"",url:r.getURL(),title:r.getTitle()||"",linkNodeKey:r.getKey(),rectangle:o}):e.pub(a,{type:"edit",initialUrl:"",initialTitle:"",title:"",url:"",linkNodeKey:"",rectangle:o})}))})),e.sub(e.pipe(d,e.o.withLatestFrom(t)),(([,e])=>{null==e||e.dispatchCommand(Zp.TOGGLE_LINK_COMMAND,null)})),e.pub(r,(t=>t.registerCommand(ma.KEY_ESCAPE_COMMAND,(()=>"preview"===e.getValue(a).type&&(e.pub(a,{type:"inactive"}),!0)),ma.COMMAND_PRIORITY_LOW))),e.pub(r,(t=>t.registerCommand(ma.KEY_MODIFIER_COMMAND,(t=>{if("k"===t.key&&(zs?t.metaKey:t.ctrlKey)){const n=ma.$getSelection();return!(!ma.$isRangeSelection(n)||!NE(n)&&n.isCollapsed())&&(e.pub(f,!0),t.stopPropagation(),!0)}return!1}),ma.COMMAND_PRIORITY_HIGH))),e.link(e.pipe(c,e.o.withLatestFrom(a),e.o.map((([,e])=>{if("preview"===e.type)return{type:"edit",initialUrl:e.url,url:e.url,linkNodeKey:e.linkNodeKey,rectangle:e.rectangle};throw new Error("Cannot switch to edit mode when not in preview mode")}))),a),e.sub(e.pipe(l,e.o.withLatestFrom(t,a)),(([t,n,r])=>{const o=t.url.trim(),i=t.title.trim();""!==o.trim()?(null==n||n.dispatchCommand(Zp.TOGGLE_LINK_COMMAND,{url:o,title:i}),setTimeout((()=>{null==n||n.update((()=>{const e=NE(ma.$getSelection());null==e||e.setTitle(i)}))})),e.pub(a,{type:"preview",linkNodeKey:r.linkNodeKey,rectangle:r.rectangle,url:o})):("edit"===r.type&&""!==r.initialUrl&&(null==n||n.dispatchCommand(Zp.TOGGLE_LINK_COMMAND,null)),e.pub(a,{type:"inactive"}))})),e.link(e.pipe(s,e.o.withLatestFrom(a,t),e.o.map((([,e,t])=>{if("edit"===e.type)return null==t||t.focus(),""===e.initialUrl?{type:"inactive"}:{type:"preview",url:e.initialUrl,linkNodeKey:e.linkNodeKey,rectangle:e.rectangle};throw new Error("Cannot cancel edit when not in edit mode")}))),a),e.link(e.pipe(e.combine(n,i),e.o.withLatestFrom(t,a),e.o.map((([[e],t])=>{if(ma.$isRangeSelection(e)&&t){const n=NE(e);return n?{type:"preview",url:n.getURL(),linkNodeKey:n.getKey(),rectangle:ay(t)}:{type:"inactive"}}return{type:"inactive"}}))),a),{dialogState:o,onWindowChange:i,linkDialogState:a,updateLink:l,switchFromPreviewToLinkEdit:c,cancelLinkEdit:s,removeLink:d,openLinkEditDialog:f,applyLinkChanges:u,linkAutocompleteSuggestions:g}}),[lu]),[SE,kE]=ru({id:"link-dialog",dependencies:["link"],systemSpec:TE,applyParamsToSystem(e,t={}){e.pubKey("linkAutocompleteSuggestions",t.linkAutocompleteSuggestions||[])},init(e){e.pubKey("addComposerChild",CE)}});function AE(e,[t,n]){return Math.min(n,Math.max(t,e))}const OE="dismissableLayer.update",RE="dismissableLayer.pointerDownOutside",IE="dismissableLayer.focusOutside";let DE;const ME=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LE=e.forwardRef(((t,n)=>{var r;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:s,onDismiss:u,...c}=t,d=e.useContext(ME),[f,g]=e.useState(null),p=null!==(r=null==f?void 0:f.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,h]=e.useState({}),m=bd(n,(e=>g(e))),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(y),b=f?v.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,C=b>=E,w=function(t,n=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=Rd(t),o=e.useRef(!1),i=e.useRef((()=>{}));return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let t=function(){$E(RE,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}o.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}}),[n,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...d.branches].some((e=>e.contains(t)));C&&!n&&(null==a||a(e),null==s||s(e),e.defaultPrevented||null==u||u())}),p),N=function(t,n=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=Rd(t),o=e.useRef(!1);return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){$E(IE,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(null==l||l(e),null==s||s(e),e.defaultPrevented||null==u||u())}),p);return Id((e=>{b===d.layers.size-1&&(null==i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))}),p),e.useEffect((()=>{if(f)return o&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(DE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),PE(),()=>{o&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=DE)}}),[f,p,o,d]),e.useEffect((()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),PE())}),[f,d]),e.useEffect((()=>{const e=()=>h({});return document.addEventListener(OE,e),()=>document.removeEventListener(OE,e)}),[]),e.createElement(Ad.div,_({},c,{ref:m,style:{pointerEvents:x?C?"auto":"none":void 0,...t.style},onFocusCapture:_d(t.onFocusCapture,N.onFocusCapture),onBlurCapture:_d(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:_d(t.onPointerDownCapture,w.onPointerDownCapture)}))}));function PE(){const e=new CustomEvent(OE);document.dispatchEvent(e)}function $E(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Od(o,i):o.dispatchEvent(i)}const FE="focusScope.autoFocusOnMount",BE="focusScope.autoFocusOnUnmount",KE={bubbles:!1,cancelable:!0},zE=e.forwardRef(((t,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[s,u]=e.useState(null),c=Rd(i),d=Rd(a),f=e.useRef(null),g=bd(n,(e=>u(e))),p=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect((()=>{if(o){let e=function(e){if(p.paused||!s)return;const t=e.target;s.contains(t)?f.current=t:UE(f.current,{select:!0})},t=function(e){if(p.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||UE(f.current,{select:!0}))},n=function(e){const t=document.activeElement;for(const n of e)n.removedNodes.length>0&&(null!=s&&s.contains(t)||UE(s))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,s,p.paused]),e.useEffect((()=>{if(s){jE.add(p);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(FE,KE);s.addEventListener(FE,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(UE(r,{select:t}),document.activeElement!==n)return}((e=VE(s),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&UE(s))}return()=>{s.removeEventListener(FE,c),setTimeout((()=>{const e=new CustomEvent(BE,KE);s.addEventListener(BE,d),s.dispatchEvent(e),e.defaultPrevented||UE(null!=t?t:document.body,{select:!0}),s.removeEventListener(BE,d),jE.remove(p)}),0)}}var e}),[s,c,d,p]);const h=e.useCallback((e=>{if(!r&&!o)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=VE(e),n=WE(t,e),r=WE(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&UE(i,{select:!0})):(e.preventDefault(),r&&UE(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,p.paused]);return e.createElement(Ad.div,_({tabIndex:-1},l,{ref:g,onKeyDown:h}))}));function VE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function WE(e,t){for(const n of e)if(!HE(n,{upTo:t}))return n}function HE(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function UE(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const jE=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=YE(e,t),e.unshift(t)},remove(t){var n;e=YE(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function YE(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const GE="Popper",[ZE,JE]=xd(GE),[qE,XE]=ZE(GE),QE=e.forwardRef(((t,n)=>{const{__scopePopper:r,virtualRef:o,...i}=t,a=XE("PopperAnchor",r),l=e.useRef(null),s=bd(n,l);return e.useEffect((()=>{a.onAnchorChange((null==o?void 0:o.current)||l.current)})),o?null:e.createElement(Ad.div,_({},i,{ref:s}))})),eb="PopperContent",[tb,nb]=ZE(eb),rb=e.forwardRef(((t,n)=>{var r,o,i,a,l,s,u,c;const{__scopePopper:d,side:f="bottom",sideOffset:g=0,align:p="center",alignOffset:h=0,arrowPadding:m=0,collisionBoundary:v=[],collisionPadding:y=0,sticky:E="partial",hideWhenDetached:b=!1,avoidCollisions:x=!0,onPlaced:C,...w}=t,N=XE(eb,d),[T,S]=e.useState(null),k=bd(n,(e=>S(e))),[A,O]=e.useState(null),R=af(A),I=null!==(r=null==R?void 0:R.width)&&void 0!==r?r:0,D=null!==(o=null==R?void 0:R.height)&&void 0!==o?o:0,M=f+("center"!==p?"-"+p:""),L="number"==typeof y?y:{top:0,right:0,bottom:0,left:0,...y},P=Array.isArray(v)?v:[v],$=P.length>0,F={padding:L,boundary:P.filter(ob),altBoundary:$},{refs:B,floatingStyles:K,placement:z,isPositioned:V,middlewareData:W}=ut({strategy:"fixed",placement:M,whileElementsMounted:Ze,elements:{reference:N.anchor},middleware:[ye({mainAxis:g+D,alignmentAxis:h}),x&&Je({mainAxis:!0,crossAxis:!1,limiter:"partial"===E?tt():void 0,...F}),x&&qe({...F}),Xe({...F,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),A&&rt({element:A,padding:m}),ib({arrowWidth:I,arrowHeight:D}),b&&Qe({strategy:"referenceHidden"})]}),[H,U]=ab(z),j=Rd(C);ef((()=>{V&&(null==j||j())}),[V,j]);const Y=null===(i=W.arrow)||void 0===i?void 0:i.x,G=null===(a=W.arrow)||void 0===a?void 0:a.y,Z=0!==(null===(l=W.arrow)||void 0===l?void 0:l.centerOffset),[J,q]=e.useState();return ef((()=>{T&&q(window.getComputedStyle(T).zIndex)}),[T]),e.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[null===(s=W.transformOrigin)||void 0===s?void 0:s.x,null===(u=W.transformOrigin)||void 0===u?void 0:u.y].join(" ")},dir:t.dir},e.createElement(tb,{scope:d,placedSide:H,onArrowChange:O,arrowX:Y,arrowY:G,shouldHideArrow:Z},e.createElement(Ad.div,_({"data-side":H,"data-align":U},w,{ref:k,style:{...w.style,animation:V?void 0:"none",opacity:null!==(c=W.hide)&&void 0!==c&&c.referenceHidden?0:void 0}}))))}));function ob(e){return null!==e}const ib=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:l,rects:s,middlewareData:u}=t,c=0!==(null===(n=u.arrow)||void 0===n?void 0:n.centerOffset),d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[g,p]=ab(l),h={start:"0%",center:"50%",end:"100%"}[p],m=(null!==(r=null===(o=u.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,v=(null!==(i=null===(a=u.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+f/2;let y="",_="";return"bottom"===g?(y=c?h:`${m}px`,_=-f+"px"):"top"===g?(y=c?h:`${m}px`,_=`${s.floating.height+f}px`):"right"===g?(y=-f+"px",_=c?h:`${v}px`):"left"===g&&(y=`${s.floating.width+f}px`,_=c?h:`${v}px`),{data:{x:y,y:_}}}});function ab(e){const[t,n="center"]=e.split("-");return[t,n]}const lb=t=>{const{__scopePopper:n,children:r}=t,[o,i]=e.useState(null);return e.createElement(qE,{scope:n,anchor:o,onAnchorChange:i},r)},sb=QE,ub=rb,cb=e.forwardRef(((t,n)=>{var r;const{container:o=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...i}=t;return o?b.createPortal(e.createElement(Ad.div,_({},i,{ref:n})),o):null}));const db=[" ","Enter","ArrowUp","ArrowDown"],fb=[" ","Enter"],gb="Select",[pb,hb,mb]=zg(gb),[vb,yb]=xd(gb,[mb,JE]),_b=JE(),[Eb,bb]=vb(gb),[xb,Cb]=vb(gb),wb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,disabled:o=!1,...i}=t,a=_b(r),l=bb("SelectTrigger",r),s=l.disabled||o,u=bd(n,l.onTriggerChange),c=hb(r),[d,f,g]=Yb((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===l.value)),r=Gb(t,e,n);void 0!==r&&l.onValueChange(r.value)})),p=()=>{s||(l.onOpenChange(!0),g())};return e.createElement(sb,_({asChild:!0},a),e.createElement(Ad.button,_({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":void 0===l.value?"":void 0},i,{ref:u,onClick:_d(i.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:_d(i.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(p(),l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:_d(i.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||db.includes(e.key)&&(p(),e.preventDefault())}))})))})),Nb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,className:o,style:i,children:a,placeholder:l,...s}=t,u=bb("SelectValue",r),{onValueNodeHasChildrenChange:c}=u,d=void 0!==a,f=bd(n,u.onValueNodeChange);return ef((()=>{c(d)}),[c,d]),e.createElement(Ad.span,_({},s,{ref:f,style:{pointerEvents:"none"}}),void 0===u.value&&void 0!==l?l:a)})),Tb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,children:o,...i}=t;return e.createElement(Ad.span,_({"aria-hidden":!0},i,{ref:n}),o||"▼")})),Sb="SelectContent",kb=e.forwardRef(((n,r)=>{const o=bb(Sb,n.__scopeSelect),[i,a]=e.useState();if(ef((()=>{a(new DocumentFragment)}),[]),!o.open){const r=i;return r?t.createPortal(e.createElement(Ob,{scope:n.__scopeSelect},e.createElement(pb.Slot,{scope:n.__scopeSelect},e.createElement("div",null,n.children))),r):null}return e.createElement(Ib,_({},n,{ref:r}))})),Ab=10,[Ob,Rb]=vb(Sb),Ib=e.forwardRef(((t,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:h,hideWhenDetached:m,avoidCollisions:v,...y}=t,E=bb(Sb,r),[b,x]=e.useState(null),[C,w]=e.useState(null),N=bd(n,(e=>x(e))),[T,S]=e.useState(null),[k,A]=e.useState(null),O=hb(r),[R,I]=e.useState(!1),D=e.useRef(!1);e.useEffect((()=>{if(b)return $f(b)}),[b]),Vd();const M=e.useCallback((e=>{const[t,...n]=O().map((e=>e.ref.current)),[r]=n.slice(-1),o=document.activeElement;for(const i of e){if(i===o)return;if(null==i||i.scrollIntoView({block:"nearest"}),i===t&&C&&(C.scrollTop=0),i===r&&C&&(C.scrollTop=C.scrollHeight),null==i||i.focus(),document.activeElement!==o)return}}),[O,C]),L=e.useCallback((()=>M([T,b])),[M,T,b]);e.useEffect((()=>{R&&L()}),[R,L]);const{onOpenChange:P,triggerPointerDownPosRef:$}=E;e.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{var n,r,o,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=$.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(o=null===(i=$.current)||void 0===i?void 0:i.y)&&void 0!==o?o:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||P(!1),document.removeEventListener("pointermove",t),$.current=null};return null!==$.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[b,P,$]),e.useEffect((()=>{const e=()=>P(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[P]);const[F,B]=Yb((e=>{const t=O().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=Gb(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),K=e.useCallback(((e,t,n)=>{const r=!D.current&&!n;(void 0!==E.value&&E.value===t||r)&&(S(e),r&&(D.current=!0))}),[E.value]),z=e.useCallback((()=>null==b?void 0:b.focus()),[b]),V=e.useCallback(((e,t,n)=>{const r=!D.current&&!n;(void 0!==E.value&&E.value===t||r)&&A(e)}),[E.value]),W="popper"===o?Mb:Db,H=W===Mb?{side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:h,hideWhenDetached:m,avoidCollisions:v}:{};return e.createElement(Ob,{scope:r,content:b,viewport:C,onViewportChange:w,itemRefCallback:K,selectedItem:T,onItemLeave:z,itemTextRefCallback:V,focusSelectedItem:L,selectedItemText:k,position:o,isPositioned:R,searchRef:F},e.createElement(bg,{as:wd,allowPinchZoom:!0},e.createElement(zE,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:_d(i,(e=>{var t;null===(t=E.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},e.createElement(LE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1)},e.createElement(W,_({role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault()},y,H,{onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:_d(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||B(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=O().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>M(t))),e.preventDefault()}}))}))))))})),Db=e.forwardRef(((t,n)=>{const{__scopeSelect:r,onPlaced:o,...i}=t,a=bb(Sb,r),l=Rb(Sb,r),[s,u]=e.useState(null),[c,d]=e.useState(null),f=bd(n,(e=>d(e))),g=hb(r),p=e.useRef(!1),h=e.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:E}=l,b=e.useCallback((()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&v&&y){const e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),r=y.getBoundingClientRect();if("rtl"!==a.dir){const o=r.left-t.left,i=n.left-o,a=e.left-i,l=e.width+a,u=Math.max(l,t.width),c=window.innerWidth-Ab,d=AE(i,[Ab,c-u]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const o=t.right-r.right,i=window.innerWidth-n.right-o,a=window.innerWidth-e.right-i,l=e.width+a,u=Math.max(l,t.width),c=window.innerWidth-Ab,d=AE(i,[Ab,c-u]);s.style.minWidth=l+"px",s.style.right=d+"px"}const i=g(),l=window.innerHeight-2*Ab,u=m.scrollHeight,d=window.getComputedStyle(c),f=parseInt(d.borderTopWidth,10),h=parseInt(d.paddingTop,10),_=parseInt(d.borderBottomWidth,10),E=f+h+u+parseInt(d.paddingBottom,10)+_,b=Math.min(5*v.offsetHeight,E),x=window.getComputedStyle(m),C=parseInt(x.paddingTop,10),w=parseInt(x.paddingBottom,10),N=e.top+e.height/2-Ab,T=l-N,S=v.offsetHeight/2,k=f+h+(v.offsetTop+S),A=E-k;if(k<=N){const e=v===i[i.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=k+Math.max(T,S+(e?w:0)+t+_);s.style.height=n+"px"}else{const e=v===i[0].ref.current;s.style.top="0px";const t=Math.max(N,f+m.offsetTop+(e?C:0)+S)+A;s.style.height=t+"px",m.scrollTop=k-N+m.offsetTop}s.style.margin=`${Ab}px 0`,s.style.minHeight=b+"px",s.style.maxHeight=l+"px",null==o||o(),requestAnimationFrame((()=>p.current=!0))}}),[g,a.trigger,a.valueNode,s,c,m,v,y,a.dir,o]);ef((()=>b()),[b]);const[x,C]=e.useState();ef((()=>{c&&C(window.getComputedStyle(c).zIndex)}),[c]);const w=e.useCallback((e=>{e&&!0===h.current&&(b(),null==E||E(),h.current=!1)}),[b,E]);return e.createElement(Lb,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:w},e.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},e.createElement(Ad.div,_({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))})),Mb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=Ab,...a}=t,l=_b(r);return e.createElement(ub,_({},l,a,{ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))})),[Lb,Pb]=vb(Sb,{}),$b="SelectViewport",Fb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,...o}=t,i=Rb($b,r),a=Pb($b,r),l=bd(n,i.onViewportChange),s=e.useRef(0);return e.createElement(e.Fragment,null,e.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.createElement(pb.Slot,{scope:r},e.createElement(Ad.div,_({"data-radix-select-viewport":"",role:"presentation"},o,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:_d(o.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=a;if(null!=r&&r.current&&n){const e=Math.abs(s.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Ab,o=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),a=Math.max(o,i);if(a<r){const o=a+e,i=Math.min(r,o),l=o-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=l>0?l:0,n.style.justifyContent="flex-end")}}}s.current=t.scrollTop}))}))))}));vb("SelectGroup");const Bb="SelectItem",[Kb,zb]=vb(Bb),Vb=e.forwardRef(((t,n)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:a,...l}=t,s=bb(Bb,r),u=Rb(Bb,r),c=s.value===o,[d,f]=e.useState(null!=a?a:""),[g,p]=e.useState(!1),h=bd(n,(e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,o,i)})),m=rf(),v=()=>{i||(s.onValueChange(o),s.onOpenChange(!1))};return e.createElement(Kb,{scope:r,value:o,disabled:i,textId:m,isSelected:c,onItemTextChange:e.useCallback((e=>{f((t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[])},e.createElement(pb.ItemSlot,{scope:r,value:o,disabled:i,textValue:d},e.createElement(Ad.div,_({role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},l,{ref:h,onFocus:_d(l.onFocus,(()=>p(!0))),onBlur:_d(l.onBlur,(()=>p(!1))),onPointerUp:_d(l.onPointerUp,v),onPointerMove:_d(l.onPointerMove,(e=>{var t;i?null===(t=u.onItemLeave)||void 0===t||t.call(u):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:_d(l.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=u.onItemLeave)||void 0===t||t.call(u))})),onKeyDown:_d(l.onKeyDown,(e=>{var t;""!==(null===(t=u.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(fb.includes(e.key)&&v()," "===e.key&&e.preventDefault())}))}))))})),Wb="SelectItemText",Hb=e.forwardRef(((n,r)=>{const{__scopeSelect:o,className:i,style:a,...l}=n,s=bb(Wb,o),u=Rb(Wb,o),c=zb(Wb,o),d=Cb(Wb,o),[f,g]=e.useState(null),p=bd(r,(e=>g(e)),c.onItemTextChange,(e=>{var t;return null===(t=u.itemTextRefCallback)||void 0===t?void 0:t.call(u,e,c.value,c.disabled)})),h=null==f?void 0:f.textContent,m=e.useMemo((()=>e.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},h)),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return ef((()=>(v(m),()=>y(m))),[v,y,m]),e.createElement(e.Fragment,null,e.createElement(Ad.span,_({id:c.textId},l,{ref:p})),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?t.createPortal(l.children,s.valueNode):null)})),Ub=e.forwardRef(((t,n)=>{const{__scopeSelect:r,...o}=t;return e.createElement(Ad.div,_({"aria-hidden":!0},o,{ref:n}))})),jb=e.forwardRef(((t,n)=>{const{value:r,...o}=t,i=e.useRef(null),a=bd(n,i),l=function(t){const n=e.useRef({value:t,previous:t});return e.useMemo((()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous)),[t])}(r);return e.useEffect((()=>{const e=i.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[l,r]),e.createElement(ly,{asChild:!0},e.createElement("select",_({},o,{ref:a,defaultValue:r})))}));function Yb(t){const n=Rd(t),r=e.useRef(""),o=e.useRef(0),i=e.useCallback((e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(o.current),""!==t&&(o.current=window.setTimeout((()=>e("")),1e3))}(t)}),[n]),a=e.useCallback((()=>{r.current="",window.clearTimeout(o.current)}),[]);return e.useEffect((()=>()=>window.clearTimeout(o.current)),[]),[r,i,a]}function Gb(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,o=n?e.indexOf(n):-1;let i=(a=e,l=Math.max(o,0),a.map(((e,t)=>a[(l+t)%a.length])));var a,l;1===r.length&&(i=i.filter((e=>e!==n)));const s=i.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return s!==n?s:void 0}jb.displayName="BubbleSelect";const Zb=t=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:i,onOpenChange:a,value:l,defaultValue:s,onValueChange:u,dir:c,name:d,autoComplete:f,disabled:g,required:p}=t,h=_b(n),[m,v]=e.useState(null),[y,_]=e.useState(null),[E,b]=e.useState(!1),x=Wg(c),[C=!1,w]=Of({prop:o,defaultProp:i,onChange:a}),[N,T]=Of({prop:l,defaultProp:s,onChange:u}),S=e.useRef(null),k=!m||Boolean(m.closest("form")),[A,O]=e.useState(new Set),R=Array.from(A).map((e=>e.props.value)).join(";");return e.createElement(lb,h,e.createElement(Eb,{required:p,scope:n,trigger:m,onTriggerChange:v,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:b,contentId:rf(),value:N,onValueChange:T,open:C,onOpenChange:w,dir:x,triggerPointerDownPosRef:S,disabled:g},e.createElement(pb.Provider,{scope:n},e.createElement(xb,{scope:t.__scopeSelect,onNativeOptionAdd:e.useCallback((e=>{O((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:e.useCallback((e=>{O((t=>{const n=new Set(t);return n.delete(e),n}))}),[])},r)),k?e.createElement(jb,{key:R,"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:e=>T(e.target.value),disabled:g},void 0===N?e.createElement("option",{value:""}):null,Array.from(A)):null))},Jb=wb,qb=Nb,Xb=Tb,Qb=t=>e.createElement(cb,_({asChild:!0},t)),ex=kb,tx=Fb,nx=Vb,rx=Hb,ox=Ub,ix=v.forwardRef((({title:e,children:t},n)=>{const[r]=uu.useEmitterValues("editorRootElementRef");return v.createElement(Oy,{delayDuration:100},v.createElement(Ry,null,v.createElement(Iy,{ref:n,asChild:!0},v.createElement("span",null,t)),v.createElement(Dy,{container:null==r?void 0:r.current},v.createElement(My,{className:ic(_u.tooltipContent),sideOffset:10},e))))})),ax=v.forwardRef((({children:e,className:t,...n},r)=>v.createElement(nx,{...n,ref:r,className:ic(t,_u.selectItem)},v.createElement(rx,null,e)))),lx=({title:e,placeholder:t,className:n})=>{const[r]=uu.useEmitterValues("readOnly");return v.createElement(ix,{title:e},v.createElement(Jb,{"aria-label":t,className:ic(_u.selectTrigger,n),"data-toolbar-item":!0,disabled:r},v.createElement(qb,{placeholder:t}),v.createElement(Xb,{className:_u.selectDropdownArrow},v.createElement(EE,null))))},sx=({children:e,className:t=_u.selectContainer})=>{const[n]=uu.useEmitterValues("editorRootElementRef");return v.createElement(Qb,{container:null==n?void 0:n.current},v.createElement(ex,{className:t,onCloseAutoFocus:e=>e.preventDefault(),position:"popper"},v.createElement(tx,{"data-editor-dropdown":!0},e)))},ux=e=>v.createElement(Zb,{value:e.value||void 0,onValueChange:e.onChange},v.createElement(lx,{title:e.triggerTitle,placeholder:e.placeholder}),v.createElement(sx,null,e.items.map(((e,t)=>"separator"===e?v.createElement(ox,{key:t}):v.createElement(ax,{key:t,value:e.value},e.label)))));function cx(e,t){return v.forwardRef(((n,r)=>{const o=ic(t.className,n.className);return v.createElement(e,{...t,...n,className:o,ref:r})}))}const dx=({readOnly:e,children:t})=>v.createElement(Mp,{className:ic(_u.toolbarRoot,{[_u.readOnlyToolbarRoot]:e}),...e?{tabIndex:-1}:{}},t),fx=cx(Lp,{className:_u.toolbarButton,"data-toolbar-item":!0}),gx=(px=fx,({title:e,children:t,...n})=>v.createElement(px,{...n},v.createElement(ix,{title:e},t)));var px;const hx=cx($p,{className:_u.toolbarToggleItem,"data-toolbar-item":!0});cx(Pp,{type:"single",className:_u.toolbarToggleSingleGroup});const mx=v.forwardRef((({on:e,title:t,children:n,disabled:r,...o},i)=>v.createElement(Pp,{type:"single",className:_u.toolbarToggleSingleGroup,...o,value:e?"on":"off",ref:i},v.createElement(hx,{title:t,value:"on",disabled:r},v.createElement(ix,{title:t},n))))),vx=({items:e})=>v.createElement("div",{className:_u.toolbarGroupOfGroups},e.map(((e,t)=>v.createElement(mx,{key:t,title:e.title,on:e.active,onValueChange:t=>e.onChange("on"===t),disabled:e.disabled},e.contents)))),yx=Xs((e=>({toolbarContents:e.node((()=>null))})),[lu]),_x=()=>"This is an empty toolbar. Pass `{toolbarContents: () => { return <>toolbar components</> }}` to the toolbarPlugin to customize it.",[Ex,bx]=ru({id:"toolbar",systemSpec:yx,init:(e,t)=>{e.pubKey("toolbarContents",(null==t?void 0:t.toolbarContents)??_x),e.pubKey("addTopAreaChild",xx)}}),xx=()=>{const[e]=bx.useEmitterValues("toolbarContents"),[t]=uu.useEmitterValues("readOnly");return v.createElement(dx,{readOnly:t},e())};var Cx={},wx={},Nx={exports:{}};!function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var a in r={},n[i]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Dw){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Dw.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],a={};for(var l in i)if(i.hasOwnProperty(l)){if(l==t)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n.hasOwnProperty(l)||(a[l]=i[l])}var u=r[e];return r[e]=a,o.languages.DFS(o.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],r||l);var s=t[l],u=o.util.type(s);"Object"!==u||i[a(s)]?"Array"!==u||i[a(s)]||(i[a(s)]=!0,e(s,n,l,i)):(i[a(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),a=o.languages[i];o.util.setLanguage(t,i);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&o.util.setLanguage(l,i);var s={element:t,language:i,grammar:a,code:t.textContent};function u(e){s.highlightedCode=e,o.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,o.hooks.run("after-highlight",s),o.hooks.run("complete",s),r&&r.call(s.element)}if(o.hooks.run("before-sanity-check",s),(l=s.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!s.code)return o.hooks.run("complete",s),void(r&&r.call(s.element));if(o.hooks.run("before-highlight",s),s.grammar)if(n&&e.Worker){var c=new Worker(o.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(o.highlight(s.code,s.grammar,s.language));else u(o.util.encode(s.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new s;return u(o,o.head,e),l(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function l(e,t,n,r,s,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var g=n[f];g=Array.isArray(g)?g:[g];for(var p=0;p<g.length;++p){if(d&&d.cause==f+","+p)return;var h=g[p],m=h.inside,v=!!h.lookbehind,y=!!h.greedy,_=h.alias;if(y&&!h.pattern.global){var E=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,E+"g")}for(var b=h.pattern||h,x=r.next,C=s;x!==t.tail&&!(d&&C>=d.reach);C+=x.value.length,x=x.next){var w=x.value;if(t.length>e.length)return;if(!(w instanceof i)){var N,T=1;if(y){if(!(N=a(b,C,e,v))||N.index>=e.length)break;var S=N.index,k=N.index+N[0].length,A=C;for(A+=x.value.length;S>=A;)A+=(x=x.next).value.length;if(C=A-=x.value.length,x.value instanceof i)continue;for(var O=x;O!==t.tail&&(A<k||"string"==typeof O.value);O=O.next)T++,A+=O.value.length;T--,w=e.slice(C,A),N.index-=C}else if(!(N=a(b,0,w,v)))continue;S=N.index;var R=N[0],I=w.slice(0,S),D=w.slice(S+R.length),M=C+w.length;d&&M>d.reach&&(d.reach=M);var L=x.prev;if(I&&(L=u(t,L,I),C+=I.length),c(t,L,T),x=u(t,L,new i(f,m?o.tokenize(R,m):R,_,R)),D&&u(t,x,D),T>1){var P={cause:f+","+p,reach:M};l(e,t,n,x.prev,C,P),d&&P.reach>d.reach&&(d.reach=P.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function c(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),o.hooks.run("wrap",i);var l="";for(var s in i.attributes)l+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+l+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()}),!1),o):o;var d=o.util.currentScript();function f(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var g=document.readyState;"loading"===g||"interactive"===g&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==w&&(w.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",r="loading",o="loaded",i="pre[data-src]:not(["+n+'="'+o+'"]):not(['+n+'="'+r+'"])';t.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),t.hooks.add("before-sanity-check",(function(a){var l=a.element;if(l.matches(i)){a.code="",l.setAttribute(n,r);var s=l.appendChild(document.createElement("CODE"));s.textContent="Loading…";var u=l.getAttribute("data-src"),c=a.language;if("none"===c){var d=(/\.(\w+)$/.exec(u)||[,"none"])[1];c=e[d]||d}t.util.setLanguage(s,c),t.util.setLanguage(l,c);var f=t.plugins.autoloader;f&&f.loadLanguages(c),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("✖ Error "+r.status+" while fetching file: "+r.statusText):n("✖ Error: File does not exist or is empty"))},r.send(null)}(u,(function(e){l.setAttribute(n,o);var r=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],o=t[3];return r?o?[n,Number(o)]:[n,void 0]:[n,n]}}(l.getAttribute("data-range"));if(r){var i=e.split(/\r\n?|\n/g),a=r[0],u=null==r[1]?i.length:r[1];a<0&&(a+=i.length),a=Math.max(0,Math.min(a-1,i.length)),u<0&&(u+=i.length),u=Math.max(0,Math.min(u,i.length)),e=i.slice(a,u).join("\n"),l.hasAttribute("data-start")||l.setAttribute("data-start",String(a+1))}s.textContent=e,t.highlightElement(s)}),(function(e){l.setAttribute(n,"failed"),s.textContent=e}))}})),t.plugins.fileHighlight={highlight:function(e){for(var n,r=(e||document).querySelectorAll(i),o=0;n=r[o++];)t.highlightElement(n)}};var a=!1;t.fileHighlight=function(){a||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),a=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}(Nx);var Tx,Sx,kx,Ax,Ox=Nx.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],a=o.content[3];if(i&&a&&"code-language"===i.type&&"code-block"===a.type&&"string"==typeof i.content){var l=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),s="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,s]:a.alias.push(s):a.alias=[s]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],u=/language-(.+)/.exec(i);if(u){n=u[1];break}}var c,d=e.languages[n];if(d)t.content=e.highlight((c=t.content,c.replace(a,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),s(n);var r=l[t];return r||e}))),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var f="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=f,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(f);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},s=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism),Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift})),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism),Tx=Prism,Sx=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,kx=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Ax={pattern:RegExp(/(^|[^\w.])/.source+kx+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},Tx.languages.java=Tx.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Ax,{pattern:RegExp(/(^|[^\w.])/.source+kx+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Ax.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+kx+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Ax.inside}],keyword:Sx,function:[Tx.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Tx.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Tx.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Ax,keyword:Sx,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+kx+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Ax.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+kx+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Ax.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return Sx.source}))),lookbehind:!0,inside:{punctuation:/\./}}}),function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism);var Rx=Ox,Ix=$a,Dx=ma;let Mx=e=>null!=e&&Rx.languages.hasOwnProperty(e)?e:void 0;function Lx(e,t){for(let n of e.childNodes){if(Ix.isHTMLElement(n)&&n.tagName===t)return!0;Lx(n,t)}return!1}class Px extends Dx.ElementNode{static getType(){return"code"}static clone(e){return new Px(e.__language,e.__key)}constructor(e,t){super(t),this.__language=Mx(e)}createDOM(e){let t=document.createElement("code");return Ix.addClassNamesToElement(t,e.theme.code),t.setAttribute("spellcheck","false"),(e=this.getLanguage())&&t.setAttribute("data-highlight-language",e),t}updateDOM(e,t){let n=this.__language;return e=e.__language,n?n!==e&&t.setAttribute("data-highlight-language",n):e&&t.removeAttribute("data-highlight-language"),!1}exportDOM(){let e=document.createElement("pre");e.setAttribute("spellcheck","false");let t=this.getLanguage();return t&&e.setAttribute("data-highlight-language",t),{element:e}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||Lx(e,"BR"))?{conversion:Bx,priority:1}:null,div:()=>({conversion:Kx,priority:1}),pre:()=>({conversion:Bx,priority:0}),table:e=>Hx(e)?{conversion:zx,priority:3}:null,td:e=>{let t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:Wx,priority:3}:t&&Hx(t)?{conversion:Vx,priority:3}:null},tr:e=>(e=e.closest("table"))&&Hx(e)?{conversion:Vx,priority:3}:null}}static importJSON(e){let t=$x(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){var n=this.getChildren(),r=n.length;if(2<=r&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r)return n[r-1].remove(),n[r-2].remove(),e=Dx.$createParagraphNode(),this.insertAfter(e,t),e;let{anchor:o,focus:i}=e;if(t=(o.isBefore(i)?o:i).getNode(),Dx.$isTextNode(t)){for(r=Xx(t),n=[];;)if(Dx.$isTabNode(r))n.push(Dx.$createTabNode()),r=r.getNextSibling();else{if(!qx(r))break;for(var a=0,l=r.getTextContent(),s=r.getTextContentSize();a<s&&" "===l[a];a++);if(0!==a&&n.push(Jx(" ".repeat(a))),a!==s)break;r=r.getNextSibling()}r=t.splitText(o.offset)[0],a=0===o.offset?0:1,a=r.getIndexWithinParent()+a,l=t.getParentOrThrow(),s=[Dx.$createLineBreakNode(),...n],l.splice(a,0,s),(n=n[n.length-1])?n.select():0===o.offset?r.selectPrevious():r.getNextSibling().selectNext(0,0)}return Fx(t)&&(({offset:e}=e.anchor),t.splice(e,0,[Dx.$createLineBreakNode()]),t.select(e+1,e+1)),null}canIndent(){return!1}collapseAtStart(){let e=Dx.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){this.getWritable().__language=Mx(e)}getLanguage(){return this.getLatest().__language}}function $x(e){return Dx.$applyNodeReplacement(new Px(e))}function Fx(e){return e instanceof Px}function Bx(e){let t;return Ix.isHTMLElement(e)&&(t=e.getAttribute("data-highlight-language")),{node:$x(t)}}function Kx(e){let t=null!==e.style.fontFamily.match("monospace");return t||function(e){for(e=e.parentElement;null!==e;){if(null!==e.style.fontFamily.match("monospace"))return!0;e=e.parentElement}return!1}(e)?{after:t=>{let n=e.parentNode;return null!=n&&e!==n.lastChild&&t.push(Dx.$createLineBreakNode()),t},node:t?$x():null}:{node:null}}function zx(){return{node:$x()}}function Vx(){return{node:null}}function Wx(e){return{after:t=>(e.parentNode&&e.parentNode.nextSibling&&t.push(Dx.$createLineBreakNode()),t),node:null}}function Hx(e){return e.classList.contains("js-file-line-container")}let Ux={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},jx={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function Yx(e){return jx[e]||e}let Gx=class e extends Dx.TextNode{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(t){return new e(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let t=super.createDOM(e);return e=Zx(e.theme,this.__highlightType),Ix.addClassNamesToElement(t,e),t}updateDOM(e,t,n){let r=super.updateDOM(e,t,n);return(e=Zx(n.theme,e.__highlightType))!==(n=Zx(n.theme,this.__highlightType))&&(e&&Ix.removeClassNamesFromElement(t,e),n&&Ix.addClassNamesToElement(t,n)),r}static importJSON(e){let t=Jx(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return $x()}};function Zx(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function Jx(e,t){return Dx.$applyNodeReplacement(new Gx(e,t))}function qx(e){return e instanceof Gx}function Xx(e){let t=e;for(;qx(e)||Dx.$isTabNode(e);)t=e,e=e.getPreviousSibling();return t}function Qx(e){let t=e;for(;qx(e)||Dx.$isTabNode(e);)t=e,e=e.getNextSibling();return t}let eC={defaultLanguage:"javascript",tokenize(e,t){return Rx.tokenize(e,Rx.languages[t||""]||Rx.languages[this.defaultLanguage])}};function tC(e,t){let n=null;var r=null,o=e;let i=t,a=e.getTextContent();for(;;){if(0===i){if(null===(o=o.getPreviousSibling()))break;if(!(qx(o)||Dx.$isTabNode(o)||Dx.$isLineBreakNode(o)))throw Error("Expected a valid Code Node: CodeHighlightNode, TabNode, LineBreakNode");if(Dx.$isLineBreakNode(o)){n={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),a=o.getTextContent()}else i--;let e=a[i];qx(o)&&" "!==e&&(r={node:o,offset:i})}if(null!==r)return r;if(r=null,t<e.getTextContentSize()?qx(e)&&(r=e.getTextContent()[t]):qx(o=e.getNextSibling())&&(r=o.getTextContent()[0]),null!==r&&" "!==r)return n;e:for(r=e,o=e.getTextContent(),e=e.getTextContentSize();;){if(!qx(r)||t===e){if(null===(r=r.getNextSibling())||Dx.$isLineBreakNode(r)){e=null;break e}qx(r)&&(t=0,o=r.getTextContent(),e=r.getTextContentSize())}if(qx(r)){if(" "!==o[t]){e={node:r,offset:t};break e}t++}}return null!==e?e:n}function nC(e){if(e=Qx(e),Dx.$isLineBreakNode(e))throw Error("Unexpected lineBreakNode in getEndOfCodeInLine");return e}function rC(e,t,n){let r=e.getParent();Fx(r)?iC(r,t,n):qx(e)&&e.replace(Dx.$createTextNode(e.__text))}let oC=new Set;function iC(e,t,n){let r=e.getKey();oC.has(r)||(oC.add(r),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){if(e=Dx.$getNodeByKey(e),Fx(e)&&e.isAttached()){var n=Dx.$getSelection();if(Dx.$isRangeSelection(n)){var r=(n=n.anchor).offset,o="element"===n.type&&Dx.$isLineBreakNode(e.getChildAtIndex(n.offset-1)),i=0;if(!o){let e=n.getNode();i=r+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(o?n.getNode().select(r,r):e.getChildren().some((e=>{let t=Dx.$isTextNode(e);if(t||Dx.$isLineBreakNode(e)){let n=e.getTextContentSize();if(t&&n>=i)return e.select(i,i),!0;i-=n}return!1})))}else t()}}(r,(()=>{var t=Dx.$getNodeByKey(r);if(!Fx(t)||!t.isAttached())return!1;var o=t.getTextContent();o=aC(o=n.tokenize(o,t.getLanguage()||n.defaultLanguage));var i=t.getChildren();for(t=0;t<i.length&&lC(i[t],o[t]);)t++;var a=i.length;let l=o.length,s=Math.min(a,l)-t,u=0;for(;u<s;)if(u++,!lC(i[a-u],o[l-u])){u--;break}i=t,a-=u,o=o.slice(t,l-u);let{from:c,to:d,nodesForReplacement:f}={from:i,nodesForReplacement:o,to:a};return!(c===d&&!f.length)&&(e.splice(c,d-c,f),!0)}))}),{onUpdate:()=>{oC.delete(r)},skipTransforms:!0}))}function aC(e,t){let n=[];for(let r of e)if("string"==typeof r){let o=(e=r.split(/(\n|\t)/)).length;for(let r=0;r<o;r++){let o=e[r];"\n"===o||"\r\n"===o?n.push(Dx.$createLineBreakNode()):"\t"===o?n.push(Dx.$createTabNode()):0<o.length&&n.push(Jx(o,t))}}else({content:e}=r),"string"==typeof e?n.push(...aC([e],r.type)):Array.isArray(e)&&n.push(...aC(e,r.type));return n}function lC(e,t){return qx(e)&&qx(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||Dx.$isTabNode(e)&&Dx.$isTabNode(t)||Dx.$isLineBreakNode(e)&&Dx.$isLineBreakNode(t)}function sC(e){if(!Dx.$isRangeSelection(e))return!1;var t=e.anchor.getNode();return e=e.focus.getNode(),!(!t.is(e)||!Fx(t))||Fx(t=t.getParent())&&t.is(e.getParent())}function uC(e){let t=[[]];if(1===(e=e.getNodes()).length&&Fx(e[0]))return t;let n=t[0];for(let r=0;r<e.length;r++){let o=e[r];if(!(qx(o)||Dx.$isTabNode(o)||Dx.$isLineBreakNode(o)))throw Error("Expected selection to be inside CodeBlock and consisting of CodeHighlightNode, TabNode and LineBreakNode");Dx.$isLineBreakNode(o)?0!==r&&0<n.length&&(n=[],t.push(n)):n.push(o)}return t}function cC(e){var t=Dx.$getSelection();if(!Dx.$isRangeSelection(t)||!sC(t))return!1;var n=uC(t);let r=n.length;if(1<n.length){for(t=0;t<r;t++){var o=n[t];0<o.length&&(o=o[0],0===t&&(o=Xx(o)),null!==o&&(e===Dx.INDENT_CONTENT_COMMAND?o.insertBefore(Dx.$createTabNode()):Dx.$isTabNode(o)&&o.remove()))}return!0}if(!(Fx(n=t.getNodes()[0])||qx(n)||Dx.$isTabNode(n)||Dx.$isLineBreakNode(n)))throw Error("Expected selection firstNode to be CodeHighlightNode or CodeTabNode");if(Fx(n))return e===Dx.INDENT_CONTENT_COMMAND&&t.insertNodes([Dx.$createTabNode()]),!0;if(null===(n=Xx(n)))throw Error("Expected getFirstCodeNodeOfLine to return a valid Code Node");return e===Dx.INDENT_CONTENT_COMMAND?Dx.$isLineBreakNode(n)?n.insertAfter(Dx.$createTabNode()):n.insertBefore(Dx.$createTabNode()):Dx.$isTabNode(n)&&n.remove(),!0}function dC(e,t){let n=Dx.$getSelection();if(!Dx.$isRangeSelection(n))return!1;let{anchor:r,focus:o}=n,i=r.offset,a=o.offset,l=r.getNode(),s=o.getNode();var u=e===Dx.KEY_ARROW_UP_COMMAND;if(!sC(n)||!qx(l)&&!Dx.$isTabNode(l)||!qx(s)&&!Dx.$isTabNode(s))return!1;if(!t.altKey){if(n.isCollapsed())if(e=l.getParentOrThrow(),u&&0===i&&null===l.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!u&&i===l.getTextContentSize()&&null===l.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0;return!1}let c;if(l.isBefore(s)){var d=Xx(l);c=Qx(s)}else d=Xx(s),c=Qx(l);if(null==d||null==c)return!1;let f=d.getNodesBetween(c);for(let p=0;p<f.length;p++){let e=f[p];if(!qx(e)&&!Dx.$isTabNode(e)&&!Dx.$isLineBreakNode(e))return!1}if(t.preventDefault(),t.stopPropagation(),t=u?d.getPreviousSibling():c.getNextSibling(),!Dx.$isLineBreakNode(t))return!0;if(null==(d=u?t.getPreviousSibling():t.getNextSibling()))return!0;let g=null!=(u=qx(d)||Dx.$isTabNode(d)||Dx.$isLineBreakNode(d)?u?Xx(d):Qx(d):null)?u:d;return t.remove(),f.forEach((e=>e.remove())),e===Dx.KEY_ARROW_UP_COMMAND?(f.forEach((e=>g.insertBefore(e))),g.insertBefore(t)):(g.insertAfter(t),g=t,f.forEach((e=>{g.insertAfter(e),g=e}))),n.setTextNodeRange(l,i,s,a),!0}function fC(e,t){let n=Dx.$getSelection();if(!Dx.$isRangeSelection(n))return!1;let{anchor:r,focus:o}=n;var i=r.getNode();let a=o.getNode();if(e=e===Dx.MOVE_TO_START,!qx(i)&&!Dx.$isTabNode(i)||!qx(a)&&!Dx.$isTabNode(a))return!1;if(e)if(null!==(i=tC(a,o.offset))){let{node:e,offset:t}=i;Dx.$isLineBreakNode(e)?e.selectNext(0,0):n.setTextNodeRange(e,t,e,t)}else a.getParentOrThrow().selectStart();else nC(a).select();return t.preventDefault(),t.stopPropagation(),!0}wx.$createCodeHighlightNode=Jx,wx.$createCodeNode=$x,wx.$isCodeHighlightNode=qx,wx.$isCodeNode=Fx,wx.CODE_LANGUAGE_FRIENDLY_NAME_MAP=Ux,wx.CODE_LANGUAGE_MAP=jx,wx.CodeHighlightNode=Gx,wx.CodeNode=Px,wx.DEFAULT_CODE_LANGUAGE="javascript",wx.PrismTokenizer=eC,wx.getCodeLanguages=()=>Object.keys(Rx.languages).filter((e=>"function"!=typeof Rx.languages[e])).sort(),wx.getDefaultCodeLanguage=()=>"javascript",wx.getEndOfCodeInLine=nC,wx.getFirstCodeNodeOfLine=Xx,wx.getLanguageFriendlyName=function(e){return e=Yx(e),Ux[e]||e},wx.getLastCodeNodeOfLine=Qx,wx.getStartOfCodeInLine=tC,wx.normalizeCodeLang=Yx,wx.registerCodeHighlighting=function(e,t){if(!e.hasNodes([Px,Gx]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==t&&(t=eC),Ix.mergeRegister(e.registerMutationListener(Px,(t=>{e.update((()=>{for(let[o,i]of t)if("destroyed"!==i){var n=Dx.$getNodeByKey(o);if(null!==n)e:{var r=n;if(null===(n=e.getElementByKey(r.getKey())))break e;let t=(r=r.getChildren()).length;if(t===n.__cachedChildrenLength)break e;n.__cachedChildrenLength=t;let o="1",i=1;for(let e=0;e<t;e++)Dx.$isLineBreakNode(r[e])&&(o+="\n"+ ++i);n.setAttribute("data-gutter",o)}}}))})),e.registerNodeTransform(Px,(n=>iC(n,e,t))),e.registerNodeTransform(Dx.TextNode,(n=>rC(n,e,t))),e.registerNodeTransform(Gx,(n=>rC(n,e,t))),e.registerCommand(Dx.KEY_TAB_COMMAND,(t=>{let n=function(e){var t=Dx.$getSelection();if(!Dx.$isRangeSelection(t)||!sC(t))return null;let n=e?Dx.OUTDENT_CONTENT_COMMAND:Dx.INDENT_CONTENT_COMMAND;if(e=e?Dx.OUTDENT_CONTENT_COMMAND:Dx.INSERT_TAB_COMMAND,1<uC(t).length)return n;var r=t.getNodes()[0];if(!(Fx(r)||qx(r)||Dx.$isTabNode(r)||Dx.$isLineBreakNode(r)))throw Error("Expected selection firstNode to be CodeHighlightNode or TabNode");if(Fx(r))return n;let o=Xx(r);r=Qx(r);var i=t.anchor;let a=t.focus;return a.isBefore(i)?t=a:(t=i,i=a),null!==o&&null!==r&&t.key===o.getKey()&&0===t.offset&&i.key===r.getKey()&&i.offset===r.getTextContentSize()?n:e}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.INSERT_TAB_COMMAND,(()=>!!sC(Dx.$getSelection())&&(Dx.$insertNodes([Dx.$createTabNode()]),!0)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.INDENT_CONTENT_COMMAND,(()=>cC(Dx.INDENT_CONTENT_COMMAND)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.OUTDENT_CONTENT_COMMAND,(()=>cC(Dx.OUTDENT_CONTENT_COMMAND)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.KEY_ARROW_UP_COMMAND,(e=>dC(Dx.KEY_ARROW_UP_COMMAND,e)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.KEY_ARROW_DOWN_COMMAND,(e=>dC(Dx.KEY_ARROW_DOWN_COMMAND,e)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.MOVE_TO_END,(e=>fC(Dx.MOVE_TO_END,e)),Dx.COMMAND_PRIORITY_LOW),e.registerCommand(Dx.MOVE_TO_START,(e=>fC(Dx.MOVE_TO_START,e)),Dx.COMMAND_PRIORITY_LOW))};var gC=ma,pC=wx,hC=yd,mC=$l,vC=$a,yC=Zp;function _C(e,t){let n={};for(let r of e)n[e=t(r)]?n[e].push(r):n[e]=[r];return n}function EC(e){return{element:(e=_C(e,(e=>e.type))).element||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}let bC=/[!-/:-@[-`{-~\s]/;function xC(e,t,n,r){for(let o of t)if(null!=(t=o.export(e,(e=>CC(e,n,r)))))return t;return gC.$isElementNode(e)?CC(e,n,r):gC.$isDecoratorNode(e)?e.getTextContent():null}function CC(e,t,n){let r=[];e=e.getChildren();e:for(let o of e){for(let i of n)if(null!=(e=i.export(o,(e=>CC(e,t,n)),((e,n)=>wC(e,n,t))))){r.push(e);continue e}gC.$isLineBreakNode(o)?r.push("\n"):gC.$isTextNode(o)?r.push(wC(o,o.getTextContent(),t)):gC.$isElementNode(o)?r.push(CC(o,t,n)):gC.$isDecoratorNode(o)&&r.push(o.getTextContent())}return r.join("")}function wC(e,t,n){let r=t.trim(),o=r,i=new Set;for(let l of n){n=l.format[0];let t=l.tag;if(TC(e,n)&&!i.has(n)){i.add(n);var a=NC(e,!0);TC(a,n)||(o=t+o),TC(a=NC(e,!1),n)||(o+=t)}}return t.replace(r,o)}function NC(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();for(n||(e=e.getParentOrThrow()).isInline()&&(n=t?e.getPreviousSibling():e.getNextSibling());n;){if(gC.$isElementNode(n)){if(!n.isInline())break;if(e=t?n.getLastDescendant():n.getFirstDescendant(),gC.$isTextNode(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(gC.$isTextNode(n))return n;if(!gC.$isElementNode(n))break}return null}function TC(e,t){return gC.$isTextNode(e)&&e.hasFormat(t)}let SC="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,kC=SC&&"documentMode"in document?document.documentMode:null;SC&&"InputEvent"in window&&!kC&&new window.InputEvent("input");let AC=SC&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),OC=SC&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,RC=SC&&/^(?=.*Chrome).*/i.test(navigator.userAgent),IC=SC&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!RC,DC=/^\s{0,3}$/,MC=/^```(\w{1,10})?\s?$/;function LC(e){let t=EC(e),n=function(e){let t={},n={},r=[];for(let o of e){({tag:e}=o),t[e]=o;let i=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(i),n[e]=AC||OC||IC?new RegExp(`(${i})(?![${i}\\s])(.*?[^${i}\\s])${i}(?!${i})`):new RegExp(`(?<![\\\\${i}])(${i})((\\\\${i})?.*?[^${i}\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?![\\\\${i}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((AC||OC||IC?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:t}}(t.textFormat);return(e,r)=>{var o=(e=e.split("\n")).length;(r=r||gC.$getRoot()).clear();for(let g=0;g<o;g++){var i=e[g];e:{var a=e,l=g,s=r,u=a[l].match(MC);if(u)for(var c=l,d=a.length;++c<d;)if(a[c].match(MC)){u=pC.$createCodeNode(u[1]),a=gC.$createTextNode(a.slice(l+1,c).join("\n")),u.append(a),s.append(u),s=[u,c];break e}s=[null,l]}let[o,p]=s;if(null!=o)g=p;else{s=i,d=r;var f=t.element;c=n,a=t.textMatch,l=s.trim(),u=gC.$createTextNode(l),(i=gC.$createParagraphNode()).append(u),d.append(i);for(let{regExp:e,replace:t}of f)if(d=s.match(e)){u.setTextContent(s.slice(d[0].length)),t(i,[u],d,!0);break}PC(u,c,a),i.isAttached()&&0<l.length&&(s=i.getPreviousSibling(),gC.$isParagraphNode(s)||mC.$isQuoteNode(s)||hC.$isListNode(s))&&(c=s,hC.$isListNode(s)&&(c=null==(s=s.getLastDescendant())?null:vC.$findMatchingParent(s,hC.$isListItemNode)),null!=c&&0<c.getTextContentSize()&&(c.splice(c.getChildrenSize(),0,[gC.$createLineBreakNode(),...i.getChildren()]),i.remove()))}}e=r.getChildren();for(let t of e)e=t,gC.$isParagraphNode(e)?(o=e.getFirstChild(),e=null==o||1===e.getChildrenSize()&&gC.$isTextNode(o)&&DC.test(o.getTextContent())):e=!1,e&&t.remove();null!==gC.$getSelection()&&r.selectEnd()}}function PC(e,t,n){var r=e.getTextContent();let o=function(e,t){var n=e.match(t.openTagsRegExp);if(null==n)return null;for(let i of n){var r=i.replace(/^\s/,"");if(null!=(n=t.fullMatchRegExpByTag[r])&&(n=e.match(n),r=t.transformersByTag[r],null!=n&&null!=r)){if(!1!==r.intraword)return n;var{index:o=0}=n;if(r=e[o-1],o=e[o+n[0].length],!(r&&!bC.test(r)||o&&!bC.test(o)))return n}}return null}(r,t);if(o){var i,a;if(o[0]===r)var l=e;else{let t=(r=o.index||0)+o[0].length;0===r?[l,i]=e.splitText(t):[a,l,i]=e.splitText(r,t)}if(l.setTextContent(o[2]),e=t.transformersByTag[o[1]])for(let t of e.format)l.hasFormat(t)||l.toggleFormat(t);l.hasFormat("code")||PC(l,t,n),a&&PC(a,t,n),i&&PC(i,t,n)}else $C(e,n)}function $C(e,t){e:for(;e;){for(let n of t){let r=e.getTextContent().match(n.importRegExp);if(!r)continue;let o,i,a=r.index||0,l=a+r[0].length;0===a?[o,e]=e.splitText(l):[,o,i]=e.splitText(a,l),i&&$C(i,t),n.replace(o,r);continue e}break}}function FC(e,t,n){let r=n.length;for(;t>=r;t--){let o=t-r;if(BC(e,o,n,0,r)&&" "!==e[o+r])return o}return-1}function BC(e,t,n,r,o){for(let i=0;i<o;i++)if(e[t+i]!==n[r+i])return!1;return!0}let KC=e=>(t,n,r)=>{(r=e(r)).append(...n),t.replace(r),r.select(0,0)},zC=e=>(t,n,r)=>{var o=t.getPreviousSibling(),i=t.getNextSibling();const a=hC.$createListItemNode("check"===e?"x"===r[3]:void 0);hC.$isListNode(i)&&i.getListType()===e?(null!==(o=i.getFirstChild())?o.insertBefore(a):i.append(a),t.remove()):hC.$isListNode(o)&&o.getListType()===e?(o.append(a),t.remove()):((i=hC.$createListNode(e,"number"===e?Number(r[2]):void 0)).append(a),t.replace(i)),a.append(...n),a.select(0,0),(t=Math.floor(r[1].length/4))&&a.setIndent(t)},VC=(e,t,n)=>{const r=[];var o=e.getChildren();let i=0;for(const l of o)if(hC.$isListItemNode(l)){if(1===l.getChildrenSize()&&(o=l.getFirstChild(),hC.$isListNode(o))){r.push(VC(o,t,n+1));continue}o=" ".repeat(4*n);var a=e.getListType();a="number"===a?`${e.getStart()+i}. `:"check"===a?`- [${l.getChecked()?"x":" "}] `:"- ",r.push(o+a+t(l)),i++}return r.join("\n")},WC={dependencies:[mC.HeadingNode],export:(e,t)=>{if(!mC.$isHeadingNode(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:/^(#{1,6})\s/,replace:KC((e=>mC.$createHeadingNode("h"+e[1].length))),type:"element"},HC={dependencies:[mC.QuoteNode],export:(e,t)=>{if(!mC.$isQuoteNode(e))return null;e=t(e).split("\n"),t=[];for(const n of e)t.push("> "+n);return t.join("\n")},regExp:/^>\s/,replace:(e,t,n,r)=>{if(r&&(n=e.getPreviousSibling(),mC.$isQuoteNode(n)))return n.splice(n.getChildrenSize(),0,[gC.$createLineBreakNode(),...t]),n.select(0,0),void e.remove();(n=mC.$createQuoteNode()).append(...t),e.replace(n),n.select(0,0)},type:"element"},UC={dependencies:[pC.CodeNode],export:e=>{if(!pC.$isCodeNode(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:KC((e=>pC.$createCodeNode(e?e[1]:void 0))),type:"element"},jC={dependencies:[hC.ListNode,hC.ListItemNode],export:(e,t)=>hC.$isListNode(e)?VC(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:zC("bullet"),type:"element"},YC={dependencies:[hC.ListNode,hC.ListItemNode],export:(e,t)=>hC.$isListNode(e)?VC(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:zC("check"),type:"element"},GC={dependencies:[hC.ListNode,hC.ListItemNode],export:(e,t)=>hC.$isListNode(e)?VC(e,t,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:zC("number"),type:"element"},ZC={format:["code"],tag:"`",type:"text-format"},JC={format:["highlight"],tag:"==",type:"text-format"},qC={format:["bold","italic"],tag:"***",type:"text-format"},XC={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},QC={format:["bold"],tag:"**",type:"text-format"},ew={format:["bold"],intraword:!1,tag:"__",type:"text-format"},tw={format:["strikethrough"],tag:"~~",type:"text-format"},nw={format:["italic"],tag:"*",type:"text-format"},rw={format:["italic"],intraword:!1,tag:"_",type:"text-format"},ow={dependencies:[yC.LinkNode],export:(e,t,n)=>{if(!yC.$isLinkNode(e))return null;t=(t=e.getTitle())?`[${e.getTextContent()}](${e.getURL()} "${t}")`:`[${e.getTextContent()}](${e.getURL()})`;const r=e.getFirstChild();return 1===e.getChildrenSize()&&gC.$isTextNode(r)?n(r,t):t},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,r,o]=t;t=yC.$createLinkNode(r,{title:o});const i=gC.$createTextNode(n);i.setFormat(e.getFormat()),t.append(i),e.replace(t)},trigger:")",type:"text-match"},iw=[WC,HC,UC,jC,GC],aw=[ZC,qC,XC,QC,ew,JC,nw,rw,tw],lw=[ow],sw=[...iw,...aw,...lw];Cx.$convertFromMarkdownString=function(e,t=sw,n){return LC(t)(e,n)},Cx.$convertToMarkdownString=function(e=sw,t){return function(e){let t=EC(e),n=t.textFormat.filter((e=>1===e.format.length));return e=>{let r=[];e=(e||gC.$getRoot()).getChildren();for(let o of e)null!=(e=xC(o,t.element,n,t.textMatch))&&r.push(e);return r.join("\n\n")}}(e)(t)},Cx.BOLD_ITALIC_STAR=qC,Cx.BOLD_ITALIC_UNDERSCORE=XC,Cx.BOLD_STAR=QC,Cx.BOLD_UNDERSCORE=ew,Cx.CHECK_LIST=YC,Cx.CODE=UC,Cx.ELEMENT_TRANSFORMERS=iw,Cx.HEADING=WC,Cx.HIGHLIGHT=JC,Cx.INLINE_CODE=ZC,Cx.ITALIC_STAR=nw,Cx.ITALIC_UNDERSCORE=rw,Cx.LINK=ow,Cx.ORDERED_LIST=GC,Cx.QUOTE=HC,Cx.STRIKETHROUGH=tw,Cx.TEXT_FORMAT_TRANSFORMERS=aw,Cx.TEXT_MATCH_TRANSFORMERS=lw,Cx.TRANSFORMERS=sw,Cx.UNORDERED_LIST=jC,Cx.registerMarkdownShortcuts=function(e,t=sw){let n=EC(t),r=_C(n.textFormat,(({tag:e})=>e[e.length-1])),o=_C(n.textMatch,(({trigger:e})=>e));for(let i of t)if("element"===(t=i.type)||"text-match"===t){t=i.dependencies;for(let n of t)if(!e.hasNode(n))throw Error(`MarkdownShortcuts: missing dependency ${n.getType()} for transformer. Ensure node dependency is included in editor initial config.`)}return e.registerUpdateListener((({tags:t,dirtyLeaves:i,editorState:a,prevEditorState:l})=>{if(!t.has("historic")&&!e.isComposing()){var s=a.read(gC.$getSelection);if(t=l.read(gC.$getSelection),gC.$isRangeSelection(t)&&gC.$isRangeSelection(s)&&s.isCollapsed()){l=s.anchor.key;var u=s.anchor.offset,c=a._nodeMap.get(l);!gC.$isTextNode(c)||!i.has(l)||1!==u&&u>t.anchor.offset+1||e.update((()=>{if(!c.hasFormat("code")){var e=c.getParent();if(null!==e&&!pC.$isCodeNode(e)){var t=s.anchor.offset;e:{var i=n.element,a=e.getParent();if(gC.$isRootOrShadowRoot(a)&&e.getFirstChild()===c&&" "===(a=c.getTextContent())[t-1])for(let{regExp:n,replace:r}of i)if((i=a.match(n))&&i[0].length===t){a=c.getNextSiblings();let[n,o]=c.splitText(t);n.remove(),r(e,a=o?[o,...a]:a,i,!1),e=!0;break e}e=!1}if(!e){e:{if(i=c.getTextContent(),null!=(e=o[i[t-1]]))for(u of(t<i.length&&(i=i.slice(0,t)),e))if(null!==(e=i.match(u.regExp))){a=(i=e.index||0)+e[0].length;var l=void 0;0===i?[l]=c.splitText(a):[,l]=c.splitText(i,a),l.selectNext(0,0),u.replace(l,e);var u=!0;break e}u=!1}if(!u)e:{var d=(a=c.getTextContent())[--t];if(u=r[d])for(let n of u){var{tag:f}=n;let r=t-(u=f.length)+1;if(!(1<u&&!BC(a,r,f,0,u)||" "===a[r-1])&&(l=a[t+1],!1!==n.intraword||!l||bC.test(l))){e=l=c,i=FC(a,r,f);for(var g=e;0>i&&(g=g.getPreviousSibling())&&!gC.$isLineBreakNode(g);)gC.$isTextNode(g)&&(i=g.getTextContent(),e=g,i=FC(i,i.length,f));if(!(0>i||e===l&&i+u===r||(f=e.getTextContent(),0<i&&f[i-1]===d||(g=f[i-1],!1===n.intraword&&g&&!bC.test(g))))){a=(a=l.getTextContent()).slice(0,r)+a.slice(t+1),l.setTextContent(a),a=e===l?a:f,e.setTextContent(a.slice(0,i)+a.slice(i+u)),a=gC.$getSelection(),d=gC.$createRangeSelection(),gC.$setSelection(d),t=t-u*(e===l?2:1)+1,d.anchor.set(e.__key,i,"text"),d.focus.set(l.__key,t,"text");for(let e of n.format)d.hasFormat(e)||d.formatText(e);d.anchor.set(d.focus.key,d.focus.offset,d.focus.type);for(let e of n.format)d.hasFormat(e)&&d.toggleFormat(e);gC.$isRangeSelection(a)&&(d.format=a.format);break e}}}}}}}}))}}}))};var uw=Cx,cw={},dw=uw,fw=pt,gw=Bc,pw=e;let hw=[{dependencies:[gw.HorizontalRuleNode],export:e=>gw.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{t=gw.$createHorizontalRuleNode(),r||null!=e.getNextSibling()?e.replace(t):e.insertBefore(t),t.selectNext()},type:"element"},...dw.TRANSFORMERS];cw.DEFAULT_TRANSFORMERS=hw,cw.MarkdownShortcutPlugin=function({transformers:e=hw}){let[t]=fw.useLexicalComposerContext();return pw.useEffect((()=>dw.registerMarkdownShortcuts(t,e)),[t,e]),null};var mw=cw;const[vw]=ru({id:"markdown-shortcut",dependencies:[],systemSpec:Xs((e=>({})),[lu]),init:(e,t,n)=>{const r=n.includes("headings")?e.getKeyValue("allowedHeadingLevels"):[],o=function(e,t){const n=[uw.BOLD_ITALIC_STAR,uw.BOLD_ITALIC_UNDERSCORE,uw.BOLD_STAR,uw.BOLD_UNDERSCORE,uw.INLINE_CODE,uw.ITALIC_STAR,uw.ITALIC_UNDERSCORE];if(e.includes("headings")){const e=Math.min(...t),r=Math.max(...t),o=new RegExp(`^(#{${e},${r}})\\s`),i={dependencies:[$l.HeadingNode],export:(e,t)=>{if(!$l.$isHeadingNode(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:o,replace:yw((e=>{const t=`h${e[1].length}`;return $l.$createHeadingNode(t)})),type:"element"};n.push(i)}e.includes("quote")&&n.push(uw.QUOTE);e.includes("link")&&n.push(uw.LINK);e.includes("lists")&&n.push(uw.ORDERED_LIST,uw.UNORDERED_LIST);if(e.includes("codeblock")){const e={...uw.CODE,dependencies:[Jv],replace:(e,t,n)=>{const r=ey({code:"",language:n?n[1]:"",meta:""});e.replace(r),setTimeout((()=>r.select()),80)}};n.push(e)}return n}(n,r);e.pubKey("addComposerChild",(()=>v.createElement(mw.MarkdownShortcutPlugin,{transformers:o}))),e.pubKey("addNestedEditorChild",(()=>v.createElement(mw.MarkdownShortcutPlugin,{transformers:o})))}}),yw=e=>(t,n,r)=>{const o=e(r);o.append(...n),t.replace(o),o.select(0,0)};const _w=()=>{const e=uu.usePublisher("convertSelectionToNode"),[t]=uu.useEmitterValues("currentBlockType"),n=iu("quote"),r=iu("headings");if(!n&&!r)return null;const o=[{label:"Đoạn văn",value:"paragraph"}];if(n&&o.push({label:"Trích dẫn",value:"quote"}),r){const[e]=Ec.useEmitterValues("allowedHeadingLevels");o.push(...e.map((e=>({label:`Tiêu đề ${e}`,value:`h${e}`}))))}return v.createElement(ux,{value:t,onChange:t=>{switch(t){case"quote":e((()=>$l.$createQuoteNode()));break;case"paragraph":e((()=>ma.$createParagraphNode()));break;default:if(""==t);else{if(!t.startsWith("h"))throw new Error(`Unknown block type: ${t}`);e((()=>$l.$createHeadingNode(t)))}}},triggerTitle:"Chọn kiểu chữ",placeholder:"Kiểu chữ",items:o})},Ew=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M6.8 19V5h5.525c1.083 0 2.083.333 3 1 .917.667 1.375 1.592 1.375 2.775 0 .85-.192 1.504-.575 1.962-.383.459-.742.788-1.075.988.417.183.88.525 1.388 1.025.508.5.762 1.25.762 2.25 0 1.483-.542 2.521-1.625 3.113-1.083.591-2.1.887-3.05.887H6.8Zm3.025-2.8h2.6c.8 0 1.287-.204 1.462-.613.175-.408.263-.704.263-.887 0-.183-.088-.48-.263-.888-.175-.408-.687-.612-1.537-.612H9.825v3Zm0-5.7h2.325c.55 0 .95-.142 1.2-.425a1.4 1.4 0 0 0 .375-.95c0-.4-.142-.725-.425-.975-.283-.25-.65-.375-1.1-.375H9.825V10.5Z"}))),bw=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M5 19v-2.5h4l3-9H8V5h10v2.5h-3.5l-3 9H15V19H5Z"}))),xw=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M5 21v-2h14v2H5Zm7-4c-1.683 0-2.992-.525-3.925-1.575-.933-1.05-1.4-2.442-1.4-4.175V3H9.25v8.4c0 .933.233 1.692.7 2.275.467.583 1.15.875 2.05.875.9 0 1.583-.292 2.05-.875.467-.583.7-1.342.7-2.275V3h2.575v8.25c0 1.733-.467 3.125-1.4 4.175C14.992 16.475 13.683 17 12 17Z"}))),Cw=()=>{const[e]=uu.useEmitterValues("currentFormat"),t=uu.usePublisher("applyFormat"),n=0!=(1&e),r=0!=(2&e),o=0!=(8&e),i=n?"Bỏ chữ đậm":"Chữ đậm",a=r?"Bỏ chữ nghiêng":"Chữ nghiêng",l=o?"Bỏ chữ gạch chân":"Chữ gạch chân";return v.createElement(vx,{items:[{title:i,contents:v.createElement(Ew,null),active:n,onChange:t.bind(null,"bold")},{title:a,contents:v.createElement(bw,null),active:r,onChange:t.bind(null,"italic")},{title:l,contents:v.createElement(xw,{style:{transform:"translateY(2px)"}}),active:o,onChange:t.bind(null,"underline")}]})},ww=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...t},e.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},e.createElement("path",{d:"M0 0h24v24H0z"})),e.createElement("g",{mask:"url(#a)"},e.createElement("path",{d:"M11 17H7c-1.383 0-2.562-.488-3.537-1.463C2.488 14.562 2 13.383 2 12s.488-2.563 1.463-3.538C4.438 7.487 5.617 7 7 7h4v2H7c-.833 0-1.542.292-2.125.875A2.893 2.893 0 0 0 4 12c0 .833.292 1.542.875 2.125A2.893 2.893 0 0 0 7 15h4v2Zm-3-4v-2h8v2H8Zm5 4v-2h4c.833 0 1.542-.292 2.125-.875A2.893 2.893 0 0 0 20 12c0-.833-.292-1.542-.875-2.125A2.893 2.893 0 0 0 17 9h-4V7h4c1.383 0 2.563.487 3.538 1.462C21.513 9.437 22 10.617 22 12s-.487 2.562-1.462 3.537C19.563 16.512 18.383 17 17 17h-4Z"}))),Nw=()=>{const e=kE.usePublisher("openLinkEditDialog");return v.createElement(gx,{title:"Tạo liên kết",onClick:t=>e(!0)},v.createElement(ww,null))},Tw=t=>e.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("mask",{id:"mask0_343_38",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},e.createElement("rect",{width:24,height:24,fill:"#D9D9D9"})),e.createElement("g",{mask:"url(#mask0_343_38)"},e.createElement("path",{d:"M3 21V3H14V5H5V19H19V10H21V21H3ZM17 9V7H15V5H17V3H19V5H21V7H19V9H17ZM6 17H18L14.25 12L11.25 16L9 13L6 17Z",fill:"currentColor"}))),Sw=v.forwardRef(((e,t)=>{const n=Vv.usePublisher("openNewImageDialog"),[r]=uu.useEmitterValues("readOnly");return v.createElement(Lp,{className:_u.toolbarButton,ref:t,disabled:r,onClick:()=>n(!0)},v.createElement(ix,{title:"Chèn ảnh"},v.createElement(Tw,null)))})),kw=t=>e.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("mask",{id:"mask0_404_65",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},e.createElement("rect",{width:24,height:24,fill:"#D9D9D9"})),e.createElement("g",{mask:"url(#mask0_404_65)"},e.createElement("path",{d:"M9.9 19C8.28333 19 6.89583 18.475 5.7375 17.425C4.57917 16.375 4 15.0667 4 13.5C4 11.9333 4.57917 10.625 5.7375 9.575C6.89583 8.525 8.28333 8 9.9 8H16.2L13.6 5.4L15 4L20 9L15 14L13.6 12.6L16.2 10H9.9C8.85 10 7.9375 10.3333 7.1625 11C6.3875 11.6667 6 12.5 6 13.5C6 14.5 6.3875 15.3333 7.1625 16C7.9375 16.6667 8.85 17 9.9 17H17V19H9.9Z",fill:"currentColor"}))),Aw=t=>e.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("mask",{id:"mask0_404_71",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},e.createElement("rect",{width:24,height:24,fill:"#D9D9D9"})),e.createElement("g",{mask:"url(#mask0_404_71)"},e.createElement("path",{d:"M7 19V17H14.1C15.15 17 16.0625 16.6667 16.8375 16C17.6125 15.3333 18 14.5 18 13.5C18 12.5 17.6125 11.6667 16.8375 11C16.0625 10.3333 15.15 10 14.1 10H7.8L10.4 12.6L9 14L4 9L9 4L10.4 5.4L7.8 8H14.1C15.7167 8 17.1042 8.525 18.2625 9.575C19.4208 10.625 20 11.9333 20 13.5C20 15.0667 19.4208 16.375 18.2625 17.425C17.1042 18.475 15.7167 19 14.1 19H7Z",fill:"currentColor"}))),Ow=()=>{const[e]=uu.useEmitterValues("activeEditor"),[t,n]=v.useState(!1),[r,o]=v.useState(!1);return v.useEffect((()=>{if(e)return $a.mergeRegister(e.registerCommand(ma.CAN_UNDO_COMMAND,(e=>(n(e),!1)),ma.COMMAND_PRIORITY_CRITICAL),e.registerCommand(ma.CAN_REDO_COMMAND,(e=>(o(e),!1)),ma.COMMAND_PRIORITY_CRITICAL))}),[e]),v.createElement(vx,{items:[{title:zs?"Hoàn tác (⌘Z)":"Hoàn tác (Ctrl+Z)",disabled:!t,contents:v.createElement(Aw,null),active:!1,onChange:()=>null==e?void 0:e.dispatchCommand(ma.UNDO_COMMAND,void 0)},{title:zs?"Làm lại (⌘Y)":"Làm lại (Ctrl+Y)",disabled:!r,contents:v.createElement(kw,null),active:!1,onChange:()=>null==e?void 0:e.dispatchCommand(ma.REDO_COMMAND,void 0)}]})};function Rw({markdown:e,onChange:t,disabled:n}){return N.jsx(T,{variant:"outlined",sx:!0===n?{borderRadius:"sm",overflow:"hidden",opacity:.5,pointerEvents:"none"}:{borderRadius:"sm",overflow:"hidden"},children:N.jsx(fc,{markdown:e,className:"MD_Editor",onChange:t,placeholder:"Vui lòng ghi nội dung bài viết (bắt buộc)",plugins:[_c(),SE(),Nh(),zv({imageUploadHandler:async e=>{const t=new FormData;return t.append("image",e),new Promise(((e,n)=>{k({url:"imageUploader",data:t,topLoading:!0,success:t=>{e(t.data.url??"")},error:e=>{n(e.message?e.message:"Lỗi không xác định!")}})}))},disableImageResize:!0}),vw(),Ex({toolbarContents:()=>N.jsxs(N.Fragment,{children:[N.jsx(Cw,{}),N.jsx(_w,{}),N.jsx(Sw,{}),N.jsx(Nw,{}),N.jsx(S,{orientation:"vertical"}),N.jsx(Ow,{})]})})]})})}function Iw(){const t=A(),n=O(),[r,o]=e.useState(null),[i,a]=e.useState(""),[l,s]=e.useState(""),[u,c]=e.useState(""),[d,f]=e.useState(!1),[g,p]=e.useState(0),h=e.useCallback((async()=>{if(i.length<5||i.length>125)return void t.error("Tiêu đề phải trên 5 ký tự và không quá 125 ký tự");if(l.length<5)return void t.error("Vui lòng nhập nội dung bài viết");if(!u)return void t.error("Vui lòng hoàn tất xác minh!");const e=new FormData;null!==r&&e.append("cover",r),e.append("title",i),e.append("content",l),e.append("token",u),e.append("type",String(g));try{f(!0);if(!0===(await R({url:"uploadPost",method:"POST",data:e})).ok)return t.success("Đã đăng bài viết"),void n("/")}catch(o){f(!1),t.error(o.message?o.message:"Lỗi không xác định!")}}),[u,l,i,r,g]);return e.useEffect((()=>{function e(e){""===l&&""===i&&null===r||(e.preventDefault(),e.returnValue="")}return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[l,i,r]),N.jsx("div",{className:U.HomePost,children:N.jsxs(I,{variant:"soft",className:U.Main,children:[N.jsxs(D,{sx:{pt:0},children:[N.jsx(M,{component:L,to:"/",children:N.jsx("i",{className:"fa-solid fa-chevron-left"})}),N.jsx(P,{level:"title-lg",children:"Tạo bài viết mới"})]}),N.jsx(S,{}),N.jsxs($,{children:[N.jsxs(F,{disabled:d,sx:{mb:2},children:[N.jsx(B,{children:"Ảnh bìa"}),N.jsx(j,{disabled:d,onChange:o}),N.jsx(K,{children:"Tỉ lệ ảnh bìa hoàn hảo nhất là 41/18 (không bắt buộc)"})]}),N.jsxs(F,{disabled:d,sx:{mb:2},children:[N.jsxs(B,{children:["Tiêu đề",N.jsx(P,{color:"danger",children:"*"})]}),N.jsx(z,{disabled:d,value:i,onChange:e=>a(e.target.value),placeholder:"Vui lòng ghi tiêu đề (bắt buộc)"})]}),N.jsxs(F,{disabled:d,sx:{mb:2},children:[N.jsxs(B,{children:["Nội dung",N.jsx(P,{color:"danger",children:"*"})]}),N.jsx(Rw,{disabled:d,onChange:s,markdown:""})]}),N.jsxs(F,{disabled:d,children:[N.jsx(B,{children:"Loại"}),N.jsxs(V,{value:g,onChange:(e,t)=>p(t??0),defaultValue:0,children:[N.jsx(W,{value:0,disabled:!0,children:"Vui lòng chọn 1 cái"}),N.jsx(W,{value:1,children:"Bàn luận"}),N.jsx(W,{value:2,children:"Chia sẻ"}),N.jsx(W,{value:3,children:"Tin tức"})]})]})]}),N.jsx(Y,{onSuccess:c,onError:()=>c(""),onExpire:()=>c("")}),N.jsx(D,{children:N.jsx(H,{disabled:d||i.length<5||i.length>125||l.length<5||!u,loading:d,loadingPosition:"start",onClick:h,variant:"soft",children:"Tạo bài viết mới"})})]})})}export{Iw as default};
