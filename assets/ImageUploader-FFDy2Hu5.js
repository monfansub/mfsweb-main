import{u as a,r as e,al as l,j as i,aZ as t,c as s,af as n,b3 as r,b4 as f,T as o,b as c}from"./index-aT0gUlje.js";const d={HomePost:"_HomePost_1gfoo_1",Main:"_Main_1gfoo_7"},h="_ImageUploader_1tfjm_1",g="_disabled_1tfjm_5",p="_BgPreview_1tfjm_9",m="_fitContain_1tfjm_21",x="_Overlay_1tfjm_24",j="_Preview_1tfjm_35",u="_UploadArea_1tfjm_50",v="_HiddenUpload_1tfjm_67",_="_Loading_1tfjm_77",w="_selected_1tfjm_89";function y({className:d,ratio:y,onChange:z,fit:C,disabled:b}){const M=a(),[k,N]=e.useState(null),[S,H]=e.useState(""),P=e.useRef(null),[R,B]=e.useState(!1);e.useEffect((()=>{if(z&&z(k),null!==k){var a=new FileReader;a.onload=a=>{null!==a.target&&H(String(a.target.result)),B(!1)},a.readAsDataURL(k)}else H("")}),[k]);const I=e.useCallback((()=>{if(""!==S){var a=new Image;a.src=S;var e=new l(a,{hidden:function(){e.destroy()},title:!1,navbar:!1});e.show()}}),[S]);return e.useEffect((()=>()=>{H(""),N(null)}),[]),i.jsx(t,{variant:"outlined",sx:{borderRadius:"sm"},className:s(h,""!==S&&d,"contain"===C&&m,!0===b&&g),children:i.jsxs(n,{ratio:y??"41/18",children:[i.jsx(r,{containerClass:p,src:S}),i.jsxs("div",{className:s(x,null!==k&&w),children:[R&&i.jsx("div",{className:_,children:i.jsx(f,{})}),i.jsxs("div",{className:j,children:[i.jsx(o,{onClick:I,sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},level:"title-sm",children:null!==k&&k.name}),i.jsx(c,{sx:{flex:"none",ml:2},onClick:()=>{var a;return null==(a=P.current)?void 0:a.click()},color:"primary",variant:"soft",size:"sm",children:"Đổi ảnh"}),i.jsx(c,{sx:{flex:"none",ml:1},onClick:()=>{N(null)},color:"danger",variant:"soft",size:"sm",children:"Huỷ"})]}),i.jsxs("div",{className:u,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0",y:"0",viewBox:"0 0 512 512",xmlSpace:"preserve",children:i.jsxs("g",{children:[i.jsxs("g",{fillRule:"evenodd",clipRule:"evenodd",children:[i.jsx("path",{fill:"#eaf2ff",d:"M25.355 61.96h388.401c13.96 0 25.355 11.424 25.355 25.355v367.038c0 13.931-11.395 25.355-25.355 25.355H25.355C11.395 479.709 0 468.284 0 454.353V87.315C0 73.384 11.395 61.96 25.355 61.96z",opacity:"1","data-original":"#eaf2ff"}),i.jsx("path",{fill:"#3fa9f5",d:"M42.725 175.388h353.661v261.596H42.725z",opacity:"1","data-original":"#3fa9f5"}),i.jsx("path",{fill:"#76c64f",d:"m196.168 436.984 106.783-112.088 93.435 112.088z",opacity:"1","data-original":"#76c64f"}),i.jsx("path",{fill:"#5fa040",d:"m196.168 436.984 78.455-82.361 68.634 82.361z",opacity:"1","data-original":"#5fa040"}),i.jsx("path",{fill:"#a8df59",d:"m42.725 436.984 150.412-157.873 131.584 157.873z",opacity:"1","data-original":"#a8df59"}),i.jsx("path",{fill:"#fdc92f",d:"M120.073 274.157c15.038 0 27.308-12.27 27.308-27.308s-12.27-27.308-27.308-27.308-27.308 12.27-27.308 27.308 12.27 27.308 27.308 27.308z",opacity:"1","data-original":"#fdc92f"}),i.jsx("path",{fill:"#518ef8",d:"M417.749 220.794c51.934 0 94.251-42.317 94.251-94.251 0-51.905-42.317-94.251-94.251-94.251-51.905 0-94.251 42.346-94.251 94.251-.001 51.934 42.345 94.251 94.251 94.251z",opacity:"1","data-original":"#518ef8"}),i.jsx("path",{fill:"#3478ed",d:"M411.599 32.495c49.166 3.177 88.073 44.066 88.073 94.047 0 40.189-25.151 74.492-60.561 88.073a94.87 94.87 0 0 1-27.512 6.004c2.011.117 4.08.175 6.149.175 7.344 0 14.514-.816 21.362-2.419 41.764-9.676 72.89-47.125 72.89-91.832 0-52.051-42.2-94.251-94.251-94.251a85.38 85.38 0 0 0-6.15.203z",opacity:"1","data-original":"#3478ed"})]}),i.jsx("path",{fill:"#eaf2ff",d:"M380.059 111.166a7.184 7.184 0 0 1-.005-10.16l32.612-32.641a7.181 7.181 0 0 1 5.08-2.106h.001c1.905 0 3.733.757 5.08 2.104l32.641 32.641a7.184 7.184 0 0 1-10.16 10.159l-20.377-20.377v62.685a7.184 7.184 0 0 1-14.368 0V90.797l-20.346 20.364a7.159 7.159 0 0 1-5.082 2.106 7.153 7.153 0 0 1-5.076-2.101zm75.052 61.293h-74.725a7.184 7.184 0 0 0 0 14.368h74.725a7.184 7.184 0 0 0 0-14.368z",opacity:"1","data-original":"#eaf2ff"})]})}),i.jsx(o,{level:"title-sm",children:"Chọn ảnh từ thiết bị của bạn"}),i.jsx(o,{fontSize:10,level:"body-xs",children:"Tệp tối đa 5MB - Kéo thả ảnh vào đây hoặc nhấn để chọn ảnh"}),i.jsx("input",{ref:P,onChange:a=>{if(N(null),null!==a.target.files)if(0!==a.target.files.length&&a.target.files[0].type.includes("image/jpeg")||a.target.files[0].type.includes("image/png")||a.target.files[0].type.includes("image/gif")){if(B(!0),a.target.files[0].size>5242880)return M.error("Tệp quá lớn, vui lòng chọn tệp khác và thử lại ("+Math.round(a.target.files[0].size/1e6)+"MB)"),a.target.value="",void B(!1);N(a.target.files[0])}else a.target.value="",M.error("Chỉ chấp nhận tệp ảnh! (PNG, JPEG, GIF)"),B(!1)},type:"file",className:v,accept:"image/jpeg, image/png, image/gif"})]})]})]})})}export{y as I,d as c};
